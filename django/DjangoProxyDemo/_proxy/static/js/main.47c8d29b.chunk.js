(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";var r=n(39),a=n(4),c=n(8),o=n(0),i=n(2),s=n(7);function l(){var e=Object(r.a)(["\n        display: none;\n      "]);return l=function(){return e},e}var u=Object(s.style)({prop:"bgHover",cssProperty:"background-color",key:"colors"}),d=Object(s.style)({prop:"colorHover",cssProperty:"color",key:"colors"}),f=Object(s.style)({prop:"borderColorHover",cssProperty:"border-color",key:"colors"}),p=Object(s.style)({prop:"bgDisabled",cssProperty:"background-color",key:"colors"}),m=Object(s.style)({prop:"colorDisabled",cssProperty:"color",key:"colors"}),b=Object(s.style)({prop:"borderColorDisabled",cssProperty:"border-color",key:"colors"});i.Button.defaultProps={};var g=Object(s.style)({prop:"lineHeight",cssProperty:"lineHeight",key:"lineHeights",transformValue:function(e,t){return void 0!==t[e]?t[e]:0!==e&&Number.isInteger(e)?e+"px":e}}),h=Object(c.default)(i.Button).attrs(function(e){switch(e.variant){case"primary":return Object(a.a)({bg:"primary_2",bgHover:"primary_1",bgDisabled:"neutral_4",border:"none",borderRadius:"normal",boxShadow:"1px 3px 5px 0 rgba(80, 100, 254, 0.17)",color:"neutral_0",fontSize:e.large?2:1,fontWeight:e.large?1:0,lineHeight:"normal",py:e.large?"10px":"6px",px:3},e);case"secondary":return Object(a.a)({bg:"transparent",border:"1px solid",borderColor:"primary_2",borderColorHover:"primary_1",borderColorDisabled:"neutral_4",borderRadius:"normal",color:"primary_2",colorHover:"primary_1",colorDisabled:"neutral_4",fontSize:e.large?2:1,fontWeight:e.large?1:0,lineHeight:"normal",py:e.large?"9px":"5px",px:3},e);case"inverse":return Object(a.a)({bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:e.large?2:1,fontWeight:e.large?1:0,lineHeight:"normal",py:e.large?"10px":"6px",px:3},e);case"plain":return Object(a.a)({bg:"transparent",border:"none",color:"neutral_0",fontSize:e.large?2:1,fontWeight:1,lineHeight:"small",p:0},e);case"icon":return Object(a.a)({bg:"transparent",bgHover:"primary_2",border:"none",borderRadius:"normal",color:"neutral_6",colorHover:"neutral_0",fontSize:"16px",lineHeight:0,p:"12px"},e);case"headerIcon":return Object(a.a)({bg:e.active?"primary_2":"neutral_0",bgHover:e.active?"primary_1":"neutral_1",border:"none",color:e.active?"neutral_0":"neutral_6",colorHover:e.active?"neutral_0":"neutral_6",fontSize:"16px",lineHeight:0,p:"20px"},e);case"plainIcon":return Object(a.a)({bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",colorHover:"neutral_7",fontSize:"10px",lineHeight:0,p:2},e)}}).withConfig({displayName:"Button",componentId:"eg97wo-0"})(["align-self:center;"," "," cursor:",";transition:all .2s ease;&:hover:not(:disabled){"," "," ","}&:disabled{"," "," "," box-shadow:none;","}"],s.letterSpacing,g,function(e){return e.disabled?"not-allowed":"pointer"},u,d,f,p,m,b,function(e){return("icon"===e.variant||"headerIcon"===e.variant)&&Object(c.css)(l())});h.defaultProps={as:"button",variant:"primary",letterSpacing:0,large:!1},t.a=o.memo(h)},101:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),a=Object(r.createAsyncAction)("FETCH ANALYTICS","FETCH ANALYTICS SUGGEST","FETCH ANALYTICS FAILURE")();Object(r.createStandardAction)("SET ANALYTICS RANGE")()},102:function(e,t,n){"use strict";var r=n(8),a=n(2),c=n(7),o=Object(r.default)(a.Flex).withConfig({displayName:"Menu",componentId:"sc-1izjkmv-0"})([""," list-style:none;"],c.height);o.defaultProps={as:"ul",m:0,pl:0,flexDirection:"row"},t.a=o},12:function(e,t,n){"use strict";n.d(t,"e",function(){return f}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return p});var r,a,c=n(4),o=n(27),i=n(9),s=n(1),l=n(295),u=n.n(l),d=n(23),f="current";!function(e){e.Create="create",e.Read="read",e.List="read",e.Update="update",e.Delete="delete"}(r||(r={})),function(e){e.ActionPrediction="actionPrediction",e.AllEvaluations="allEvaluations",e.Analytics="analytics",e.BulkData="bulkData",e.BulkResponseTemplates="bulkResponseTemplates",e.BulkStories="bulkStories",e.ChatToken="chatToken",e.ClientEvaulation="clientEvaluation",e.ClientEvents="clientEvents",e.ClientMessages="clientMessages",e.Clients="clients",e.ConversationActions="conversationActions",e.ConversationEntities="conversationEntities",e.ConversationIntents="conversationIntents",e.ConversationPolicies="conversationPolicies",e.Domain="domain",e.Environments="environments",e.Examples="examples",e.Features="features",e.Intents="intents",e.Logs="logs",e.MessageFlags="messageFlags",e.MessageIntents="messageIntents",e.Messages="messages",e.Metadata="metadata",e.Models="models",e.NLGResponse="nlgResponse",e.Projects="projects",e.ResponseTemplates="responseTemplates",e.Roles="roles",e.Statistics="statistics",e.Stories="stories",e.User="user",e.UserGoals="userGoals",e.Users="users",e.Warnings="warnings"}(a||(a={}));var p={accessToken:null,apiToken:"",error:null,features:[],loading:!1,role:["none"],username:null,permissions:[],newEnterpriseUser:!1,enterpriseUser:!1},m={get:"read",list:"read"};t.d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Object(s.getType)(d.g.failure):return Object(c.a)({},t,{error:n.payload,accessToken:null,username:null});case Object(s.getType)(d.f.success):case Object(s.getType)(d.c.success):case Object(s.getType)(d.g.success):var r=n.payload.access_token,l=u()(r),b=l.username,g=l.scopes,h=l.user,v=h.roles,E=h.api_token,O=Object(c.a)({},t,{error:null,accessToken:r,username:b,permissions:(e=g,e.reduce(function(e,t){var n=t.split(":"),r=Object(i.a)(n,2),c=r[0],s=r[1],l=c.split("."),u=m[s]||s,d=Object.entries(a).find(function(e){return Object(i.a)(e,2)[1]===l[0]});if(void 0===d)return e;var p=a[d[0]],b=l.slice(1);if(0===b.length)b=["*"];else{var g=e.find(function(e){return e.resource===p&&e.action===u});b=g?[].concat(Object(o.a)(g.attributes),Object(o.a)(b)):b}return[].concat(Object(o.a)(e),[{role:f,resource:p,action:u,possession:"any",attributes:b}])},[]))});if(n.type===Object(s.getType)(d.f.success))return O;var x=Object(c.a)({},O,{apiToken:E,role:v});return n.type===Object(s.getType)(d.g.success)?x:Object(c.a)({},x,{newEnterpriseUser:null===b,enterpriseUser:!0});case Object(s.getType)(d.h):var y=n.payload,j=new Error;return j.message="Authentication token expired",Object(c.a)({},p,{error:y?j:null});case Object(s.getType)(d.d.success):return Object(c.a)({},t,{features:n.payload});case Object(s.getType)(d.i.success):var C=n.payload;return Object(c.a)({},t,{features:t.features.map(function(e){return e.name===C.name?C:e})});case Object(s.getType)(d.b.success):var w=n.payload,S=w.username,k=w.api_token,T=w.roles;return Object(c.a)({},t,{error:null,username:S,apiToken:k,role:T});case Object(s.getType)(d.b.failure):return Object(c.a)({},t,{error:n.payload});case Object(s.getType)(d.c.failure):return Object(c.a)({},t,{error:n.payload,newEnterpriseUser:!1,enterpriseUser:!1});default:return t}}},124:function(e,t,n){"use strict";var r=n(18),a=n(39),c=n(8),o=n(0),i=n(2),s=n(7),l=n(20);function u(){var e=Object(a.a)(["\n      cursor: pointer;\n    "]);return u=function(){return e},e}var d=Object(c.default)(i.Card).withConfig({displayName:"Pill__Container",componentId:"sc-1vp9ajs-0"})([""," "," ",""],s.display,s.fontWeight,function(e){return e.onClick&&Object(c.css)(u())});function f(e){e.ref;var t=e.as,n=e.fontSize,a=e.fontWeight,c=e.children,i=e.color,s=Object(r.a)(e,["ref","as","fontSize","fontWeight","children","color"]);return o.createElement(d,s,o.createElement(l.a,{as:t,color:i,fontWeight:a,fontSize:n},c))}f.defaultProps={display:"inline-block",px:3,py:2,mr:2,fontSize:"12px",borderRadius:"100px",fontWeight:"bold"},t.a=o.memo(f)},13:function(e,t,n){"use strict";var r=n(39),a=n(18),c=n(0),o=n(8),i=n(299),s=n(7);function l(){var e=Object(r.a)([""," "," ",""]);return l=function(){return e},e}var u=Object(o.default)(function(e){e.color;var t=Object(a.a)(e,["color"]);return c.createElement(i.a,t)})(l(),s.space,s.color,s.fontSize);function d(e){var t=e.icon,n=Object(a.a)(e,["icon"]),r="string"===typeof t?["fal",t]:t;return c.createElement(u,Object.assign({icon:r,style:{width:"1em"}},n))}d.defaultProps={color:"inherit",fontSize:"inherit"},t.a=c.memo(d)},14:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"n",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"p",function(){return i}),n.d(t,"q",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"j",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"m",function(){return E}),n.d(t,"r",function(){return O}),n.d(t,"o",function(){return x});var r=n(1),a=Object(r.createAsyncAction)("FETCH CONVERSATION","FETCH CONVERSATION SUCCESS","FETCH CONVERSATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE MESSAGE","SAVE MESSAGE SUCCESS","SAVE MESSAGE FAILURE")(),o=Object(r.createStandardAction)("CHANGE CONVERSATION ENVIRONMENT")(),i=Object(r.createStandardAction)("START POLLING MESSAGES")(),s=Object(r.createStandardAction)("STOP POLLING MESSAGES")(),l=Object(r.createAsyncAction)("FETCH CONVERSATIONS","FETCH CONVERSATIONS SUCCESS","FETCH CONVERSATIONS FAILURE")(),u=Object(r.createAsyncAction)("FETCH STATISTICS","FETCH STATISTICS SUCCESS","FETCH STATISTICS FAILURE")(),d=Object(r.createStandardAction)("DOWNLOAD CONVERSATION")(),f=Object(r.createAsyncAction)("FETCH CONVERSATION INTENTS","FETCH CONVERSATION INTENTS SUCCESS","FETCH CONVERSATION INTENTS FAILURE")(),p=Object(r.createAsyncAction)("FETCH CONVERSATION ENTITIES","FETCH CONVERSATION ENTITIES SUCCESS","FETCH CONVERSATION ENTITIES FAILURE")(),m=Object(r.createAsyncAction)("FETCH CONVERSATION ACTIONS","FETCH CONVERSATION ACTIONS SUCCESS","FETCH CONVERSATION ACTIONS FAILURE")(),b=Object(r.createAsyncAction)("FETCH CONVERSATION POLICIES","FETCH CONVERSATION POLICIES SUCCESS","FETCH CONVERSATION POLICIES FAILURE")(),g=Object(r.createAsyncAction)("FETCH CHAT TOKEN","FETCH CHAT TOKEN SUCCESS","FETCH CHAT TOKEN FAILURE")(),h=Object(r.createAsyncAction)("FETCH BOT DETAILS","FETCH BOT DETAILS SUCCESS","FETCH BOT DETAILS FAILURE")(),v=Object(r.createStandardAction)("CHANGE FILTER")(),E=Object(r.createAsyncAction)("FLAG MESSAGE","FLAG MESSAGE SUCCESS","FLAG MESSAGE FAILURE")(),O=Object(r.createAsyncAction)("UNFLAG MESSAGE","UNFLAG MESSAGE SUCCESS","UNFLAG MESSAGE FAILURE")(),x=Object(r.createStandardAction)("SELECT INTENT")()},141:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(2),c=n(124),o=n(13);function i(e){var t=e.active,n=e.label,i=e.content,s=e.onChange,l=e.permanent,u=e.total;if(!l&&!t&&0===u)return null;var d="".concat(n).concat(void 0!==u?" (".concat(u,")"):"");return r.createElement(c.a,{as:"div",bg:t?"primary_2":"transparent",color:t?"neutral_0":"primary_2",border:t?"0 none":"1px solid",borderColor:"primary_2",fontWeight:"normal",onClick:s&&function(){return s(!t)}},r.createElement(a.Flex,{alignItems:"center"},r.createElement(a.Box,{flex:"1",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},r.createElement("b",null,d),i&&" ".concat(i)),s&&t&&r.createElement(a.Box,{ml:1},r.createElement(o.a,{icon:"times"}))))}},142:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(18),a=n(0),c=n.n(a),o=n(2),i=n(20);function s(e){var t=e.text,n=e.children,a=Object(r.a)(e,["text","children"]);return c.a.createElement(i.a,Object.assign({variant:"body.secondary",as:"label",fontWeight:700,width:"100%"},a),c.a.createElement(o.Box,{mb:2,children:t}),n)}},15:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"db",function(){return g}),n.d(t,"f",function(){return h}),n.d(t,"S",function(){return v}),n.d(t,"C",function(){return E}),n.d(t,"X",function(){return O}),n.d(t,"Y",function(){return x}),n.d(t,"qb",function(){return y}),n.d(t,"Z",function(){return j}),n.d(t,"n",function(){return C}),n.d(t,"c",function(){return w}),n.d(t,"Q",function(){return S}),n.d(t,"O",function(){return k}),n.d(t,"P",function(){return T}),n.d(t,"lb",function(){return A}),n.d(t,"yb",function(){return R}),n.d(t,"k",function(){return I}),n.d(t,"mb",function(){return F}),n.d(t,"J",function(){return _}),n.d(t,"I",function(){return N}),n.d(t,"ib",function(){return M}),n.d(t,"E",function(){return L}),n.d(t,"M",function(){return D}),n.d(t,"rb",function(){return U}),n.d(t,"i",function(){return P}),n.d(t,"tb",function(){return H}),n.d(t,"h",function(){return q}),n.d(t,"H",function(){return G}),n.d(t,"G",function(){return B}),n.d(t,"K",function(){return V}),n.d(t,"A",function(){return z}),n.d(t,"hb",function(){return W}),n.d(t,"wb",function(){return Y}),n.d(t,"g",function(){return Q}),n.d(t,"o",function(){return K}),n.d(t,"Ab",function(){return X}),n.d(t,"bb",function(){return J}),n.d(t,"D",function(){return Z}),n.d(t,"R",function(){return $}),n.d(t,"nb",function(){return ee}),n.d(t,"pb",function(){return te}),n.d(t,"z",function(){return ne}),n.d(t,"fb",function(){return re}),n.d(t,"B",function(){return ae}),n.d(t,"sb",function(){return ce}),n.d(t,"F",function(){return oe}),n.d(t,"W",function(){return ie}),n.d(t,"V",function(){return se}),n.d(t,"m",function(){return le}),n.d(t,"N",function(){return ue}),n.d(t,"kb",function(){return de}),n.d(t,"xb",function(){return fe}),n.d(t,"j",function(){return pe}),n.d(t,"U",function(){return me}),n.d(t,"ab",function(){return be}),n.d(t,"ob",function(){return ge}),n.d(t,"zb",function(){return he}),n.d(t,"l",function(){return ve}),n.d(t,"a",function(){return Ee}),n.d(t,"eb",function(){return Oe}),n.d(t,"p",function(){return xe}),n.d(t,"w",function(){return ye}),n.d(t,"v",function(){return je}),n.d(t,"u",function(){return Ce}),n.d(t,"x",function(){return we}),n.d(t,"s",function(){return Se}),n.d(t,"r",function(){return ke}),n.d(t,"y",function(){return Te}),n.d(t,"t",function(){return Ae}),n.d(t,"e",function(){return Re}),n.d(t,"cb",function(){return Ie}),n.d(t,"ub",function(){return Fe}),n.d(t,"T",function(){return _e}),n.d(t,"jb",function(){return Ne}),n.d(t,"gb",function(){return Me}),n.d(t,"vb",function(){return Le}),n.d(t,"L",function(){return De}),n.d(t,"d",function(){return Ue}),n.d(t,"q",function(){return Pe});var r=n(4),a=n(3),c=n.n(a),o=n(22),i=n(294),s=n.n(i),l=n(100),u=n.n(l),d=window.SERVER_DATA,f=d&&d.api_url||"/",p=u()(f,"/api"),m=s.a.create({baseURL:p}),b=function(e){return{Authorization:"Bearer ".concat(e)}},g=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth",{username:t,password:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("/user",{username:n},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/auth/saml");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth/enterpriseTokenLogin",{single_use_token:n},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/auth/jwt",{conversation_id:t,chat_token:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/users/".concat(n,"/roles"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/users/".concat(n.username,"/roles"),r.map(function(e){return e.role}),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/users",{params:{username:n,role:r,limit:a,offset:o},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{users:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/users/".concat(n.username),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/user/password",{username:n,old_password:r,new_password:a,new_password_confirm:o},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles",{params:{q:n,limit:r,offset:a},headers:b(t)});case 2:return o=e.sent,e.abrupt("return",{roles:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles/".concat(n),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/roles/".concat(n,"/users"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/roles",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/roles/".concat(r||n.role),n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/roles/".concat(n.role),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/roles/".concat(n.role,"/users"),r.map(function(e){return e.username}),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/health",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/features",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/features",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/environments",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/models"),{params:{limit:r,offset:a},headers:b(t)});case 2:return o=e.sent,e.abrupt("return",{models:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{},{headers:b(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{headers:b(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/models/jobs"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/models/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o,i){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/data"),{params:{q:r,intent:a,limit:o,offset:i},headers:b(t)});case 2:return s=e.sent,e.abrupt("return",{examples:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/data/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/intents"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/domainActions",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/data"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/data/").concat(r.id),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/data/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/data.json"),{headers:Object(r.a)({},b(t)),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(c.a.mark(function e(t,n,a,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/data"),a,{headers:Object(r.a)({},b(t),{"Content-Type":o})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/dataWarnings"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/entities"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/settings"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/settings"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/projects/".concat(n,"/logs"),{},{params:{q:r},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/domain",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(c.a.mark(function e(t,n,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/domain",n,{headers:Object(r.a)({},b(t),{"Content-Type":"application/x-yaml"}),params:{store_templates:a}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(){var e=Object(o.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/domainWarnings",{headers:b(t)});case 2:return n=e.sent,e.abrupt("return",Object(r.a)({},n.data,{total:Number(n.headers["x-total-count"])}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/projects/".concat(n,"/evaluations/").concat(r),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/evaluations/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o,i){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/logs"),{params:{q:r,intent:a,limit:o,offset:i},headers:b(t)});case 2:return s=e.sent,e.abrupt("return",{suggestions:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/projects/".concat(n,"/logs/").concat(r),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/projects/".concat(n,"/logs/").concat(r.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/templates",{params:{q:n,template:r,limit:a,offset:o},headers:b(t)});case 2:return i=e.sent,e.abrupt("return",{responses:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/templates",n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/templates/".concat(n.id),n,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/templates/".concat(n.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories",{params:{q:n,limit:r,offset:a},headers:b(t)});case 2:return o=e.sent,e.abrupt("return",{stories:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories",{params:{id:n.join(",")},headers:Object(r.a)({},b(t),{Accept:"text/vnd.graphviz"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/stories",n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/markdown"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/stories/".concat(n.id),n.story,{headers:Object(r.a)({},b(t),{"Content-Type":"text/markdown"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/stories/".concat(n.id),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(c.a.mark(function e(t,n,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/stories",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(o.a)(c.a.mark(function e(t,n,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/stories",n,{headers:Object(r.a)({},b(t),{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/stories.md",{headers:Object(r.a)({},b(t)),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationIntents",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationEntities",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationActions",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversationPolicies",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/chatToken",{bot_name:n,description:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ke=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/chatToken",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a,o,i,s,l,u,d,f,p){var g;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/conversations",{params:{limit:n,offset:r,start:a||void 0,until:o||void 0,maximumConfidence:i||void 0,minimumUserMessages:s||void 0,is_flagged:p||void 0,intent:l?l.join(","):void 0,entity:u?u.join(","):void 0,action:d?d.join(","):void 0,policies:f?f.join(","):void 0,exclude_self:!0},headers:b(t)});case 2:return g=e.sent,e.abrupt("return",{conversations:g.data,total:Number(g.headers["x-total-count"])});case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a,c,o,i,s,l,u,d,f){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(o.a)(c.a.mark(function e(t,n,a,o){var i,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o?{until:o,history:!1}:{},s=Object(r.a)({},i,{environment:a}),e.next=4,m.get("/conversations/".concat(n),{params:s,headers:b(t)});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(o.a)(c.a.mark(function e(t){var n,r=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,m.post("/conversations",{interactive:n},{headers:b(t)});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),_e=function(){var e=Object(o.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/statistics",{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/chat",{message:n},{params:{environment:r},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Me=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/events"),r,{params:{environment:a},headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.put("/conversations/".concat(n,"/events"),r,{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/predict"),{},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/conversations/".concat(n,"/execute"),{name:r},{headers:b(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(c.a.mark(function e(t,n,r,a){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={start:r,end:a,window:n},e.next=3,m.get("/analytics",{params:o,headers:b(t)});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},16:function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return o}),n.d(t,"j",function(){return i}),n.d(t,"l",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"n",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"o",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"m",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v});var r=n(1),a=Object(r.createAsyncAction)("FETCH EXAMPLES","FETCH EXAMPLES SUCCESS","FETCH EXAMPLES FAILURE")(),c=Object(r.createAsyncAction)("FETCH EXAMPLE","FETCH EXAMPLE SUCCESS","FETCH EXAMPLE FAILURE")(),o=Object(r.createAsyncAction)("FETCH INTENTS","FETCH INTENTS SUCCESS","FETCH INTENTS FAILURE")(),i=Object(r.createAsyncAction)("SAVE EXAMPLE","SAVE EXAMPLE SUCCESS","SAVE EXAMPLE FAILURE")(),s=Object(r.createAsyncAction)("SAVE EXAMPLE FROM SUGGESTION","SAVE EXAMPLE FROM SUGGESTION SUCCESS","SAVE EXAMPLE FROM SUGGESTION FAILURE")(),l=Object(r.createAsyncAction)("SAVE EXAMPLE FROM CORRECTION","SAVE EXAMPLE FROM CORRECTION SUCCESS","SAVE EXAMPLE FROM CORRECTION FAILURE")(),u=Object(r.createAsyncAction)("UPDATE EXAMPLE","UPDATE EXAMPLE SUCCESS","UPDATE EXAMPLE FAILURE")(),d=Object(r.createAsyncAction)("DELETE EXAMPLE","DELETE EXAMPLE SUCCESS","DELETE EXAMPLE FAILURE")(),f=Object(r.createAsyncAction)("UPLOAD EXAMPLES","UPLOAD EXAMPLES SUCCESS","UPLOAD EXAMPLES FAILURE")(),p=Object(r.createAsyncAction)("FETCH WARNINGS","FETCH WARNINGS SUCCESS","FETCH WARNINGS FAILURE")(),m=Object(r.createAsyncAction)("FETCH ENTITY TYPES","FETCH ENTITY TYPES SUCCESS","FETCH ENTITY TYPES FAILURE")(),b=Object(r.createStandardAction)("DOWNLOAD EXAMPLES")(),g=Object(r.createStandardAction)("SEARCH EXAMPLES")(),h=Object(r.createStandardAction)("CHANGE EXAMPLE")(),v=Object(r.createStandardAction)("CHANGE CORRECTION")()},163:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n(4),a=n(3),c=n.n(a),o=n(1),i=n(5),s=n(123),l=n(57),u=n.n(l),d=n(62),f=n(17),p=n(19),m=n(15),b=n(14),g=c.a.mark(F),h=c.a.mark(N),v=c.a.mark(M),E=c.a.mark(L),O=c.a.mark(D),x=c.a.mark(U),y=c.a.mark(P),j=c.a.mark(H),C=c.a.mark(q),w=c.a.mark(G),S=c.a.mark(B),k=c.a.mark(V),T=c.a.mark(z),A=c.a.mark(W),R=c.a.mark(Y),I=function(e){return{isOptimistic:!0,input_channel:null,text:e,timestamp:(new Date).getTime()/1e3,event:"user",is_flagged:!1,parse_data:{entities:[],intent:{name:"",confidence:0},text:e}}};function F(e,t){var n,r,a,o,s,l,d;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.filter,a=n.limit,o=n.offset,c.prev=1,c.next=4,Object(i.b)(m.y,e,a,o,r.date.from&&u()(r.date.from).toISOString(),r.date.to&&u()(r.date.to).toISOString(),r.confidence,r.minimumMessages,r.intents,r.entities,r.actions,r.policies,r.flaggedOnly);case 4:return s=c.sent,l=s.total,d=s.conversations,c.next=9,Object(i.f)(b.k.success({total:l,conversations:d,offset:o}));case 9:c.next=17;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(p.a)(c.t0);case 15:return c.next=17,Object(i.f)(b.k.failure(c.t0));case 17:case"end":return c.stop()}},g,null,[[1,11]])}var _={events:[],paused:!1,slots:{},latest_input_channel:null,flagged_messages:[],interactive:!1};function N(e,t){var n,a,o,s,l,u,d,f;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,a=n.conversationId,o=n.environment,s=n.timestamp,c.next=3,Object(i.h)(function(e){return e.auth.username});case 3:return l=c.sent,u=a===l,c.prev=5,c.next=8,Object(i.b)(m.t,e,a,o,s);case 8:return d=c.sent,c.next=11,Object(i.f)(b.f.success({conversation:d,currentUser:u}));case 11:c.next=24;break;case 13:return c.prev=13,c.t0=c.catch(5),c.next=17,Object(p.a)(c.t0);case 17:if(404!==c.t0.response.status||!u){c.next=22;break}return f=Object(r.a)({},_,{sender_id:a}),c.next=21,Object(i.f)(b.f.success({conversation:f,currentUser:u}));case 21:return c.abrupt("return");case 22:return c.next=24,Object(i.f)(b.f.failure(c.t0));case 24:case"end":return c.stop()}},h,null,[[5,13]])}function M(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.T,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.l.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.l.failure(n.t0));case 14:case"end":return n.stop()}},v,null,[[0,8]])}function L(e,t){var n,r,a,o,s;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.text,a=n.senderId,o=n.environment,s=I(r),c.prev=2,c.next=5,Object(i.b)(m.jb,e,s.text,o);case 5:return c.next=7,Object(i.f)(b.n.success({message:s,senderId:a,environment:o}));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(2),c.next=13,Object(p.a)(c.t0);case 13:return c.next=15,Object(i.f)(b.n.failure({error:c.t0,message:s,senderId:a}));case 15:case"end":return c.stop()}},E,null,[[2,9]])}function D(e,t){var n,r,a,o,l,u;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,o=n.timestamp,c.prev=1,c.next=4,Object(i.b)(m.t,e,r,a,o);case 4:l=c.sent,u=new Blob([JSON.stringify(l)],{type:"application/javascript;charset=utf-8"}),Object(s.saveAs)(u,"".concat(r,"-dump.json")),c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(p.a)(c.t0);case 13:return c.next=15,Object(i.f)(b.f.failure(c.t0));case 15:case"end":return c.stop()}},O,null,[[1,9]])}function U(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.w,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.i.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.i.failure(n.t0));case 14:case"end":return n.stop()}},x,null,[[0,8]])}function P(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.v,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.h.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.h.failure(n.t0));case 14:case"end":return n.stop()}},y,null,[[0,8]])}function H(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.u,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.g.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.g.failure(n.t0));case 14:case"end":return n.stop()}},j,null,[[0,8]])}function q(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.x,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.j.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.j.failure(n.t0));case 14:case"end":return n.stop()}},C,null,[[0,8]])}function G(e,t){var n,r,a,o;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=t.payload,r=n.botName,a=n.description,c.next=4,Object(i.b)(m.s,e,r,a);case 4:return o=c.sent,c.next=7,Object(i.f)(b.e.success(o));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(0),c.next=13,Object(p.a)(c.t0);case 13:return c.next=15,Object(i.f)(b.e.failure(c.t0));case 15:case"end":return c.stop()}},w,null,[[0,9]])}function B(e){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.b)(m.r,e);case 3:return t=n.sent,n.next=6,Object(i.f)(b.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(p.a)(n.t0);case 12:return n.next=14,Object(i.f)(b.d.failure(n.t0));case 14:case"end":return n.stop()}},S,null,[[0,8]])}function V(e,t){var n,r,a;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.timestamp,c.prev=1,c.next=4,Object(i.b)(m.cb,e,r,a);case 4:return c.next=6,Object(i.f)(b.m.success({conversationId:r,timestamp:a}));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(p.a)(c.t0);case 12:return c.next=14,Object(i.f)(b.m.failure(c.t0));case 14:case"end":return c.stop()}},k,null,[[1,8]])}function z(e,t){var n,r,a;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.timestamp,c.prev=1,c.next=4,Object(i.b)(m.ub,e,r,a);case 4:return c.next=6,Object(i.f)(b.r.success({conversationId:r,timestamp:a}));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(p.a)(c.t0);case 12:return c.next=14,Object(i.f)(b.r.failure(c.t0));case 14:case"end":return c.stop()}},T,null,[[1,8]])}function W(e){var t,n,r,a;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=e.payload,n=t.conversationId,r=t.environment;case 1:return c.next=4,Object(i.f)(b.f.request({conversationId:n,environment:r}));case 4:return c.next=6,Object(i.i)([Object(o.getType)(b.f.success),Object(o.getType)(b.f.failure)]);case 6:return c.next=8,Object(i.h)(function(e){return e.messages.awaitingResponse});case 8:return a=c.sent,c.next=11,Object(i.d)(a?d.b:d.d);case 11:c.next=1;break;case 13:case"end":return c.stop()}},A)}function Y(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)({poll:Object(i.b)(W,e),stop:Object(i.i)(Object(o.getType)(b.q))});case 2:case"end":return t.stop()}},R)}t.b=[Object(f.a)(Object(o.getType)(b.n.request),L,!0),Object(f.a)(Object(o.getType)(b.f.request),N,!0),Object(f.a)(Object(o.getType)(b.l.request),M,!0),Object(f.a)(Object(o.getType)(b.k.request),F,!0),Object(f.a)(Object(o.getType)(b.c),D,!0),Object(f.a)(Object(o.getType)(b.i.request),U,!0),Object(f.a)(Object(o.getType)(b.h.request),P,!0),Object(f.a)(Object(o.getType)(b.g.request),H,!0),Object(f.a)(Object(o.getType)(b.j.request),q,!0),Object(f.a)(Object(o.getType)(b.e.request),G,!0),Object(f.a)(Object(o.getType)(b.d.request),B,!0),Object(f.a)(Object(o.getType)(b.m.request),V,!0),Object(f.a)(Object(o.getType)(b.r.request),z,!0),Object(f.a)(Object(o.getType)(b.p),Y,!1,!0)]},167:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var r=n(39),a=n(8),c=n(0),o=n(2);function i(){var e=Object(r.a)(["\n      filter: brightness(0.5);\n    "]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n  transition: filter 0.2s linear;\n  filter: brightness(1);\n  background-color: #fffffe; /* Slightly off-white so it is always darkened by the filter*/\n"]);return s=function(){return e},e}var l=Object(a.css)(s()),u=Object(a.default)(o.Box).withConfig({displayName:"Dimmable",componentId:"sc-18s1h9f-0"})([""," ",""],l,function(e){return e.dim&&Object(a.css)(i())});t.a=c.memo(u)},168:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(27),a=n(9),c=n(39),o=n(0),i=n(2),s=n(8),l=n(7),u=n(78),d=n.n(u),f=n(112),p=n.n(f),m=n(12),b=n(32),g=n(169),h=n(10),v=n(171),E=n(13),O=n(52),x=n(141);function y(){var e=Object(c.a)(["\n  &:hover,\n  &:active,\n  &:focus-within {\n    background-color: ",";\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(c.a)(["\n  border-left: 1px solid ",";\n"]);return j=function(){return e},e}var C=Object(s.default)(i.Box)(j(),Object(l.themeGet)("colors.neutral_2")),w=Object(s.default)(i.Flex)(y(),Object(l.themeGet)("colors.neutral_1"));function S(e){var t=e.adding,n=e.buttons,c=void 0===n?[]:n,s=e.className,l=e.filters,u=void 0===l?function(){return null}:l,f=e.filtersOpen,y=e.onChangeFiltersOpen,j=e.onSearch,S=e.quickFilters,k=e.resource,T=e.searchQuery,A=void 0===T?"":T,R=e.setAdding,I=e.style,F=void 0===I?{}:I,_=e.total,N=o.useState(A),M=Object(a.a)(N,2),L=M[0],D=M[1],U=o.useState(A),P=Object(a.a)(U,2),H=P[0],q=P[1];Object(g.a)(function(){j&&L!==A&&j(L||"")},200,[j,L,A]);var G=o.useState(d.a.parse("")),B=Object(a.a)(G,2),V=B[0],z=B[1];o.useEffect(function(){z(d.a.parse(H))},[H]);var W=o.useMemo(function(){return u(V.getConditionArray(),function(e){var t=V.clone();t.conditionArray=e,q(t.toString())})},[u,V]),Y=o.useCallback(function(e){return function(t){if(S){var n=S.clear?d.a.parse(""):V.clone(),r=n.getConditionArray().filter(function(e){return e.keyword!==S.keyword});t&&e&&r.push({keyword:S.keyword,value:e,negated:!1}),n.conditionArray=r;var a=n.toString();q(a),D(a)}}},[S,V]),Q=o.useMemo(function(){if(!S)return null;var e=V.getConditionArray().filter(function(e){return e.keyword===S.keyword}),t=0===e.length;return o.createElement(o.Fragment,null,S.all&&o.createElement(x.a,{onChange:t?void 0:Y(),active:t,label:S.all,permanent:!0,total:void 0!==S.total?S.total:_}),S.values.map(function(t){var n=t.label,r=t.total;return o.createElement(x.a,{onChange:Y(n),active:1===e.length&&e[0].value===n,key:n,label:n,total:r})}))},[S,V,Y,_]),K=R&&o.createElement(b.a,{resource:k,action:m.a.Create,yes:o.createElement(h.a,{active:t,variant:"headerIcon",onClick:function(){return R(!t)}},o.createElement(E.a,{icon:"plus"}))}),X=o.useCallback(function(){return y&&y(!f)},[y,f]),J=o.useCallback(function(){X(),D(H)},[H,X,D]),Z=W&&y&&o.createElement(b.a,{resource:k,action:m.a.Read,yes:o.createElement(h.a,{active:f,variant:"headerIcon",onClick:X},o.createElement(E.a,{icon:"sliders-h"}))}),$=[].concat(Object(r.a)(c),[K,Z]).filter(function(e){return!!e}),ee="Search ".concat(p()(k.toString(),_,!0),"..."),te=o.useCallback(function(){X(),q(L)},[X,q,L]);return o.createElement(o.Fragment,null,Q&&o.createElement(i.Box,{style:F,as:"section",flex:"0 1 auto"},Q),(j||$.length>0)&&o.createElement(i.Flex,{className:s,style:F,color:"white",justifyContent:"space-between",alignItems:"stretch !important"},j&&o.createElement(w,{px:4,flex:"1",alignItems:"center"},o.createElement(i.Box,null,o.createElement(E.a,{icon:"search",color:"neutral_6"})),o.createElement(i.Box,{flex:"1"},o.createElement(O.a,{bg:"transparent",border:"0 none",fullWidth:!0,onChangeValue:D,placeholder:ee,value:L}))),!j&&o.createElement(i.Box,{flex:"1"}),$.map(function(e,t){return o.createElement(C,{key:t},e)})),W&&o.createElement(i.Box,{style:{width:F.width,position:"relative"}},o.createElement(v.a,{expanded:f,onApply:J,onCancel:te},W)))}},169:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r=n(0),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=r.useRef(0),c=r.useRef(0),o=r.useCallback(function(){e.apply(null,n),a.current=Date.now()},[a,e,n]);r.useEffect(function(){clearTimeout(c.current);var e=Date.now()-a.current;return e>=t?o():c.current=setTimeout(o,t-e),function(){clearTimeout(c.current)}},[t,o])},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=r.useRef(0);r.useEffect(function(){return clearTimeout(a.current),a.current=setTimeout(e.bind(null,n),t),function(){clearTimeout(a.current)}},[n,e,t])}},17:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(3),a=n.n(r),c=n(27),o=n(1),i=n(5),s=n(125),l=n(23),u=a.a.mark(m),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(l.c.success,l.f.success,l.g.success),f=[s.a].concat(Object(c.a)(d.map(function(e){return Object(o.getType)(e)})));function p(e){switch(e.type){case Object(o.getType)(l.c.success):case Object(o.getType)(l.f.success):case Object(o.getType)(l.g.success):return e.payload.access_token;case s.a:return e.payload&&e.payload.auth&&e.payload.auth.accessToken||null;default:return null}}function m(e,t,n,r){var c;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=p(r),a.next=3,n(e,t,c);case 3:case"end":return a.stop()}},u)}function b(e,t,n,r){var c;return c=r?!0===r?i.k:r:i.j,n?a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.k)(f,m,e,t,c);case 2:case"end":return n.stop()}},n)}):a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(e,t);case 2:case"end":return n.stop()}},n)})}},171:function(e,t,n){"use strict";var r=n(0),a=n(2),c=n(10),o=n(18),i=n(8),s=Object(i.default)(a.Box).withConfig({displayName:"Expandable__Container",componentId:"sc-1ely3g4-0"})(["position:absolute;left:0;right:0;overflow:hidden;z-index:99;display:flex;max-height:0;height:auto;transition:max-height 0.4s ease;box-shadow:rgba(37,49,70,0.3) 0px 2px 6px 0px;",""],function(e){return e.expanded&&"\n    max-height: 456px;\n  "}),l=r.memo(function(e){e.ref;var t=Object(o.a)(e,["ref"]);return r.createElement(s,t)});t.a=r.memo(function(e){var t=e.expanded,n=e.children,o=e.onApply,i=e.onCancel;return r.createElement(l,{expanded:t,bg:"neutral_0"},r.createElement(a.Card,{flex:"1",borderBottom:"1px solid",borderColor:"neutral_4"},r.createElement(a.Flex,{flexDirection:"column",style:{maxHeight:"100%",height:"100%"}},r.createElement(a.Card,{flex:"1 1 auto",borderBottom:"1px solid",borderColor:"neutral_4",style:{overflow:"hidden",display:"flex",flexDirection:"column"}},n),r.createElement(a.Flex,{py:3,px:4,flex:"0 0 auto",mr:-1,flexDirection:"row-reverse"},r.createElement(a.Box,{mx:1},r.createElement(c.a,{large:!0,onClick:o,variant:"primary"},"Apply Filters")),r.createElement(a.Box,{mx:1},r.createElement(c.a,{large:!0,variant:"secondary",onClick:i},"Cancel"))))))})},19:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5),a=n(23);function c(e){var t=e.response;return t&&401===t.status&&t.data.reasons.includes("Signature has expired.")?Object(r.f)(Object(a.h)(!0)):Object(r.c)()}},20:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n(18),a=n(4),c=n(8),o=n(0),i=n(2),s=n(7),l=function(e){var t=e&&"string"!==typeof e?e:{variant:e},n=function(){switch(t.variant){default:case"body":case"body.primary":return{color:"neutral_8",fontSize:3,lineHeight:"normal"};case"body.secondary":return{color:"neutral_8",fontSize:2,lineHeight:"normal"};case"caption":case"caption.primary":return{color:"neutral_6",fontSize:2,lineHeight:"small"};case"caption.secondary":return{color:"neutral_6",fontSize:0,lineHeight:"tight"};case"metadata":return{color:"neutral_7",fontSize:0,lineHeight:"tight"};case"code":return{as:"code",color:"neutral_8",fontFamily:"IBM Plex Mono",fontSize:1,lineHeight:"normal"}}}(),r=t.loading?{letterSpacing:"0px",color:"neutral_1"}:{};return Object(a.a)({},{as:"p",display:"inline-block",fontWeight:400,m:0,letterSpacing:0},n,r,t)},u=Object(c.default)(i.Text).attrs(function(e){return l(e)}).withConfig({displayName:"Text__StyledText",componentId:"b4ppx7-0"})([""," "," overflow:hidden;max-width:100%;text-overflow:ellipsis;"],s.display,s.textAlign);function d(e){e.ref;var t=Object(r.a)(e,["ref"]);return o.createElement(u,t)}u.defaultProps={}},208:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return f});var r=n(29),a=n(9),c=n(18),o=n(4),i=n(1),s=n(57),l=n.n(s),u=n(101),d={PT1H:{start:l()().endOf("hour").subtract(1,"day").add(1,"minute").unix(),end:l()().endOf("hour").unix()},P1D:{start:l()().endOf("day").subtract(1,"month").add(1,"hour").unix(),end:l()().endOf("day").unix()},P1M:{start:l()().endOf("month").subtract(1,"year").add(1,"day").unix(),end:l()().endOf("month").unix()}},f={metrics:{conversation_length:[],conversation_steps:[],sessions_per_user:[],conversations:[],new_users:[],user_messages:[],bot_messages:[],total_messages:[]},start:d.P1D.start,end:d.P1D.end,bucket:"P1D",loading:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(i.getType)(u.a.request):var n=t.payload,s=n.bucket,l=n.start,d=n.end;return Object(o.a)({},e,{bucket:s,start:l,end:d,loading:!0});case Object(i.getType)(u.a.success):var p=e.start,m=t.payload,b=m.bin_width,g=Object(c.a)(m,["bin_width"]),h=Object.entries(g).map(function(e){var t,n,r,c=Object(a.a)(e,2),o=c[0],i=c[1];return[o,(t=p,n=b,r=i,r.map(function(e,r){return{value:e,timestamp:t+r*n}}))]}).reduce(function(e,t){var n=Object(a.a)(t,2),c=n[0],i=n[1];return Object(o.a)({},e,Object(r.a)({},c,i))},{});return Object(o.a)({},e,{metrics:h,loading:!1});case Object(i.getType)(u.a.failure):return Object(o.a)({},e,{loading:!1});default:return e}}},211:function(e,t,n){"use strict";var r=n(39),a=n(0),c=n(8),o=n(7),i=n(28);function s(){var e=Object(r.a)(["\n  position: relative;\n  cursor: pointer;\n\n  ","\n\n  &:after {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    background-color: ",";\n    width: 100%;\n    content: '';\n    border-radius: 2px;\n    height: 2px;\n    float: left;\n    ","\n  }\n\n  &:hover:after {\n    display: block;\n  }\n"]);return s=function(){return e},e}var l=Object(c.default)(function(e){return a.createElement(i.a,Object.assign({as:"li"},e))})(s(),function(e){return!e.active&&"font-weight: 400;"},Object(o.themeGet)("colours.primary_2"),function(e){return!e.active&&"display: none;"});l.defaultProps={p:3,variant:4},t.a=a.memo(l)},23:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return f});var r=n(1),a=Object(r.createAsyncAction)("CREATE ENTERPRISE USER","CREATE ENTERPRISE USER SUCCESS","CREATE ENTERPRISE USER FAILURE")(),c=Object(r.createAsyncAction)("CHANGE PASSWORD","CHANGE PASSWORD SUCCESS","CHANGE PASSWORD FAILURE")(),o=Object(r.createAsyncAction)("FETCH FEATURES","FETCH FEATURES SUCCESS","FETCH FEATURES FAILURE")(),i=Object(r.createAsyncAction)("SAVE FEATURE","SAVE FEATURE SUCCESS","SAVE FEATURE FAILURE")(),s=Object(r.createAsyncAction)("LOGIN","LOGIN SUCCESS","LOGIN FAILURE")(),l=Object(r.createAsyncAction)("FETCH SSO URL","FETCH SSO URL SUCCESS","FETCH SSO URL FAILURE")(),u=Object(r.createAsyncAction)("FETCH ENTERPRISE TOKEN","FETCH ENTERPRISE TOKEN SUCCESS","FETCH ENTERPRISE TOKEN FAILURE")(),d=Object(r.createAsyncAction)("FETCH TEMPORARY ACCESS TOKEN","FETCH TEMPORARY ACCESS TOKEN SUCCESS","FETCH TEMPORARY ACCESS TOKEN FAILURE")(),f=Object(r.createStandardAction)("LOGOUT")()},26:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"k",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"c",function(){return m});var r=n(1),a=Object(r.createAsyncAction)("FETCH MODELS","FETCH MODELS SUCCESS","FETCH MODELS FAILURE")(),c=Object(r.createAsyncAction)("FETCH HEALTH","FETCH HEALTH SUCCESS","FETCH HEALTH FAILURE")(),o=Object(r.createAsyncAction)("TRAIN MODEL","TRAIN MODEL SUCCESS","TRAIN MODEL FAILURE")(),i=Object(r.createAsyncAction)("DELETE MODEL","DELETE MODEL SUCCESS","DELETE MODEL FAILURE")(),s=Object(r.createAsyncAction)("ADD MODEL ENVIRONMENT","ADD MODEL ENVIRONMENT SUCCESS","ADD MODEL ENVIRONMENT FAILURE")(),l=Object(r.createAsyncAction)("REMOVE MODEL ENVIRONMENT","REMOVE MODEL ENVIRONMENT SUCCESS","REMOVE MODEL ENVIRONMENT FAILURE")(),u=Object(r.createStandardAction)("START POLLING HEALTH")(),d=Object(r.createAsyncAction)("FETCH EVALUATION","FETCH EVALUATION SUCCESS","FETCH EVALUATION FAILURE")(),f=Object(r.createStandardAction)("START EVALUATUION")(),p=Object(r.createStandardAction)("FILTER EVALUATION")(),m=Object(r.createAsyncAction)("FETCH ENVIRONMENTS","FETCH ENVIRONMENTS SUCCESS","FETCH ENVIRONMENTS FAILURE")()},28:function(e,t,n){"use strict";var r=n(4),a=n(8),c=n(0),o=n(2);o.Heading.defaultProps={};var i=Object(a.default)(o.Heading).attrs(function(e){var t=function(){switch(e.variant){case 1:return{as:"h1",fontSize:6};case 2:return{as:"h2",fontSize:4};case 3:return{as:"h3",fontSize:3};case 4:return{as:"h4",fontSize:2};case 5:return{as:"h5",fontSize:1};default:return{}}}(),n=e.loading?{letterSpacing:"0px",color:"neutral_2"}:{};return Object(r.a)({},{variant:3,fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},t,n,e)}).withConfig({displayName:"Heading",componentId:"phfap0-0"})([""]);i.defaultProps={},t.a=c.memo(i)},286:function(e,t,n){"use strict";var r=n(39),a=n(0),c=n(8),o=n(102);function i(){var e=Object(r.a)([""]);return i=function(){return e},e}var s=Object(c.default)(o.a)(i());s.defaultProps={justifyContent:"center",alignItems:"flex-end",height:"100%"},t.a=a.memo(s)},287:function(e,t){},288:function(e,t){},309:function(e,t,n){e.exports=n.p+"static/media/chat_placeholder.5d3a2963.svg"},32:function(e,t,n){"use strict";var r=n(42),a=n(139),c=n(300),o=n(12),i=Object(a.b)(a.c,function(e,t){return e.length===t.length})(function(e){return e.permissions},function(e){var t=new c.AccessControl(e);return t.grant(o.e),t});t.a=Object(r.b)(function(e){return{accessController:i(e.auth)}})(function(e){var t=e.accessController,n=e.resource,r=e.action,a=e.attributes,c=void 0===a?[]:a,o=e.yes,i=void 0===o?null:o,s=e.no;return(Array.isArray(n)?n:[n]).some(function(e){var n=t.permission({role:"current",action:r,resource:e}),a=n.attributes.includes("*")||c.every(function(e){return n.attributes.includes(e)});return n.granted&&a})?i:s||null})},320:function(e,t,n){e.exports=n.p+"static/media/onboarding_maintain.14c39143.svg"},321:function(e,t,n){e.exports=n.p+"static/media/onboarding_create.c1ddd659.svg"},325:function(e,t,n){e.exports=n.p+"static/media/rasa_horizontal_logo_white.bf7620f2.svg"},326:function(e,t,n){e.exports=n.p+"static/media/rasa_horizontal_logo.23a7393c.svg"},33:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"i",function(){return o}),n.d(t,"m",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"n",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"e",function(){return b}),n.d(t,"k",function(){return g}),n.d(t,"l",function(){return h});var r=n(1),a=Object(r.createAsyncAction)("FETCH STORIES","FETCH STORIES SUCCESS","FETCH STORIES FAILURE")(),c=Object(r.createAsyncAction)("FETCH STORY VISUALIZATION","FETCH STORY VISUALIZATION SUCCESS","FETCH STORY VISUALIZATION FAILURE")(),o=Object(r.createAsyncAction)("SAVE STORY","SAVE STORY SUCCESS","SAVE STORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE STORY","UPDATE STORY SUCCESS","UPDATE STORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE STORY","DELETE STORY SUCCESS","DELETE STORY FAILURE")(),l=Object(r.createAsyncAction)("UPLOAD STORIES","UPLOAD STORIES SUCCESS","UPLOAD STORIES FAILURE")(),u=Object(r.createStandardAction)("SEARCH STORIES")(),d=Object(r.createStandardAction)("CHANGE STORY")(),f=Object(r.createStandardAction)("CHANGE STORY SELECTION")(),p=Object(r.createStandardAction)("ADD STORIES")(),m=Object(r.createStandardAction)("REPLACE STORIES")(),b=Object(r.createStandardAction)("DOWNLOAD STORIES")(),g=Object(r.createStandardAction)("SET SHOULD REPLACE STORIES")(),h=Object(r.createStandardAction)("SET STORIES TO CONFIRM")()},337:function(e,t,n){e.exports=n(619)},34:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"j",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return m});var r=n(1),a=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING CONVERSATION","FETCH INTERACTIVE LEARNING CONVERSATION SUCCESS","FETCH INTERACTIVE LEARNING CONVERSATION FAILURE")(),c=Object(r.createAsyncAction)("CREATE INTERACTIVE LEARNING CONVERSATION","CREATE INTERACTIVE LEARNING CONVERSATION SUCCESS","CREATE INTERACTIVE LEARNING CONVERSATION FAILURE")(),o=Object(r.createAsyncAction)("PARSE MESSAGE FOR INTERACTIVE LEARNING","PARSE MESSAGE FOR INTERACTIVE LEARNING SUCCESS","PARSE MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),i=Object(r.createStandardAction)("CHANGE PARSED MESSAGE")(),s=Object(r.createStandardAction)("CANCEL PARSED MESSAGE")(),l=Object(r.createAsyncAction)("SEND MESSAGE FOR INTERACTIVE LEARNING","SEND MESSAGE FOR INTERACTIVE LEARNING SUCCESS","SEND MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),u=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING PREDICTION","FETCH INTERACTIVE LEARNING PREDICTION SUCCESS","FETCH INTERACTIVE LEARNING PREDICTION FAILURE")(),d=Object(r.createStandardAction)("CHANGE PREDICTION")(),f=Object(r.createAsyncAction)("CONFIRM PREDICTION","CONFIRM PREDICTION SUCCESS","CONFIRM PREDICTION FAILURE")(),p=Object(r.createAction)("CLEAR INTERACTIVE LEARNING",function(e){return function(t){return e(t)}}),m=Object(r.createAsyncAction)("COPY TO INTERACTIVE LEARNING","COPY TO INTERACTIVE LEARNING SUCCESS","COPY TO INTERACTIVE LEARNING FAILURE")()},45:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return l});var r=n(1),a=Object(r.createAsyncAction)("FETCH RESPONSES","FETCH RESPONSES SUCCESS","FETCH RESPONSES FAILURE")(),c=Object(r.createAsyncAction)("ADD RESPONSE","ADD RESPONSE SUCCESS","ADD RESPONSE FAILURE")(),o=Object(r.createAsyncAction)("UPDATE RESPONSE","UPDATE RESPONSE SUCCESS","UPDATE RESPONSE FAILURE")(),i=Object(r.createAsyncAction)("DELETE RESPONSE","DELETE RESPONSE SUCCESS","DELETE RESPONSE FAILURE")(),s=Object(r.createStandardAction)("SEARCH RESPONSES")(),l=Object(r.createStandardAction)("CHANGE RESPONSE")()},46:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return l});var r=n(1),a=Object(r.createAsyncAction)("SAVE SUGGESTION","SAVE SUGGESTION SUCCESS","SAVE SUGGESTION FAILURE")(),c=Object(r.createAsyncAction)("FETCH SUGGESTIONS","FETCH SUGGESTIONS SUCCESS","FETCH SUGGESTIONS FAILURE")(),o=Object(r.createAsyncAction)("DELETE SUGGESTION","DELETE SUGGESTION SUCCESS","DELETE SUGGESTION FAILURE")(),i=Object(r.createAsyncAction)("CHECK DRAFT SUGGESTION","CHECK DRAFT SUGGESTION SUCCESS","CHECK DRAFT SUGGESTION FAILURE")(),s=Object(r.createStandardAction)("CHANGE SUGGESTION")(),l=Object(r.createStandardAction)("SEARCH SUGGESTIONS")()},48:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"a",function(){return u});var r=n(1),a=Object(r.createAsyncAction)("FETCH ROLES","FETCH ROLES SUCCESS","FETCH ROLES FAILURE")(),c=Object(r.createAsyncAction)("FETCH ROLE","FETCH ROLE SUCCESS","FETCH ROLE FAILURE")(),o=Object(r.createAsyncAction)("FETCH ROLE USERS","FETCH ROLE USERS SUCCESS","FETCH ROLE USERS FAILURE")(),i=Object(r.createAsyncAction)("FETCH ROLES USERS","FETCH ROLES USERS SUCCESS","FETCH ROLES USERS FAILURE")(),s=Object(r.createAsyncAction)("SAVE ROLE","SAVE ROLE SUCCESS","SAVE ROLE FAILURE")(),l=Object(r.createAsyncAction)("UPDATE ROLE","UPDATE ROLE SUCCESS","UPDATE ROLE FAILURE")(),u=Object(r.createAsyncAction)("DELETE ROLE","DELETE ROLE SUCCESS","DELETE ROLE FAILURE")()},49:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=n(1),a=Object(r.createAsyncAction)("SAVE CONFIG","SAVE CONFIG SUCCESS","SAVE CONFIG FAILURE")(),c=Object(r.createAsyncAction)("FETCH CONFIG","FETCH CONFIG SUCCESS","FETCH CONFIG FAILURE")(),o=Object(r.createAsyncAction)("SAVE DOMAIN","SAVE DOMAIN SUCCESS","SAVE DOMAIN FAILURE")(),i=Object(r.createAsyncAction)("FETCH DOMAIN","FETCH DOMAIN SUCCESS","FETCH DOMAIN FAILURE")(),s=Object(r.createAsyncAction)("FETCH DOMAIN WARNINGS","FETCH DOMAIN WARNINGS SUCCESS","FETCH DOMAIN WARNINGS FAILURE")()},52:function(e,t,n){"use strict";var r=n(18),a=n(8),c=n(0),o=n(7),i=n(20),s=Object(a.default)(function(e){e.onReturn,e.onChangeValue;var t=Object(r.a)(e,["onReturn","onChangeValue"]);return c.createElement(i.a,Object.assign({as:"input"},t))}).attrs(function(e){return{onChange:function(t){return e.onChangeValue&&e.onChangeValue(t.target.value)},onKeyDown:function(t){return e.onReturn&&(n=e.onReturn,function(e){n&&"Enter"===e.key&&(e.preventDefault(),n(e.currentTarget.value))})(t);var n},borderColor:e.error?"secondary_2":"neutral_5"}}).withConfig({displayName:"Input",componentId:"ijjlk5-0"})([""," "," "," ",";&:hover:not(:focus){border-color:",";}&:disabled{color:",";background-color:",";}&:focus{border-color:",";}&::placeholder{color:",";}"],o.border,o.borderColor,o.borderRadius,function(e){return e.fullWidth?"width: 100%;":"flex: 1 1 1%;"},Object(o.themeGet)("colors.neutral_6"),Object(o.themeGet)("colors.neutral_6"),Object(o.themeGet)("colors.neutral_1"),Object(o.themeGet)("colors.primary_2"),Object(o.themeGet)("colours.neutral_6"));s.defaultProps={variant:"body.secondary",px:3,py:2,border:"1px solid",borderRadius:"normal"},t.a=c.memo(s)},54:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return l});var r=n(1),a=(Object(r.createAsyncAction)("FETCH USER","FETCH USER SUCCESS","FETCH USER FAILURE")(),Object(r.createAsyncAction)("FETCH USER ROLES","FETCH USER ROLES SUCCESS","FETCH USER ROLES FAILURE")()),c=Object(r.createAsyncAction)("FETCH USERS ROLES","FETCH USERS ROLES SUCCESS","FETCH USERS ROLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH USERS","FETCH USERS SUCCESS","FETCH USERS FAILURE")(),i=Object(r.createAsyncAction)("SAVE USER ROLES","SAVE USER ROLES SUCCESS","SAVE USER ROLES FAILURE")(),s=Object(r.createAsyncAction)("DELETE USER","DELETE USER SUCCESS","DELETE USER FAILURE")(),l=Object(r.createStandardAction)("SEARCH USERS")()},55:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(18),a=n(8),c=n(0),o=n(170),i=n(7),s=n(2),l=n(20),u=Object(a.default)(o.a).withConfig({displayName:"Tooltip__StyledTippy",componentId:"h7yz5w-0"})(["border-radius:",";background-color:",";padding:0;.tippy-arrow{transform:scale(0.9);}&[x-placement^='top']{.tippy-arrow{border-top-color:",";}}&[x-placement^='bottom']{.tippy-arrow{border-bottom-color:",";}}&[x-placement^='left']{.tippy-arrow{border-left-color:",";}}&[x-placement^='right']{.tippy-right-arrow{border-color:",";}}"],Object(i.themeGet)("radii.normal"),Object(i.themeGet)("colours.neutral_8"),Object(i.themeGet)("colours.neutral_8"),Object(i.themeGet)("colours.neutral_8"),Object(i.themeGet)("colours.neutral_8"),Object(i.themeGet)("colours.neutral_8"));function d(e){var t=e.style,n=e.children,a=e.content,o=Object(r.a)(e,["style","children","content"]);return c.createElement(s.Box,{style:t},c.createElement(u,Object.assign({content:c.createElement(s.Flex,{flexDirection:"column",px:3,py:2},c.createElement(l.a,{variant:"body.secondary",color:"inherit"},a))},o),c.createElement(s.Flex,{as:"span"},n)))}d.defaultProps={animation:"shift-toward",arrow:!0,hideOnClick:!1}},618:function(e,t){},619:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(38),o=n.n(c),i=n(8),s=n(42),l=n(625),u=n(290),d=n(81),f=n(137),p=n.n(f),m=n(172),b=n.n(m),g=n(62),h=n(70),v=n(138),E=n(97),O=n(298),x=n(50),y=[400,700],j={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",dark_1:"#2C3951",dark_2:"#263146",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff",blue:"#1e88e5"},C={colours:j,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)"},lineHeights:{large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},fontSizes:[11,12,13,14,16,20,24,32,48,64,72],fontWeights:y,letterSpacings:[.6,.7,.9,1.4],heights:[32,40,48,56,64],space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],colors:j,fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace !important',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif !important'},active:{background:j.active},radii:{tiny:"2px",small:"4px",normal:"8px",large:"16px"},bigRadius:"1em",radius:"0.3em",avatars:{small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},actions:{default:{color:j.neutral_3},incorrect:{color:j.neutral_3,textDecoration:"line-through"},correct:{color:j.blue,fontWeight:y[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)"},menuItem:{default:{color:j.neutral_6,backgroundColor:"transparent","&:hover":{color:j.neutral_0,backgroundColor:j.dark_2}}},separator:{left:{"& > :first-child":{paddingRight:"12px"},"&:before":{display:"none"}},center:{"& > :first-child":{paddingLeft:"12px",paddingRight:"12px"}},right:{"& > :first-child":{paddingLeft:"12px"},"&:after":{display:"none"}}}};function w(e){return a.a.createElement(i.ThemeProvider,{theme:C},e.children)}v.b.add(x.a,E.a,x.b,x.c,x.d,E.b,x.e,O.a,x.f,x.g,x.h,x.i,x.j,x.k,x.l,x.m,E.d,x.n,x.o,E.e,x.v,x.p,x.q,E.f,x.r,x.s,x.t,x.u,x.w,E.g,x.x,x.y,x.z,x.A,x.B,x.C,x.D,E.h,E.c);var S=n(18),k=n(4),T=n(27),A=n(9),R=n(2),I=n(164),F=n.n(I),_=n(626),N=n(20),M=n(10),L=n(28),D=n(13),U=n(7),P=Object(i.default)(R.Flex).attrs(function(e){switch(e.variant){case"primary":return Object(k.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(k.a)({bg:"secondary_2",color:"neutral_0"},e)}}).withConfig({displayName:"Toast__Container",componentId:"sc-4l0nhq-0"})([""," "," "," "," box-shadow:-3px 5px 20px 0 rgba(43,58,172,0.22);width:400px;text-align:left;transition:all ease .5s;"],U.maxWidth,U.letterSpacing,U.lineHeight,U.borderRadius);function H(e){var t=e.actions,n=e.head,a=e.children,c=(e.ref,e.onUnmount),o=e.icon,i=Object(S.a)(e,["actions","head","children","ref","onUnmount","icon"]);r.useEffect(function(){var e=setTimeout(function(){c&&c(null)},5e3);return function(){clearInterval(e)}},[c]);var s=r.createElement(r.Fragment,null,n&&(o?r.createElement(R.Flex,{flexDirection:"row",alignItems:"center"},o,r.createElement(L.a,{variant:2,color:"inherit"},n)):r.createElement(L.a,{variant:2,color:"inherit"},n)));return r.createElement(P,i,r.createElement(R.Flex,{justifyContent:"space-between",mb:a?4:0},s,c&&r.createElement(M.a,{onClick:c,variant:"plainIcon",p:0,color:"inherit",colorHover:"neutral_1"},r.createElement(D.a,{icon:"times",fontSize:"16px"}))),a&&r.createElement(N.a,{color:"inherit",variant:"body.secondary"},a),t&&r.createElement(R.Flex,{flexDirection:"row-reverse",mt:4},t))}P.defaultProps={variant:"primary",m:4,mt:-2,px:5,py:4,fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"16px",flexDirection:"column"};var q=n(39),G=n(624);function B(){var e=Object(q.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]);return B=function(){return e},e}function V(){var e=Object(q.a)(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return V=function(){return e},e}function z(){var e=Object(q.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]);return z=function(){return e},e}function W(){var e=Object(q.a)(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return W=function(){return e},e}var Y=Object(i.keyframes)(W()),Q=Object(i.keyframes)(z()),K=Object(i.keyframes)(V()),X=Object(i.keyframes)(B()),J=Object(i.default)(G.a).attrs({classNames:"slide-right"}).withConfig({displayName:"Transition__SlideRight",componentId:"sc-1j4em3w-0"})(["&.slide-right-enter{animation:"," ","ms linear both;}&.slide-right-exit{animation:"," ","ms linear both;}"],Y,function(e){return e.duration},Q,function(e){return e.duration}),Z=(Object(i.default)(G.a).attrs({classNames:"slide-left"}).withConfig({displayName:"Transition__SlideLeft",componentId:"sc-1j4em3w-1"})(["&.slide-left-enter{animation:"," ","ms linear both;}&.slide-left-exit{animation:"," ","ms linear both;}"],K,function(e){return e.duration},X,function(e){return e.duration}),Object(i.default)(G.a).attrs({classNames:"fade"}).withConfig({displayName:"Transition__Fade",componentId:"sc-1j4em3w-2"})(["transition:opacity ","ms ease-in;&.fade-enter{opacity:0;}&.fade-enter.fade-enter-active{opacity:1;}&.fade-exit{opacity:1;}&.fade-exit.fade-exit-active{opacity:0;}"],function(e){return e.duration}),Object(i.default)(R.Flex).withConfig({displayName:"ToastContext__ToastContainer",componentId:"sc-1alznu5-0"})(["position:fixed;right:0;bottom:0;z-index:999;"])),$=a.a.createContext({});function ee(e){var t=a.a.useState([]),n=Object(A.a)(t,2),r=n[0],c=n[1],o=a.a.useCallback(function(e){c(function(t){return[].concat(Object(T.a)(t),[Object(k.a)({},e,{key:e.key||F()()})])})},[]),i=a.a.useCallback(function(e){c(function(t){return t.filter(function(t){return t.key!==e})})},[]);return a.a.createElement($.Provider,{value:{toasts:r,addToast:o,removeToast:i}},e.children,a.a.createElement(Z,{flexDirection:"column-reverse",as:"ul",p:0,m:0},a.a.createElement(_.a,{component:null},r.map(function(e){var t=e.content,n=e.key,r=Object(S.a)(e,["content","key"]);return a.a.createElement(J,{key:n,timeout:500,duration:200},a.a.createElement(H,Object.assign({as:"li",key:n,onUnmount:function(){return n&&i(n)}},r),t))}))))}ee.defaultProps={p:4};var te=function(){return a.a.useContext($)},ne=n(126);function re(){var e=Object(q.a)(["\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: Lato, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu,\n      Cantarell, 'Helvetica Neue', sans-serif;\n  }\n\n  *, *:hover, *:focus {\n    outline: none;\n  }\n\n  *::-moz-focus-inner {\n    border: none;\n  }\n\n  html, body, #root {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background-color: #fff !important;\n  }\n\n  ","\n"]);return re=function(){return e},e}function ae(){var e=Object(q.a)(["\n  ","\n"]);return ae=function(){return e},e}function ce(){var e=Object(q.a)(["\n  ","\n\n  ","\n\n  ","\n"]);return ce=function(){return e},e}var oe=Object(i.css)(ce(),Object(ne.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-regular"),fontStyle:"normal",fontWeight:"400"}),Object(ne.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-700"),fontStyle:"normal",fontWeight:"700"}),Object(ne.a)({fontFamily:"IBM Plex Mono",fontFilePath:"".concat("","/fonts/ibm-plex-mono-v4-latin/ibm-plex-mono-v4-latin-regular"),fontStyle:"normal",fontWeight:"400"})),ie=(Object(i.createGlobalStyle)(ae(),oe),Object(i.createGlobalStyle)(re(),oe)),se=n(41),le=n(23),ue=n(26),de=n(12),fe=n(32),pe=Object(s.b)(function(e){return{features:e.auth.features}})(function(e){var t=e.features,n=e.name,a=e.children,c=t.find(function(e){return e.name===n});return c&&!c.enabled?null:r.createElement(r.Fragment,null,a)}),me=Object(U.style)({prop:"widthHover",cssProperty:"width",key:"space"}),be=Object(i.default)(R.Flex).withConfig({displayName:"Aside",componentId:"sc-17d7fd5-0"})(["height:100%;position:absolute;transition:width 0.2s cubic-bezier(0.51,0.92,0.24,1.15);&:hover{"," box-shadow:0 0 4px 0 rgba(24,30,46,0.55);}"],me);be.defaultProps={as:"aside",bg:"dark_1",width:"64px",widthHover:"248px",flexDirection:"column",alignItems:"flex-start"};var ge=r.memo(be),he=Object(U.variant)({key:"avatars"}),ve=Object(i.default)(R.Flex).attrs(function(e){return{children:e.children||(t=e.username,t?t.split(" ").slice(0,2).map(function(e){return e.slice(0,1).toUpperCase()}).join(""):null)||null};var t}).withConfig({displayName:"Avatar",componentId:"sc-19xeiwt-0"})([""," "," border-radius:50%;line-height:1em;"],he,U.textAlign);ve.defaultProps={variant:"medium",color:"white",bg:"cyan_2",textAlign:"center",justifyContent:"center",alignItems:"center",fontSize:4};var Ee=r.memo(ve),Oe=n(102),xe=Object(i.default)(R.Box).withConfig({displayName:"Ellipsis",componentId:"u0ieay-0"})([""," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:0;"],U.maxWidth);xe.defaultProps={as:"div"};var ye=r.memo(xe),je=Object(U.variant)({key:"menuItem"}),Ce=Object(i.default)(R.Box).withConfig({displayName:"MenuItem__Container",componentId:"sc-1eu6cj5-0"})([""," "," "," "," position:relative;flex-shrink:0;transition:background-color .2s ease,color .2s ease;&:before{content:'';width:4px;height:100%;background-color:",";position:absolute;left:0;transform:scaleY(0);opacity:0;border-radius:2px;transition:transform cubic-bezier(.51,.92,.24,1.15) .2s;","}",";cursor:",";"],je,U.height,U.alignItems,U.display,Object(U.themeGet)("colours.primary_2"),function(e){return!e.lineBefore&&"display: none;"},function(e){return e.active&&"\n    color: ".concat(Object(U.themeGet)("colours.neutral_0")(e),";\n    background-color: ").concat(Object(U.themeGet)("colours.dark_2")(e),";\n    &:before{\n      transform: scaleY(1);\n      opacity: 1;\n    }\n  ")},function(e){return e.onClick?"pointer":"default"});function we(e){var t=e.rightArrow,n=e.children,a=e.icon,c=Object(S.a)(e,["rightArrow","children","icon"]);return r.createElement(Ce,Object.assign({width:"100%"},c),r.createElement(R.Flex,{width:"100%",flexDirection:"row",alignItems:"center"},a&&r.createElement(R.Box,{flex:"0 0 48px",style:{textAlign:"center",lineHeight:1},pr:3},a),r.createElement(R.Box,{flex:"1"},r.createElement(ye,null,r.createElement(N.a,{style:{whiteSpace:"nowrap"},color:"inherit"},n))),t&&r.createElement(R.Box,{pr:3},r.createElement(D.a,{icon:"angle-right"}))))}we.defaultProps={as:"li",icon:null,textAlign:"left",height:64,alignItems:"center",p:3,display:"flex",variant:"default",lineBefore:!0};var Se=Object(U.variant)({key:"separator"}),ke=Object(i.default)(R.Flex).withConfig({displayName:"Separator",componentId:"d2195e-0"})(["white-space:nowrap;&:before,&:after{content:'';height:1px;display:inline-flex;width:100%;background:",";}"," "," ",""],Object(U.themeGet)("colours.neutral_4"),Se,U.width,U.opacity);ke.defaultProps={variant:"center",width:"100%",m:0,alignItems:"center"};var Te=r.memo(ke),Ae=i.default.div.withConfig({displayName:"Error",componentId:"sc-1dqr2ro-0"})([""," "," color:",";font-weight:bold;"],U.space,U.textAlign,Object(U.themeGet)("colours.secondary_1"));Ae.displayName="Error";var Re=r.memo(Ae),Ie=n(52);function Fe(e){var t=e.onChangePassword,n=e.onCancel,a=r.useState(""),c=Object(A.a)(a,2),o=c[0],i=c[1],s=r.useState(""),l=Object(A.a)(s,2),u=l[0],d=l[1],f=r.useState(""),p=Object(A.a)(f,2),m=p[0],b=p[1],g=null;return o!==u?g="passwords do not match!":o.length<8&&(g="your password must be at least 8 chararcters long"),r.createElement(R.Box,null,r.createElement(Ie.a,{placeholder:"Old Password",type:"password",fullWidth:!0,onChangeValue:function(e){return b(e)},value:m,mb:2}),r.createElement(Ie.a,{placeholder:"New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return i(e)},value:o,mb:2}),r.createElement(Ie.a,{placeholder:"Confirm New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return d(e)},value:u,mb:2}),u.length>0&&g&&r.createElement(Re,null,g),r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(M.a,{mx:1,variant:"primary",onClick:function(){t({oldPassword:m,newPassword:o,newPasswordConfirm:u})},disabled:!!g},"Change Password"),r.createElement(M.a,{mx:1,variant:"secondary",onClick:n},"Close")))}var _e=n(68);function Ne(e){var t=e.features,n=e.onChangeFeature;return r.createElement(se.Box,null,r.createElement(N.a,{variant:"body.secondary"},"Toggle which experimental features you would like to try. Enabling/Disabling a feature will affect all users of this instance."),r.createElement(se.Box,{as:"ul",p:0,m:0,mb:2,style:{listStyle:"none"}},t.map(function(e){var t=e.name,a=e.enabled;return r.createElement(se.Box,{as:"li",key:t},r.createElement(se.Box,{as:"label",pr:3,pt:3,style:{display:"inline-block"}},r.createElement(se.Flex,{flex:"1 1"},r.createElement(se.Box,null,r.createElement(_e.a,{checked:a,onChange:function(){return n({name:t,enabled:!a})}})),r.createElement(N.a,{variant:"body.secondary",px:2,lineHeight:"initial"},t))))})))}function Me(){var e=Object(q.a)(["\n  width: 100%;\n  max-width: 548px;\n  border: 0;\n  box-shadow: 0 4px 14px 0 rgba(103, 106, 111, 0.32);\n  "," "," ","\n"]);return Me=function(){return e},e}var Le=p.a.styled(Me(),U.space,U.borderRadius,U.color),De=Object(i.default)(R.Box).withConfig({displayName:"Modal__Title",componentId:"sc-10rt2qu-0"})(["border-bottom:1px solid ",";"],Object(U.themeGet)("colours.neutral_2")),Ue=Object(i.default)(R.Flex).withConfig({displayName:"Modal__Footer",componentId:"sc-10rt2qu-1"})(["border-top:1px solid ",";"],Object(U.themeGet)("colours.neutral_2"));function Pe(e){var t=e.open,n=e.onClose,a=e.onBackgroundClick,c=e.onEscapeKeydown,o=e.children,i=e.title,s=e.footer,l=e.style;return r.createElement(Le,{isOpen:t,onBackgroundClick:a||n,onEscapeKeydown:c||n,borderRadius:"large",bg:"neutral_0",p:0,style:l},i&&r.createElement(De,{p:4},r.createElement(R.Flex,{justifyContent:"space-between"},i,n&&r.createElement(R.Box,{onClick:function(){return n()}},r.createElement(M.a,{onClick:n,variant:"plainIcon",p:0},r.createElement(D.a,{icon:"times",fontSize:"24px"}))))),r.createElement(R.Box,{px:6,py:4},o),s&&r.createElement(Ue,{px:4,py:3,flexDirection:"row-reverse"},s))}function He(e){var t=e.username,n=e.features,a=e.passwordModalOpen,c=e.featuresModalOpen,o=e.onChangePasswordModal,i=e.onChangeFeaturesModal,s=e.onChangePassword,l=e.onChangeFeature,u=e.onLogout,d=e.onEmailSupport,f=e.onSendFeedback;return r.createElement(r.Fragment,null,r.createElement(R.Card,{width:248,py:2,bg:"dark_1",borderRadius:"normal",boxShadow:"0 0 13px 0 #b0b0b2",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0}},r.createElement(Oe.a,{flexDirection:"column"},r.createElement(we,{p:2,onClick:f,height:48,pl:5},"Send Feedback"),r.createElement(we,{p:2,onClick:d,height:48,pl:5},"Support"),n.length>0&&r.createElement(fe.a,{resource:de.c.Features,action:de.a.Update,yes:r.createElement(we,{p:2,onClick:function(){return i(!0)},height:48,pl:5},"Experimental")}),r.createElement(fe.a,{resource:de.c.User,action:de.a.Update,attributes:["password"],yes:r.createElement(we,{p:2,onClick:function(){return o(!0)},height:48,pl:5},"Change Password")}),r.createElement(we,{p:2,onClick:u,height:48,pl:5},"Logout"))),r.createElement(Pe,{title:"Change Password",open:a,onClose:function(){return o(!1)}},r.createElement(Fe,{onCancel:function(){return o(!1)},onChangePassword:function(e){s(Object(k.a)({username:t},e)),o(!1)}})),r.createElement(Pe,{title:r.createElement(L.a,{variant:2},"Toggle Features"),open:c,onClose:function(){return i(!1)},footer:r.createElement(M.a,{onClick:function(){return i(!1)},large:!0,ml:2},"Ok")},r.createElement(Ne,{onChangeFeature:l,features:n})))}var qe=Object(i.default)(se.Box).withConfig({displayName:"HoverBox",componentId:"nj1bv1-0"})(["display:",";"],function(e){return e.show?"block":"none"}),Ge=r.memo(qe),Be=Object(i.default)(se.Flex).withConfig({displayName:"HoverFlex",componentId:"sc-19o9o4p-0"})(["&:hover ","{display:block;}"],qe),Ve=r.memo(Be),ze=n(170),We=Object(i.default)(ze.a).withConfig({displayName:"TabTooltip__StyledTippy",componentId:"sc-3f48fh-0"})(["border-radius:",";box-shadow:8px 9px 21px 0 rgba(0,0,0,0.25);background-color:rgba(44,57,81,0.96);padding:0;&[x-placement^='right-start']{.tippy-arrow{margin-left:-1px;transform:scale(0.8);border-right-color:rgba(44,57,81,0.96);}}"],Object(U.themeGet)("radii.large"));function Ye(e){var t=e.children,n=e.content,a=e.title,c=Object(S.a)(e,["children","content","title"]);return r.createElement(We,Object.assign({content:r.createElement(R.Flex,{width:320,flexDirection:"column",style:{textAlign:"left"},p:4,pt:3},r.createElement(L.a,{variant:4,color:"inherit",mb:2},a),r.createElement(N.a,{variant:"caption.primary",color:"inherit",lineHeight:"normal"},n))},c),r.createElement(R.Box,null,t))}Ye.defaultProps={placement:"right-start",delay:[500,0],arrow:!0,distance:16};var Qe=Object(i.default)(Oe.a).withConfig({displayName:"NavBar__SubMenu",componentId:"cc3ovu-0"})(["opacity:0;transition:opacity ease 0.2s;"]),Ke=Object(i.default)(R.Box).withConfig({displayName:"NavBar__Container",componentId:"cc3ovu-1"})(["position:relative;z-index:110;height:100%;"]),Xe=Object(i.default)(Te).withConfig({displayName:"NavBar__AnimatedSeparator",componentId:"cc3ovu-2"})(["opacity:0;transition:opacity ease 0.2s;"]),Je=Object(i.default)(ge).withConfig({displayName:"NavBar__AnimatedAside",componentId:"cc3ovu-3"})(["&:hover{","{opacity:1;}","{opacity:0.1;}}"],Qe,Xe);function Ze(e){var t=e.features,n=e.modelIsTraining,a=e.onChangeFeature,c=e.onChangePassword,o=e.onEmailSupport,i=e.onSendFeedback,s=e.onLogout,u=e.onNavigate,d=e.onTrainModel,f=e.path,p=e.username,m=r.useState(!1),b=Object(A.a)(m,2),h=b[0],v=b[1],E=r.useState(!1),O=Object(A.a)(E,2),x=O[0],y=O[1];return r.createElement(Ke,{width:"64px"},r.createElement(Je,{width:"64px",widthHover:"248px"},r.createElement(Oe.a,{style:{overflow:"hidden"},height:"100%",pt:8,width:1,flexDirection:"column"},g.a&&r.createElement(fe.a,{resource:de.c.Analytics,action:de.a.Read,yes:r.createElement(pe,{name:"analytics"},r.createElement(Ye,{title:"Analytics",content:"See how users engage with your assistant."},r.createElement(we,{onClick:function(){return u("/analytics")},active:null!==Object(l.f)(f,{path:"/analytics"}),icon:r.createElement(D.a,{icon:"chart-line"})},"Analytics")))}),r.createElement(fe.a,{resource:de.c.Messages,action:de.a.Create,yes:r.createElement(Ye,{title:"Talk to your bot",content:"Try out your assistant. Switch on interactive learning mode to correct any mistakes it makes!"},r.createElement(we,{onClick:function(){return u("/talk")},active:null!==Object(l.f)(f,{path:"/talk"}),icon:r.createElement(D.a,{icon:"comment"})},"Talk to your bot"))}),r.createElement(fe.a,{resource:de.c.Clients,action:de.a.Read,yes:r.createElement(Ye,{title:"Conversations",content:"Scan conversations real users have had with your assistant. Correct mistakes your model has made and help it improve."},r.createElement(we,{onClick:function(){return u("/conversations")},active:null!==Object(l.f)(f,{path:"/conversations"}),icon:r.createElement(D.a,{icon:"comments"})},"Conversations"))}),r.createElement(fe.a,{resource:de.c.Models,action:de.a.Read,yes:r.createElement(Ye,{title:"Models",content:g.a?"View your models and deploy to different environments.":"View your models. To update your assistant, mark a new model as active."},r.createElement(we,{onClick:function(){return u("/models")},active:null!==Object(l.f)(f,{path:"/models"}),icon:r.createElement(D.a,{icon:"tachometer-alt",fontSize:"20px",p:"6px"})},"Models"))}),r.createElement(fe.a,{resource:[de.c.Examples,de.c.Logs],action:de.a.Read,yes:r.createElement(r.Fragment,null,r.createElement(we,{onClick:function(){return u("/data")},active:null!==Object(l.f)(f,{path:"/data"}),icon:r.createElement(D.a,{icon:"inbox",fontSize:"20px",p:"6px"})},"Training"),r.createElement(Qe,{pt:1,flexDirection:"column"},r.createElement(R.Card,{ml:5,borderLeft:"2px solid",borderColor:"rgba(216,216,216,0.08)"},r.createElement(Ye,{title:"NLU Training",content:"View NLU predictions. Correct any mistakes and create training data."},r.createElement(we,{onClick:function(){return u("/data")},active:null!==Object(l.f)(f,{path:"/data"}),height:48,pl:40,lineBefore:!1},"NLU Training")),r.createElement(fe.a,{resource:de.c.ResponseTemplates,action:de.a.Read,yes:r.createElement(Ye,{title:"Responses",content:"View and edit the response templates your assistant will use to send messages."},r.createElement(we,{onClick:function(){return u("/responses")},active:null!==Object(l.f)(f,{path:"/responses"}),height:48,pl:40,lineBefore:!1},"Responses"))}),r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Read,yes:r.createElement(pe,{name:"interactiveLearning"},r.createElement(Ye,{title:"Stories",content:"View, edit and compare your stories."},r.createElement(we,{onClick:function(){return u("/stories")},active:null!==Object(l.f)(f,{path:"/stories"}),height:48,pl:40,lineBefore:!1},"Stories")))}),r.createElement(fe.a,{resource:de.c.Models,action:de.a.Read,attributes:["settings"],yes:r.createElement(Ye,{title:"Configuration",content:"Edit your model configuration."},r.createElement(we,{onClick:function(){return u("/config")},active:null!==Object(l.f)(f,{path:"/config"}),height:48,pl:40,lineBefore:!1},"Configuration"))}),r.createElement(fe.a,{resource:de.c.Domain,action:de.a.Read,yes:r.createElement(Ye,{title:"Domain",content:"Edit your domain file."},r.createElement(we,{onClick:function(){return u("/domain")},active:null!==Object(l.f)(f,{path:"/domain"}),height:48,pl:40,lineBefore:!1},"Domain"))}),r.createElement(R.Box,{pl:5,pr:4,pb:2},r.createElement(Te,{mt:2,mb:4,opacity:.1}),r.createElement(M.a,{width:1,large:!0,bgDisabled:void 0,colorDisabled:void 0,disabled:n,style:{opacity:n?.5:1},onClick:d,children:n?"Training...":"Train"})))))}),r.createElement(R.Box,{flex:"1"}),r.createElement(R.Box,{px:3},r.createElement(Xe,null)),g.a&&r.createElement(fe.a,{resource:[de.c.Users,de.c.Roles],action:de.a.Read,yes:r.createElement(Ve,null,r.createElement(we,{icon:r.createElement(D.a,{icon:"user",fontSize:"20px",p:"6px"}),rightArrow:!0},"Admin"),r.createElement(Ge,{style:{position:"absolute",transform:"translateY(-100%) translateY(64px)",left:"100%",zIndex:-1}},r.createElement(R.Card,{width:248,py:2,bg:"dark_1",borderRadius:"normal",boxShadow:"0 0 13px 0 #b0b0b2",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0}},r.createElement(Oe.a,{flexDirection:"column"},r.createElement(fe.a,{resource:de.c.Users,action:de.a.Read,yes:r.createElement(we,{p:2,onClick:function(){return u("/users")},height:48,pl:5},"Manage users")}),r.createElement(fe.a,{resource:de.c.Roles,action:de.a.Read,yes:r.createElement(we,{p:2,onClick:function(){return u("/roles")},height:48,pl:5},"Manage roles")})))))}),r.createElement(Ve,null,r.createElement(we,{icon:r.createElement(Ee,{variant:"small",username:p,m:"2px"}),rightArrow:!0},p),r.createElement(Ge,{style:{position:"absolute",transform:"translateY(-100%) translateY(64px)",left:"100%",zIndex:-1}},r.createElement(He,{username:p,features:t,passwordModalOpen:h,featuresModalOpen:x,onChangePassword:c,onChangeFeature:a,onLogout:s,onSendFeedback:i,onEmailSupport:o,onChangePasswordModal:function(e){return v(e)},onChangeFeaturesModal:function(e){return y(e)}}))))))}var $e={onLogout:le.h,onChangePassword:le.a.request,onChangeFeature:le.i.request,onFetchFeatures:le.d.request,onTrainModel:ue.k.request},et=function(){window.location.href="mailto:support@rasa.com"},tt=function(){return window.open("https://rasahq.typeform.com/to/NSJvZM","_blank")};var nt=Object(l.g)(Object(s.b)(function(e){return{username:e.auth.username,role:e.auth.role,features:e.auth.features,modelIsTraining:e.models.modelIsTraining}},$e)(function(e){var t=e.username,n=e.history,a=e.location,c=e.onLogout,o=Object(S.a)(e,["username","history","location","onLogout"]);return null===t?null:r.createElement(Ze,Object.assign({onLogout:function(){return c(!1)},onEmailSupport:et,onSendFeedback:tt,onNavigate:n.push,path:a.pathname,username:t},o))}));function rt(e){var t=e.latestModelIsNew,n=e.modelIsTraining,a=e.trainingFailed,c=e.cleanState,o=e.children,i=e.onNavigate,s=te(),l=s.addToast,u=s.removeToast;return r.useEffect(function(){c||(t&&!n&&l({head:"Training is done",actions:r.createElement(M.a,{variant:"inverse",large:!0,width:1,onClick:function(){i("/models"),u("modelTrainingStatus")}},"See new model"),key:"modelTrainingStatus",icon:r.createElement(D.a,{icon:["far","check-circle"],mr:2})}),n&&l({head:"Training started",key:"modelTrainingStatus",icon:r.createElement(D.a,{icon:["fas","spinner"],spin:!0,mr:2})}),a&&l({head:"Training failed",content:"Your model training has failed.",variant:"error",key:"modelTrainingStatus"}))},[l,t,n,a,c,i,u]),r.createElement(r.Fragment,null,o)}var at={onStartPollingHealth:ue.j,onFetchFeatures:le.d.request};var ct=Object(s.b)(function(e){return{accessToken:e.auth.accessToken,role:e.auth.role,modelIsTraining:e.models.modelIsTraining,latestModelIsNew:e.models.latestModelIsNew,trainingFailed:e.models.trainingFailed,cleanState:e.models.cleanState}},at)(function(e){var t=e.authRequired,n=e.accessToken,a=(e.role,e.onFetchFeatures),c=(e.onStartPollingHealth,e.latestModelIsNew),o=e.modelIsTraining,i=e.trainingFailed,s=e.cleanState,u=e.component,d=Object(S.a)(e,["authRequired","accessToken","role","onFetchFeatures","onStartPollingHealth","latestModelIsNew","modelIsTraining","trainingFailed","cleanState","component"]);return r.useEffect(function(){a()},[a]),t&&!n?r.createElement(l.b,{to:{pathname:"/login"}}):r.createElement(l.c,Object.assign({},d,{render:function(e){var t=e.history,n=Object(S.a)(e,["history"]);return r.createElement(rt,{trainingFailed:i,latestModelIsNew:c,modelIsTraining:o,cleanState:s,onNavigate:t.push},r.createElement(se.Flex,{style:{height:"100%"}},r.createElement(se.Box,{flex:"0 0 auto"},r.createElement(nt,null)),r.createElement(u,Object.assign({history:t},n))))}}))}),ot=n(1),it=n(76),st=n(14),lt=n(139),ut=n(47),dt=n(94),ft={filterIsEmpty:Object(lt.a)(function(e){return e.filter},function(e){return Object(ut.isEqual)(e,dt.a.filter)})},pt=n(34),mt=n(16),bt=n(57),gt=n.n(bt),ht=Object(i.default)(R.Flex).attrs(function(e){switch(e.variant){case"primary":return Object(k.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(k.a)({bg:"secondary_2",color:"neutral_0"},e)}}).withConfig({displayName:"Alert",componentId:"sc-1e9sl3p-0"})([""," "," "," "," justify-content:space-between;",""],U.maxWidth,U.letterSpacing,U.lineHeight,U.borderRadius,function(e){return e.absolute&&"\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n  "});ht.defaultProps={variant:"primary",m:3,px:3,py:"12px",fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"8px"};var vt=r.memo(ht),Et=n(43),Ot=Object(i.default)(R.Flex).withConfig({displayName:"Client__ClientFlex",componentId:"sc-1j882q0-0"})(["overflow:hidden;cursor:pointer;height:72px;background-color:",";transition:background-color ease 0.2s;&:hover{background-color:",";}"],function(e){return e.active?Object(U.themeGet)("colours.neutral_1"):Object(U.themeGet)("colours.neutral_0")},Object(U.themeGet)("colours.neutral_1")),xt=r.memo(function(e){var t=e.currentUser,n=void 0!==t&&t,a=e.active,c=e.client,o=e.timestamp,i=e.channel,s=e.onSelect,l=e.flagged,u=(e.ref,Object(S.a)(e,["currentUser","active","client","timestamp","channel","onSelect","flagged","ref"]));return r.createElement(Ot,Object.assign({px:4,py:3,onClick:function(){return s(c)},active:a,alignItems:"center"},u),r.createElement(R.Box,{mr:3},n?r.createElement(Ee,{variant:"large",username:c}):r.createElement(Ee,{variant:"large",bg:"neutral_3"},r.createElement(D.a,{icon:["fas","user"]}))),n&&r.createElement(ye,null,r.createElement(L.a,{variant:4,color:"neutral_8"},c," (You)")),!n&&r.createElement(ye,null,r.createElement(L.a,{variant:5,color:"neutral_8"},"number"===typeof o?gt.a.unix(o).format("h:mm a, D MMM YYYY"):"No timestamp"),i&&r.createElement(N.a,{variant:"caption.primary",lineHeight:"normal"},i)),r.createElement(R.Box,{flex:"1"}),l&&r.createElement(R.Flex,{flex:"0 1 24px",fontSize:"8px",color:"secondary_2",alignItems:"center",justifyContent:"center"},r.createElement(D.a,{icon:["fas","flag-alt"]})))});function yt(e){e.ref;var t=Object(S.a)(e,["ref"]);return r.createElement(Ot,Object.assign({px:4,py:3,alignItems:"center"},t),r.createElement(R.Box,{mr:3},r.createElement(Ee,{variant:"large",bg:"neutral_3"},r.createElement(D.a,{icon:["fas","user"]}))),r.createElement(ye,null,r.createElement(L.a,{variant:5,loading:!0},"\u2588\u2588\u2588\u2588 \u2588\u2588 \u2588\u2588 \u2588\u2588\u2588 \u2588\u2588\u2588\u2588"),r.createElement(N.a,{variant:"caption.primary",lineHeight:"normal",loading:!0},"\u2588\u2588\u2588\u2588\u2588")))}function jt(e){var t=e.pastDelay,n=e.children,a=Object(S.a)(e,["pastDelay","children"]);return!1===t?null:r.createElement(R.Flex,Object.assign({justifyContent:"center",alignItems:"center",flexDirection:"column",color:"neutral_6",style:{textAlign:"center",height:"100%",width:"100%"}},a),r.createElement(D.a,{icon:"circle-notch",spin:!0,mb:2,fontSize:5}),r.createElement(N.a,{variant:"body.secondary",color:"inherit"},n))}var Ct=r.memo(function(e){var t=e.conversations,n=e.conversationId,a=e.loading,c=e.onSelectConversation,o=e.onLoadMoreRows,i=e.filter,s=e.total,l=r.useCallback(function(e){var t=e.startIndex,n=e.stopIndex;return o?o({filter:i,offset:t,limit:n-t+1}):new Promise(function(e){return e()})},[i,o]),u=r.useCallback(function(e){var a=e.key,o=e.index,i=e.style,s=t[o];return s?r.createElement(xt,{key:a,style:i,active:n===s.sender_id,client:s.sender_id,timestamp:s.latest_event_time,channel:s.latest_input_channel,onSelect:c,flagged:s.flagged_messages&&s.flagged_messages.length>0}):r.createElement(yt,{key:a,style:i})},[t,n,c]);return r.createElement(r.Fragment,null,a&&Object(ut.isEmpty)(t)&&r.createElement(jt,{mt:20},"Loading conversations"),r.createElement(Et.a,null,function(e){return r.createElement(Et.e,{isRowLoaded:function(e){var n=e.index;return void 0!==t[n]},loadMoreRows:l,rowCount:s},function(t){var n=t.onRowsRendered,a=t.registerChild;return r.createElement(Et.f,{ref:a,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:s,rowHeight:72,rowRenderer:u})})}))}),wt=n(83),St=n(84),kt=n(87),Tt=n(85),At=n(88),Rt=n(307),It=n.n(Rt),Ft=n(308),_t=n.n(Ft),Nt=Object(i.default)(R.Box).attrs(function(e){return Object(k.a)({bg:e.highlighted?"neutral_2":"transparent",borderColor:e.highlighted?"primary_2":"transparent"},e)}).withConfig({displayName:"MessageContainer",componentId:"sc-4mrjp8-0"})([""," "," border-style:solid;border-bottom-width:0;border-right-width:2px;border-left-width:0;border-top-width:0;"],U.borderRight,U.borderColor);Nt.defaultProps={px:4,py:2};var Mt=r.memo(Nt),Lt=Object(U.variant)({prop:"actionVariant",key:"actions"}),Dt=Object(i.default)(N.a).withConfig({displayName:"Action__ActionBubble",componentId:"sc-1qhiy2r-0"})([""," ",""],Lt,function(e){return e.filteredByConfidence&&"font-weight: bold;"}),Ut=i.default.span.withConfig({displayName:"Action__ConfidenceContainer",componentId:"sc-1qhiy2r-1"})(["font-weight:normal;"]);function Pt(e){var t=e.wrapped,n=e.style,a=(e.selected,e.highlighted),c=e.name,o=e.timestamp,i=void 0===o?Pt.defaultProps.timestamp:o,s=e.onClick,l=void 0===s?Pt.defaultProps.onClick:s,u=e.variant,d=e.confidence,f=e.filteredByConfidence,p=e.onUndoMessage,m=(e.ref,Object(S.a)(e,["wrapped","style","selected","highlighted","name","timestamp","onClick","variant","confidence","filteredByConfidence","onUndoMessage","ref"])),b=r.createElement(ye,null,r.createElement(Dt,Object.assign({actionVariant:u,variant:"caption.secondary",filteredByConfidence:f,title:c||void 0},m),c,d&&f&&r.createElement(Ut,null,"(",d.toFixed(1)," confidence)")));if(!t)return b;var g=r.createElement(Ve,{flexDirection:"row",alignItems:"end"},b,p&&r.createElement(Ge,{show:!1,alignSelf:"center"},r.createElement(M.a,{onClick:function(){return p(i)}},r.createElement(D.a,{icon:"undo"}))));return r.createElement(Mt,{style:n,highlighted:a,onClick:function(){return l(i)}},p?g:r.createElement(R.Box,{px:8},b))}Pt.defaultProps={timestamp:0,onClick:function(e){return e},fontSize:0,letterSpacing:0,color:"neutral_6"};var Ht=Object(i.default)(R.Box).attrs(function(e){switch(e.variant){case"primary":return Object(k.a)({bg:"primary_2",color:"neutral_0"},e);case"secondary":return Object(k.a)({bg:"neutral_3",color:"neutral_8"},e);case"flagged":return Object(k.a)({bg:"secondary_2",color:"neutral_0"},e);case"neutral":return Object(k.a)({bg:"neutral_0",color:"neutral_8"},e)}}).withConfig({displayName:"MessageBubble",componentId:"sc-1x3w0io-0"})([""," "," "," border-radius:",";"],U.maxWidth,U.letterSpacing,U.lineHeight,function(e){return e.reverseAlign?"4px 20px 20px 20px":"20px 4px 20px 20px"});Ht.defaultProps={variant:"primary",reverseAlign:!1,px:3,py:2,maxWidth:"408px",fontSize:2,letterSpacing:0,lineHeight:"normal"};var qt=r.memo(Ht);function Gt(e){var t=e.onClick,n=e.buttons;return void 0===n||null===n||0===n.length?null:r.createElement("div",{style:{padding:"10px 25px"}},n.map(function(e){return r.createElement(M.a,{disabled:!t,key:e.payload,onClick:function(n){n.stopPropagation(),t(e.payload)},mr:2,variant:"primary"},e.title)}))}function Bt(e){var t=e.children;return r.createElement("span",null,t)}function Vt(e){var t=e.children,n=e.href;return r.createElement("a",{href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank"},t)}function zt(e){var t=e.confidence,n=e.confidenceFilter,a=e.children,c=e.data,o=e.flagged,i=e.formatted,s=e.highlighted,l=e.last,u=e.onClick,d=void 0===u?zt.defaultProps.onClick:u,f=e.onFlagMessage,p=e.onLoad,m=void 0===p?zt.defaultProps.onLoad:p,b=e.onUndoMessage,g=e.onMessageButtonClick,h=e.optimistic,v=e.style,E=e.text,O=e.timestamp,x=e.user,y=e.userAvatar,j=e.interactive,C=!x&&!h,w=o?"flagged":s&&C?"neutral":C?"secondary":"primary";return r.createElement(Mt,{style:v,highlighted:s,role:"button",onClick:function(){return void 0!==O&&d(O)},onKeyPress:function(e){return void 0!==O&&"Enter"===e.key&&d(O)},tabIndex:0,"data-e2e":"MessageContainer-".concat(x?"user":"bot","-").concat(O||0)},r.createElement(Ve,{flexDirection:x?"row-reverse":"row",alignItems:"end"},r.createElement(R.Box,null,x&&y?r.createElement(Ee,{variant:"medium"},y):!x||j||y?x&&j&&!y?r.createElement(Ee,{variant:"medium",username:x}):r.createElement(Ee,{variant:"medium"},r.createElement(D.a,{icon:["fas","robot"]})):r.createElement(Ee,{variant:"medium",bg:"neutral_3"},r.createElement(D.a,{fontSize:14,icon:["fas","user"]}))),r.createElement(R.Box,null,r.createElement(qt,{reverseAlign:C,variant:w,mx:2},null!==E&&r.createElement(It.a,{source:E,skipHtml:!1,allowedTypes:["text","root","break","paragraph","emphasis","strong","link","list","listItem","image"],renderers:{paragraph:Bt,link:Vt},plugins:[_t.a]}),c&&c.attachment&&r.createElement("img",{src:c.attachment,onLoad:m,alt:"Attachment sent by bot",style:{maxWidth:"100%"}}),a)),f&&O&&r.createElement(Ge,{show:o,alignSelf:"center"},r.createElement(M.a,Object.assign({variant:"plainIcon",onClick:function(e){e.stopPropagation(),f(O,!o)}},o&&{color:"secondary_2"}),r.createElement(D.a,{icon:["fas","flag-alt"]}))),b&&O&&r.createElement(Ge,{show:!1,alignSelf:"center"},r.createElement(M.a,{onClick:function(){return b(O)}},r.createElement(D.a,{icon:"undo"})))),r.createElement(R.Flex,{flexDirection:x?"row-reverse":"row",mt:2,px:8},r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Read,yes:x&&i?r.createElement(R.Box,null,r.createElement(Pt,{name:i,confidence:t,filteredByConfidence:n>=t})):null})),l&&g&&r.createElement(Gt,{buttons:c&&c.buttons,onClick:g}))}zt.defaultProps={data:null,text:null,children:null,highlighted:!1,selected:!1,user:!1,optimistic:!1,style:{},onClick:function(){},onLoad:function(){},onMessageButtonClick:null,last:!1};var Wt=n(309),Yt=n.n(Wt),Qt=Object(i.default)(R.Image).withConfig({displayName:"Image",componentId:"gut8w4-0"})([""]);Qt.defaultProps={as:"img"};var Kt=r.memo(Qt);function Xt(e){e.ref;var t=Object(S.a)(e,["ref"]);return r.createElement(R.Flex,{flex:"1 1 auto",color:"neutral_6",flexDirection:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"}},r.createElement(Kt,{width:188,src:Yt.a,alt:"Rasa Logo",mb:4}),r.createElement(L.a,{variant:4},"Talk to your bot!"),r.createElement(N.a,Object.assign({as:"div",color:"inherit",children:"There are currently no messages in this conversation.",textAlign:"center",variant:"body.secondary",style:{maxWidth:"200px"},p:2},t)))}var Jt=n(29);function Zt(e){var t=e.event;switch(t.event){case"user":var n=t.parse_data.entities,r=t.parse_data.intent?t.parse_data.intent.name:"null",a=0===n.length?"":JSON.stringify(n.reduce(function(e,t){return Object(k.a)({},e,Object(Jt.a)({},t.entity,t.value))},{}));return"".concat(r).concat(a);case"slot":return"slot".concat(JSON.stringify(Object(Jt.a)({},t.name,t.value)));case"action":return t.name;case"bot":return t.text;default:return""}}var $t=function(e){function t(){var e,n;Object(wt.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(kt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(c)))).state={scrollToIndex:-1,stopIndex:-1,events:null,environment:"",client:null,selectedTimestamp:0},n.cache=new Et.c({fixedWidth:!0,defaultHeight:75,keyMapper:function(e){var t=n.props,r=t.events,a=t.client,c=r[e].timestamp;return"".concat(a,"-").concat(c)}}),n.handleRender=Object(ut.debounce)(function(e){var t=e.stopIndex;n.setState({scrollToIndex:-1,stopIndex:t})},100),n.renderRow=function(e){var t=e.index,a=e.key,c=e.style,o=e.parent,i=n.props,s=i.events,l=i.selectedTimestamp,u=i.onMessageClick,d=i.onMessageButtonClick,f=i.onFlagMessage,p=i.onUndoMessage,m=i.client,b=i.userAvatar,g=i.interactive,h=i.filter,v=Object(ut.findLastIndex)(s,function(e){return"bot"===e.event});return r.createElement(Et.b,{cache:n.cache,columnIndex:0,key:a,parent:o,rowIndex:t},function(e){var n=e.measure,a=s[t],o=a.timestamp;if("restart"===a.event)return r.createElement(Te,{py:6,px:4,style:c},r.createElement(N.a,{as:"span",flex:"1 0 auto",variant:"metadata",color:"neutral_6"},"Restart"));var i=o<=l&&(a.nextRestart||1/0)>l;return"action"===a.event||"slot"===a.event?r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Read,yes:r.createElement(Pt,{style:c,selected:o===l,highlighted:i,onClick:function(){return u(a)},name:Zt({event:a}),timestamp:a.timestamp,onUndoMessage:p,wrapped:!0,confidence:"action"===a.event?a.confidence:null,filteredByConfidence:h&&"action"===a.event&&null!==h.confidence&&h.confidence>=a.confidence})}):"user"!==a.event&&"bot"!==a.event?null:a.text?r.createElement("div",{style:c},r.createElement(zt,{data:"bot"===a.event&&a.data||null,formatted:Zt({event:a}),highlighted:i,last:t>=v,onClick:function(){return u(a)},onUndoMessage:p,onFlagMessage:f,onLoad:n,onMessageButtonClick:d,optimistic:"user"===a.event&&!!a.isOptimistic,flagged:a.is_flagged,text:a.text,timestamp:o,user:"user"===a.event?m:null,userAvatar:b,confidence:"user"===a.event?a.parse_data.intent.confidence:null,confidenceFilter:h?h.confidence:null,interactive:g})):null})},n}return Object(At.a)(t,e),Object(St.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.awaitingResponse,a=n.environment,c=n.selectedTimestamp,o=n.events,i=n.client,s=this.state.scrollToIndex;return e.client!==i||e.environment!==a?(this.cache.clearAll(),!0):e.awaitingResponse!==r||e.events.length!==o.length||(t.scrollToIndex!==s||e.events.filter(function(e){return e.is_flagged}).length!==o.filter(function(e){return e.is_flagged}).length||e.selectedTimestamp!==c)}},{key:"render",value:function(){var e=this,t=this.props.events,n=this.state.scrollToIndex;return r.createElement(Et.a,null,function(a){return r.createElement(Et.f,Object.assign({},a,{deferredMeasurementCache:e.cache,overscanRowCount:10,noRowsRenderer:function(){return r.createElement(Xt,null)},rowCount:t.length,rowHeight:e.cache.rowHeight,rowRenderer:e.renderRow,scrollToIndex:n,onRowsRendered:e.handleRender,style:{overflowX:"hidden"}}))})}}],[{key:"scrollToBottom",value:function(e,t,n){var r=e.events,a=t.events,c=t.stopIndex,o=t.scrollToIndex,i=c>=(a||[]).length-1-1,s=r.length-1;return s===o||!i&&!n?{}:{scrollToIndex:s}}},{key:"getDerivedStateFromProps",value:function(e,n){var r=n.environment,a=n.events,c=n.client,o=n.selectedTimestamp,i={environment:e.environment,events:e.events,client:e.client,selectedTimestamp:e.selectedTimestamp};if(!e.interactive)return Object(k.a)({},i,{scrollToIndex:0});if(o!==e.selectedTimestamp)return Object(k.a)({},i,{scrollToIndex:e.events.findIndex(function(t){return t.timestamp===e.selectedTimestamp})});if(c!==e.client||r!==e.environment)return Object(k.a)({},i,t.scrollToBottom(e,n,!0));var s=a&&a.slice(-1)[0];if(!s)return Object(k.a)({},i,t.scrollToBottom(e,n,!0));if(e.awaitingResponse)return Object(k.a)({},i,t.scrollToBottom(e,n));var l=e.events.slice(-1)[0];if(!l)return null;var u=s.timestamp;return l.timestamp>u?Object(k.a)({},i,t.scrollToBottom(e,n)):null}}]),t}(r.Component);function en(){var e=Object(q.a)(["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n  {({ style }) => style}\n"]);return en=function(){return e},e}function tn(){var e=Object(q.a)(["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"]);return tn=function(){return e},e}$t.defaultProps={events:[],onMessageClick:function(){},onMessageButtonClick:function(){},selectedTimestamp:0,awaitingResponse:null};var nn=Object(i.keyframes)(tn()),rn=Object(i.default)(D.a)(en(),nn),an=r.memo(function(){return r.createElement(rn,{icon:"ellipsis-h",size:"2x"})}),cn=n(310),on=n.n(cn),sn=n(255),ln=Object(i.default)(on.a).withConfig({displayName:"Textarea__EditableArea",componentId:"sc-1i2s84y-0"})([""," "," "," line-height:1;width:100%;min-height:calc(("," * 2) + ","px);background:transparent;white-space:pre-wrap;word-wrap:break-word;border-radius:",";resize:none;outline:none;display:inline-block;cursor:text;&:empty:before{content:attr(placeholder);display:block;color:",";}"],U.space,U.fontSize,U.borders,function(e){return e.px},function(e){return Number(e.fontSize)/2},Object(U.themeGet)("radius"),Object(U.themeGet)("colours.neutral_6")),un=function(e){function t(){var e,n;Object(wt.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(kt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(c)))).state={height:0},n.container=r.createRef(),n.ro=new sn.default(function(e){var t=Object(A.a)(e,1)[0],r=n.props.onResize,a=t.contentRect.height,c=n.state.height;r&&a!==c&&(n.setState({height:a}),r())}),n}return Object(At.a)(t,e),Object(St.a)(t,[{key:"componentDidMount",value:function(){var e=this.container.current;e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.container.current;e&&this.ro.unobserve(e)}},{key:"render",value:function(){var e=this.props,t=e.onEnter,n=e.onChange,a=e.returnHtml,c=e.forwardedRef,o=(e.onResize,e.onSelect),i=e.value,s=Object(S.a)(e,["onEnter","onChange","returnHtml","forwardedRef","onResize","onSelect","value"]);return r.createElement("div",{ref:this.container,onKeyDown:function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e))},onSelect:function(e){return o&&o(e,e.currentTarget)}},r.createElement(ln,Object.assign({onChange:function(e){var t=e.target.value;if(a)n(t);else{var r=document.createElement("div");r.innerHTML=t,n(r.textContent||"")}},html:i||"",innerRef:c},s)))}}]),t}(r.Component);un.defaultProps={fontSize:13,px:0,py:0};var dn=r.forwardRef(function(e,t){return r.createElement(un,Object.assign({forwardedRef:t},e))}),fn=n(55),pn=r.memo(function(e){var t=e.autoFocus,n=void 0===t||t,a=e.onSendMessage,c=r.useState(""),o=Object(A.a)(c,2),i=o[0],s=o[1],l=r.useRef(null);r.useEffect(function(){n&&l.current&&l.current.focus()},[n]);var u=r.useCallback(function(e){s(""),a(e)},[a]);return r.createElement(R.Card,{style:{height:"72px"},borderTop:"1px solid",borderColor:"neutral_4",p:4},r.createElement(R.Flex,null,r.createElement(R.Box,{flex:"1 0 auto",width:"0"},r.createElement(dn,{border:"0 none",placeholder:"Start typing a message...",fontSize:3,value:i,onChange:s,onEnter:r.useCallback(function(){return u(i)},[u,i]),ref:l})),r.createElement(R.Box,{flex:"0 1 auto",alignSelf:"center"},r.createElement(M.a,{variant:"plainIcon",fontSize:4,p:0,onClick:r.useCallback(function(){return u("/restart")},[u])},r.createElement(fn.a,{content:"Restart"},r.createElement(D.a,{icon:"sync"}))),r.createElement(M.a,{variant:"plainIcon",fontSize:4,p:0,ml:20,onClick:r.useCallback(function(){return u(i)},[u,i])},r.createElement(fn.a,{content:"Send"},r.createElement(D.a,{icon:"paper-plane"}))))))}),mn=r.memo(function(e){var t=e.awaitingResponse,n=e.client,a=e.conversation,c=e.environment,o=e.filter,i=e.onMessageClick,s=e.onFlagMessage,l=e.onSendMessage,u=e.onUndoMessage,d=e.timestamp,f=e.userAvatar;return r.createElement(se.Flex,{flexDirection:"column",style:{height:"100%",overflow:"auto"}},r.createElement(se.Box,{flex:"1 1 80%"},r.createElement(se.Flex,{flexDirection:"column",style:{height:"100%"}},r.createElement(se.Box,{flex:"1 1 auto",style:{overflow:"hidden"}},a&&r.createElement($t,{awaitingResponse:t,client:n,environment:c,events:a,filter:o,onFlagMessage:s,onMessageButtonClick:l||null,onMessageClick:i,onUndoMessage:u,selectedTimestamp:d,userAvatar:f,interactive:!!l})),t&&r.createElement(se.Box,null,r.createElement(zt,null,r.createElement(an,null))))),l&&r.createElement(se.Box,{flex:"0 1"},r.createElement(pn,{onSendMessage:l})))}),bn=Object(i.default)(Ee).withConfig({displayName:"ConversationInfo__StyledAvatar",componentId:"sc-11m6kxc-0"})(["position:absolute;"]),gn=Object(i.default)(R.Flex).withConfig({displayName:"ConversationInfo__CenteredFlex",componentId:"sc-11m6kxc-1"})(["transform:translateY(-50%);top:50%;position:absolute;textalign:center;"]);function hn(){return r.createElement(gn,{mt:-30,px:100,flexDirection:"column",alignItems:"center"},r.createElement(R.Flex,{mb:3},r.createElement(bn,{variant:"xl"},r.createElement(D.a,{icon:["fas","robot"]})),r.createElement(Ee,{variant:"xl",bg:"neutral_3",ml:-44},r.createElement(D.a,{icon:["fas","user"]}))),r.createElement(L.a,{variant:4},"Demobot"),r.createElement(N.a,{variant:"body.secondary",my:2},"and"),r.createElement(L.a,{variant:4},"Anonymous user"),r.createElement(Te,{width:24,mt:6,mb:5}),r.createElement(N.a,{variant:"caption.primary"},"Select a message to view more"))}var vn=i.default.ul.withConfig({displayName:"Accordion",componentId:"sc-1nb2fj3-0"})([""," list-style:none;"],U.space);vn.defaultProps={p:0,m:0};var En=r.memo(vn);function On(){var e=Object(q.a)(["\n      transform: rotate(90deg);\n    "]);return On=function(){return e},e}var xn=Object(i.default)(R.Card).withConfig({displayName:"AccordionSection__AccordionListItem",componentId:"sc-1ww2xue-0"})(["border-style:solid;border-bottom-width:1px;&:first-child{border-top-width:1px;}"]);xn.defaultProps={border:0,borderColor:"neutral_4"};var yn=Object(i.default)(R.Flex).withConfig({displayName:"AccordionSection__Content",componentId:"sc-1ww2xue-1"})(["display:",";"],function(e){return e.expanded?"block":"none"}),jn=Object(i.default)(R.Flex).withConfig({displayName:"AccordionSection__IconContainer",componentId:"sc-1ww2xue-2"})(["transition:transform ease 0.1s;",""],function(e){return e.expanded&&Object(i.css)(On())}),Cn=Object(i.default)(R.Flex).withConfig({displayName:"AccordionSection__StyledFlex",componentId:"sc-1ww2xue-3"})(["cursor:pointer;"]);function wn(e){var t=e.title,n=e.children,a=Object(S.a)(e,["title","children"]),c=r.useState(a.expanded),o=Object(A.a)(c,2),i=o[0],s=o[1];return r.createElement(xn,{expanded:i},r.createElement(Cn,{p:20,flexDirection:"row",alignItems:"center",onClick:function(){return s(!i)}},r.createElement(jn,{alignItems:"center",size:24,mr:2,justifyContent:"center",expanded:i},r.createElement(D.a,{icon:"angle-right"})),r.createElement(L.a,{as:"h4"},t)),r.createElement(yn,{pl:7,pr:5,pb:5,expanded:i},n))}var Sn=n(311),kn=n.n(Sn),Tn=n(69);function An(e){var t=e.conversation,n=r.useMemo(function(){return t.filter(function(e){return"slot"===e.event}).reduce(function(e,t){return Object(k.a)({},e,Object(Jt.a)({},t.name,t.value))},{})},[t]),a=Object.keys(n);return r.createElement(Tn.a,{style:{height:"100%",overflow:"auto"}},0===a.length&&"No slots",a.map(function(e){return r.createElement("div",{key:e,style:{marginBottom:"1em"}},r.createElement("div",null,r.createElement("b",null,e)),r.createElement("div",null,"boolean"===typeof(t=n[e])||null===t?r.createElement("i",null,String(t)):"object"!==typeof t?t:r.createElement(kn.a,{name:!1,src:t,enableClipboard:!1})));var t}))}var Rn=n(312),In=n.n(Rn);function Fn(){var e=Object(q.a)(["\n      top: ",";\n      left: ",";\n      transform: translate(",", ",");\n      border-radius: "," ",";\n      border-",": 0 none;\n      border-",": 0 none;\n    "]);return Fn=function(){return e},e}var _n=Object(i.default)(R.Card).withConfig({displayName:"Clipboard__StyledClipboard",componentId:"sc-1xnd71g-0"})(["position:absolute;overflow:hidden;"," & .ClipboardButton{border:0 none;padding:2px 6px;cursor:pointer;"," &:hover{background-color:",";}}"],function(e){var t=e.theme,n=e.top,r=e.left,a=[n===r,n!==r].map(function(e){return e?t.radii.normal:0}).join(" ");return Object(i.css)(Fn(),n?0:"100%",r?0:"100%",r?0:"-100%",n?0:"-100%",a,a,n?"top":"bottom",r?"left":"right")},U.color,Object(U.themeGet)("colours.neutral_5"));function Nn(e){var t=e.text,n=(e.ref,Object(S.a)(e,["text","ref"])),a=r.useState(!1),c=Object(A.a)(a,2),o=c[0],i=c[1];return r.useEffect(function(){if(o){var e=setTimeout(function(){return i(!1)},5e3);return function(){return clearTimeout(e)}}},[o]),r.createElement(_n,Object.assign({border:"1px solid",borderColor:"neutral_5"},n),r.createElement(fn.a,{content:o?"Successfully copied":"Copy to clipboard"},r.createElement(In.a,{as:"button","button-className":"ClipboardButton","data-clipboard-text":t,onSuccess:function(){return i(!0)}},r.createElement(D.a,{icon:"clipboard",size:"sm"}))))}function Mn(e){var t=e.preformatted,n=e.children,a="string"===typeof n?n:n.join("\n");return r.createElement(Tn.a,{position:"relative",bg:"neutral_1"},r.createElement(Nn,{text:a,bg:"neutral_1"}),r.createElement(N.a,{variant:"code"},t&&Array.isArray(n)?n.map(function(e,t){return r.createElement("pre",{key:t,style:{margin:0}},e)}):n))}function Ln(e){var t=e.editable,n=e.onClearStory,a=e.onCopy,c=e.onSaveStory,o=e.storyName,i=e.conversation,s=r.useMemo(function(){var e=i.filter(function(e){return"user"===e.event||"slot"===e.event||"action"===e.event&&"action_listen"!==e.name}).map(function(e){return"".concat("user"!==e.event?"    - ":"* ").concat(Zt({event:e}))});return e.length>0?["## ".concat(o),""].concat(Object(T.a)(e)):[]},[i,o]);return r.createElement(En,null,r.createElement(wn,{title:"Story till now",expanded:!0},r.createElement(R.Box,null,r.createElement(Mn,{preformatted:!0,style:{height:"100%",overflow:"auto"}},0===s.length?"No story yet":s)),s.length>0&&(t?r.createElement(R.Flex,{mt:3,flexDirection:"row-reverse",mr:-1},r.createElement(M.a,{mx:1,onClick:function(){return c&&c({story:s.join("\n")})},variant:"primary"},"Save"),r.createElement(M.a,{mx:1,onClick:n,ml:1,variant:"secondary"},"Clear")):r.createElement(R.Flex,{flexDirection:"row-reverse",mt:3},r.createElement(M.a,{onClick:function(){return a&&a()},variant:"primary"},"Copy to interactive learning")))),r.createElement(wn,{title:"Slots",expanded:!0},r.createElement(An,{conversation:i})))}Nn.defaultProps={top:!0,left:!1},Mn.defaultProps={p:3};var Dn=n(64),Un=r.memo(function(e){var t=e.intent,n=e.intents,a=e.onChange,c=e.formatOptionLabel,o=void 0===c?function(e){return e.label}:c,i=e.rankedIntents,s=void 0===i?[]:i,l=Object(S.a)(e,["intent","intents","onChange","formatOptionLabel","rankedIntents"]),u=r.useMemo(function(){if(!s||0===s.length)return n.map(function(e){return{value:e,label:e,data:{name:e}}});var e=n.map(function(e){return{name:e}}),t=s.map(function(e){return Object(k.a)({},e,{confidence:e.confidence||0})}).sort(function(e,t){return Number(t.confidence)-Number(e.confidence)}).map(function(e){return Object(k.a)({},e,{confidence:Number(e.confidence)})}),r=t[t.length-1],a=Number(r.confidence||0).toPrecision(2);return Object(ut.uniqBy)(t.concat(e),"name").map(function(e){return{value:e.name,label:e.name,confidence:"confidence"in e?Number(e.confidence).toPrecision(2):"< ".concat(a),data:e}}).filter(function(e){return null!==e.value})},[s,n]),d=u.find(function(e){return e.value===t}),f=r.useCallback(function(e,t){return r.createElement(r.Fragment,null,r.createElement(N.a,{variant:"body.secondary"},o(e,t)),e.confidence&&r.createElement(N.a,{ml:1,variant:"body.secondary",color:"neutral_6"},"(",e.confidence,")"))},[o]),p=r.useCallback(function(e){return e&&!Array.isArray(e)&&a(e.data||{name:e.value})},[a]);return r.createElement(Dn.a,Object.assign({creatable:!0,formatOptionLabel:f,onChange:p,options:u,value:d},l))}),Pn=n(315),Hn=n.n(Pn);var qn=i.default.table.withConfig({displayName:"EntityTable__Table",componentId:"sc-35u3s-0"})(["width:100%;border-spacing:0;th{text-align:left;}td{padding:8px 8px 0 0;}td:nth-last-child(2){padding-right:0;}td:nth-child(1),td:nth-child(2){width:45%;}td:nth-child(3){text-align:center;padding:0;padding-top:8px;}"]);function Gn(e){var t=e.entities,n=e.onChangeEntity,a=e.entityTypes,c=e.onRemoveEntity,o=r.useCallback(function(e){return function(t){t&&!Array.isArray(t)&&n(Object(k.a)({},e,{entity:t.value}))}},[n]);return r.createElement(r.Fragment,null,r.createElement(qn,null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,r.createElement(L.a,{variant:5},"Synonym")),r.createElement("th",null,r.createElement(L.a,{variant:5},"Entity"))),t&&t.map(function(e){var t=function(e){return!!e.extractor&&!["ner_crf"].includes(e.extractor)}(e),i=e.value,s=e.entity?{value:e.entity,label:e.entity}:null;return r.createElement("tr",{key:"".concat(e.start,"-").concat(e.end,"-").concat(e.extractor||"none")},r.createElement("td",null,r.createElement(Ie.a,{fullWidth:!0,value:i,disabled:t,title:i,onChangeValue:function(t){return n(Object(k.a)({},e,{value:t}))}})),r.createElement("td",null,r.createElement(Dn.a,{creatable:!0,options:a.map(function(e){return{value:e,label:e}}),value:s,disabled:t,onChange:o(e)})),r.createElement("td",null,t?r.createElement(fn.a,{content:"This entity is read-only since it was extracted by a pre-trained model."},r.createElement(D.a,{icon:"exclamation-circle"})):r.createElement(M.a,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return c(e)}},r.createElement(D.a,{icon:"trash"}))))}))))}function Bn(e){var t=e.entities,n=e.entityTypes,a=e.onChangeEntity,c=e.onClickOutside,o=e.onRemoveEntity,i=e.text;return r.createElement(Hn.a,{onOutsideClick:c},r.createElement(Gn,{entities:t,entityTypes:n,onChangeEntity:a,onRemoveEntity:o,text:i}))}Bn.defaultProps={onClickOutside:function(){}};var Vn=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor};function zn(e){var t=e.message,n=e.intents,a=void 0===n?[]:n,c=e.onFlagMessage,o=e.correction,i=e.onChangeCorrection,s=e.onSaveCorrection,l=e.entityTypes,u=e.onChange,d=e.entities,f=r.useCallback(function(){c(t.timestamp,!t.is_flagged)},[c,t]),p=r.useCallback(function(e){return o&&i(Object(k.a)({},o,{intent:e.name}))},[o,i]),m=r.useCallback(function(e){return u(t.text,d.map(function(t){return Vn(t,e)?e:t}))},[d,u,t]),b=r.useCallback(function(e){var n=d?d.filter(function(t){return!Vn(t,e)}):[];u(t.text,n)},[d,u,t]),g=r.useCallback(function(){return o&&s(o)},[o,s]);return r.createElement(se.Flex,{flex:"1",flexDirection:"column"},r.createElement(se.Box,null,o&&r.createElement(r.Fragment,null,r.createElement(L.a,{variant:5,mb:2},"Correct intent"),r.createElement(Un,{intent:o.intent,intents:a,onChange:p}),d.length>0&&r.createElement(se.Box,{my:4},r.createElement(Te,{variant:"left",mb:3},r.createElement(L.a,{variant:5},"Correct entities")),r.createElement(Bn,{entityTypes:l,onChangeEntity:m,onRemoveEntity:b,text:t.text,entities:d}))),r.createElement(se.Flex,{mt:2},r.createElement(se.Box,{flex:"1"}),r.createElement(se.Box,null,r.createElement(M.a,{onClick:f,variant:"secondary"},t.is_flagged?"Unflag":"Flag"),r.createElement(M.a,{disabled:!o||!o.isDirty,variant:"primary",ml:2,onClick:g},"Save")))))}var Wn=r.memo(function(e){var t=e.date,n=e.color,a=gt()(1e3*t);return r.createElement(N.a,{color:n,variant:"metadata",title:a.format("D MMM YYYY h:mm a")},a.format("h:mm a"))}),Yn=n(316),Qn=n.n(Yn),Kn=n(174),Xn=n(623);var Jn=function(e){function t(){var e,n;Object(wt.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(kt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(a)))).handleSelect=function(e,t){var r=n.props,a=r.onSelect,c=r.onClickMark,o=r.marks,i=window.getSelection();if(null!==i){var s=i.getRangeAt(0),l=s.cloneRange();l.selectNodeContents(t),l.setEnd(s.startContainer,s.startOffset);var u=l.toString().length;l.setEnd(s.endContainer,s.endOffset);var d=l.toString().length,f=o.find(function(e){return e.start<=u&&e.end>u});u===d||f&&!f.extractor&&f.start===u&&f.end===d?f&&c&&c(f):a&&a(u,d)}},n.handleChange=function(e){var t=n.props,r=t.marks,a=t.value,c=function(e){var t=0,n=[],r=[],a="",c=document.createElement("div");return c.innerHTML=e,c.childNodes.forEach(function(e){var c=e.textContent||"",o=c.length;if(e instanceof HTMLElement){var i=Number(e.dataset.num);"start"===e.dataset.type?n[i]={start:t,end:t}:(r[i]=n[i],delete n[i]),n=n.map(function(e){return Object(k.a)({},e,{end:e.end+o})})}else n.forEach(function(e,t){r[t]=e}),n=[];t+=o,a+=c}),n.forEach(function(e,t){r[t]=e}),{text:a,marks:r.map(function(e){return Object(k.a)({},e,{value:a.substring(e.start,e.end)})})}}(e),o=c.text,i=c.marks;n.props.onChange(o,i.map(function(e,t){var n=r[t];return Object(k.a)({},n,e,a.substring(n.start,n.end)!==n.value?{value:r[t].value}:{})}))},n}return Object(At.a)(t,e),Object(St.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this;return e.value!==this.props.value||(e.marks.length!==this.props.marks.length||!!e.marks.some(function(e,n){return e.entity!==t.props.marks[n].entity}))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.marks,a=(e.onChange,e.onSelect,e.onClickMark,Object(S.a)(e,["value","marks","onChange","onSelect","onClickMark"])),c=function(e,t){if(0===t.length)return e;var n=new Qn.a,r=t.reduce(function(e,t,n){return[].concat(Object(T.a)(e),[{i:t.start,type:"start",mark:t,num:n},{i:t.end,type:"end",mark:t,num:n}])},[]).sort(function(e,t){return e.i-t.i}).reduce(function(t,r){var a,c=Object(A.a)(t,3),o=c[0],i=c[1],s=c[2],l=r.mark,u=r.type,d=r.i,f=r.num;if("start"===u)a=[].concat(Object(T.a)(s),[l.entity]).sort();else{var p=s.indexOf(l.entity);a=[].concat(Object(T.a)(s.slice(0,p)),Object(T.a)(s.slice(p+1)))}var m="";if(a.length>0){var b=a.map(function(e){return n.hex(e)}).reduce(function(e,t){return null===e?new Kn.a(t):e.mix(t)},null);m='<mark data-type="'.concat(u,'" data-num="').concat(f,'" style="background-color: ').concat(b,"; color: ").concat(Object(Xn.a)(b||"transparent",["black","white"]),'">')}return["".concat(o).concat(e.substring(i,d)).concat(s.length>0?"</mark>":"").concat(m),d,a]},["",0,[]]),a=Object(A.a)(r,2),c=a[0],o=a[1];return"".concat(c).concat(e.substring(o,e.length))}(t,n);return r.createElement(dn,Object.assign({},a,{onSelect:this.handleSelect,onChange:this.handleChange,value:c,returnHtml:!0}))}}]),t}(r.Component),Zn=n(317),$n=n.n(Zn);function er(){var e=Object(q.a)(["\n  .ant-popover {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1030;\n    font-weight: normal;\n    white-space: normal;\n    text-align: left;\n    cursor: auto;\n    user-select: text;\n\n    &::after {\n      position: absolute;\n      background: #fff;\n      content: '';\n    }\n\n    &-hidden {\n      display: none;\n    }\n\n    // Offset the popover to account for the popover arrow\n    &-placement-top,\n    &-placement-topLeft,\n    &-placement-topRight {\n      padding-bottom: 10px;\n    }\n\n    &-placement-right,\n    &-placement-rightTop,\n    &-placement-rightBottom {\n      padding-left: 10px;\n    }\n\n    &-placement-bottom,\n    &-placement-bottomLeft,\n    &-placement-bottomRight {\n      padding-top: 10px;\n    }\n\n    &-placement-left,\n    &-placement-leftTop,\n    &-placement-leftBottom {\n      padding-right: 10px;\n    }\n\n    &-inner {\n      background-color: #fff;\n      background-clip: padding-box;\n      border-radius: 8px;\n      border: 1px solid ",";\n    }\n\n\n    &-title {\n      min-width: 177px;\n      min-height: 32px;\n      margin: 0; // reset heading margin\n      padding: 5px 16px 4px;\n      color: black;\n      font-weight: 500;\n      border-bottom: 1px solid ",";\n    }\n\n    &-inner-content {\n      padding: 12px 16px;\n      color: black;\n    }\n\n    &-message {\n      position: relative;\n      padding: 4px 0 12px;\n      color: black;\n      font-size: 14px;\n      &-title {\n        padding-left: 22px;\n      }\n    }\n\n    &-buttons {\n      margin-bottom: 4px;\n      text-align: right;\n      button {\n        margin-left: 8px;\n      }\n    }\n\n    // Arrows\n    // .popover-arrow is outer, .popover-arrow:after is inner\n\n    &-arrow {\n      position: absolute;\n      display: block;\n      width: 8.5px;\n      height: 8.5px;\n      background: white;\n      border-width: 1px;\n      border-style: solid;\n      transform: rotate(45deg);\n    }\n\n    &-placement-top > &-content > &-arrow,\n    &-placement-topLeft > &-content > &-arrow,\n    &-placement-topRight > &-content > &-arrow {\n      bottom: 6.2px;\n      border-top-color: transparent;\n      border-right-color: ",";\n      border-bottom-color: ",";\n      border-left-color: transparent;\n    }\n    &-placement-top > &-content > &-arrow {\n      left: 50%;\n      transform: translateX(-50%) rotate(45deg);\n    }\n    &-placement-topLeft > &-content > &-arrow {\n      left: 16px;\n    }\n    &-placement-topRight > &-content > &-arrow {\n      right: 16px;\n    }\n\n    &-placement-right > &-content > &-arrow,\n    &-placement-rightTop > &-content > &-arrow,\n    &-placement-rightBottom > &-content > &-arrow {\n      left: 6px;\n      border-top-color: transparent;\n      border-right-color: transparent;\n      border-bottom-color: ",";\n      border-left-color: ",";\n    }\n    &-placement-right > &-content > &-arrow {\n      top: 50%;\n      transform: translateY(-50%) rotate(45deg);\n    }\n    &-placement-rightTop > &-content > &-arrow {\n      top: 12px;\n    }\n    &-placement-rightBottom > &-content > &-arrow {\n      bottom: 12px;\n    }\n\n    &-placement-bottom > &-content > &-arrow,\n    &-placement-bottomLeft > &-content > &-arrow,\n    &-placement-bottomRight > &-content > &-arrow {\n      top: 6px;\n      border-top-color: ",";\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      border-left-color: ",";\n    }\n    &-placement-bottom > &-content > &-arrow {\n      left: 50%;\n      transform: translateX(-50%) rotate(45deg);\n    }\n    &-placement-bottomLeft > &-content > &-arrow {\n      left: 16px;\n    }\n    &-placement-bottomRight > &-content > &-arrow {\n      right: 16px;\n    }\n\n    &-placement-left > &-content > &-arrow,\n    &-placement-leftTop > &-content > &-arrow,\n    &-placement-leftBottom > &-content > &-arrow {\n      right: 6px;\n      border-top-color: ",";\n      border-right-color: ",";\n      border-bottom-color: transparent;\n      border-left-color: transparent;\n    }\n    &-placement-left > &-content > &-arrow {\n      top: 50%;\n      transform: translateY(-50%) rotate(45deg);\n    }\n    &-placement-leftTop > &-content > &-arrow {\n      top: 12px;\n    }\n    &-placement-leftBottom > &-content > &-arrow {\n      bottom: 12px;\n    }\n  }\n"]);return er=function(){return e},e}var tr="colors.neutral_3",nr=Object(i.createGlobalStyle)(er(),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr),Object(U.themeGet)(tr));function rr(e){return r.createElement(r.Fragment,null,r.createElement(nr,null),r.createElement($n.a,e))}var ar=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor},cr=r.memo(function(e){var t=e.entities,n=void 0===t?[]:t,a=e.entityTypes,c=e.text,o=e.onChange,i=e.onResize,s=e.hidePopover,l=r.useState(!1),u=Object(A.a)(l,2),d=u[0],f=u[1],p=r.createElement(Bn,{entities:n,entityTypes:a,onChangeEntity:function(e){return o(c,n.map(function(t){return ar(t,e)?e:t}))},onClickOutside:function(){return f(!1)},onRemoveEntity:function(e){var t=n.filter(function(t){return!ar(t,e)});0===t.length&&f(!1),o(c,t)},text:c}),m=r.createElement(Jn,{fontSize:14,marks:n,value:c,onChange:o,onSelect:function(e,t){o(c,n.concat({start:e,end:t,value:c.substring(e,t),entity:a[0]})),f(!0)},onClickMark:function(){return f(!0)},onResize:i});return r.createElement(r.Fragment,null,s?m:r.createElement(rr,{title:"Entities",content:p,visible:d,placement:"top"},m))}),or=function(e){var t=e.newIntent,n=e.oldIntent,a=t!==n;return r.createElement(r.Fragment,null,r.createElement(Pt,{variant:a?"incorrect":"default",name:n}),a&&r.createElement(Pt,{ml:1,variant:"correct",name:t}))},ir=i.default.span.withConfig({displayName:"MessagePreview__DotSeparator",componentId:"mi70bn-0"})(["width:4px;height:4px;background-color:#979fb4;border-radius:50%;margin-right:12px;margin-left:12px;margin-top:5px;"]);function sr(e){var t=e.message,n=e.conversationId,a=e.correction,c=e.currentUser,o=e.entityTypes,i=e.onChangeCorrection,s=t.text,l=t.timestamp,u=t.event;return r.createElement(R.Flex,{px:4,py:5},r.createElement(R.Box,{mr:3},c&&"user"===u?r.createElement(Ee,{variant:"large",username:n}):c||"user"!==u?r.createElement(Ee,{variant:"large"},r.createElement(D.a,{icon:["fas","robot"]})):r.createElement(Ee,{variant:"large",bg:"neutral_3"},r.createElement(D.a,{icon:["fas","user"]}))),r.createElement(R.Flex,{flexDirection:"column"},r.createElement(N.a,{variant:"body.secondary",mb:2,as:"div"},"user"!==u&&s,"user"===u&&a&&r.createElement(cr,{text:s,entities:a.entities,entityTypes:o,onChange:function(e,t){return i(Object(k.a)({},a,{entities:t}))},hidePopover:!0})),r.createElement(R.Flex,{flexDirection:"row"},r.createElement(Wn,{color:"neutral_6",date:l}),"user"===t.event&&a&&r.createElement(r.Fragment,null,r.createElement(ir,null),r.createElement(or,{newIntent:a.intent,oldIntent:t.parse_data.intent.name})))))}function lr(e){var t=e.conversation,n=void 0===t?[]:t,a=e.conversationId,c=e.editable,o=e.entityTypes,i=e.correction,s=e.onChangeCorrection,l=e.onCopy,u=e.onFlagMessage,d=e.onFetchExample,f=e.onSaveCorrection,p=e.intents,m=e.storyName,b=e.timestamp,g=e.currentUser,h=r.useMemo(function(){return n.find(function(e){return e.timestamp===b})},[n,b]);r.useEffect(function(){h&&"user"===h.event&&d(h.text)},[h,d]);var v=h&&["user","bot"].includes(h.event)?h:null,E=r.useMemo(function(){return function(e,t){var n=void 0!==t?e.findIndex(function(e){return e.timestamp===t}):-1,r=n<0?e.length-1:n,a=Object(T.a)(e).reverse(),c=e.length-r,o=a.slice(c).findIndex(function(e){return"restart"===e.event}),i=o>=0?o+c:e.length,s=e.length-i;return e.slice(s,r+1)}(n,b)},[n,b]),O=r.useCallback(function(e,t){return s(Object(k.a)({},i,{entities:t}))},[i,s]),x=v&&"user"===v.event?{intent:v.parse_data.intent.name,entities:[],text:v.text}:null;return r.createElement(se.Flex,{flexDirection:"column"},v&&r.createElement(sr,{message:v,conversationId:a,currentUser:g,onChangeCorrection:s,entityTypes:o,correction:i||x}),r.createElement(En,null,v&&"user"===v.event&&r.createElement(wn,{title:"Annotate",expanded:!0},r.createElement(se.Box,null,r.createElement(zn,{onChange:O,entityTypes:o,onChangeCorrection:s,onSaveCorrection:f,correction:i||x,conversationId:a,message:v,onFlagMessage:u,intents:p,entities:i?i.entities:[]}))),r.createElement(Ln,{editable:c,onCopy:l,storyName:m,conversation:E})))}var ur=n(86),dr=r.memo(function(e){var t=e.filter,n=e.intents,a=e.entities,c=e.actions,o=e.policies,i=e.onChange,s=e.totalConversations,l=r.useCallback(function(e){return e&&!Array.isArray(e)&&i(Object(k.a)({},t,{policies:[e.value]}))},[t,i]),u=r.useCallback(function(e){return e&&!Array.isArray(e)&&i(Object(k.a)({},t,{flaggedOnly:e.value}))},[t,i]);return r.createElement(R.Flex,{flexDirection:"column",style:{overflow:"hidden"}},r.createElement(R.Flex,{width:1,flexDirection:"column",style:{overflow:"hidden",height:"100%"}},r.createElement(R.Card,{borderBottom:"1px solid",borderColor:"neutral_4",pl:4},r.createElement(R.Flex,{alignItems:"center",style:{height:"56px"}},r.createElement(N.a,{variant:"body.secondary"},"Filter ",s," Conversations:"))),r.createElement(R.Flex,{width:1,style:{overflow:"hidden"}},r.createElement(R.Card,{width:.8,borderRight:"1px solid",borderColor:"neutral_4"},r.createElement(ur.a,{p:5,name:"Intents",items:n,checkedItems:t.intents,onChange:function(e){return i(Object(k.a)({},t,{intents:e}))},placeholder:r.createElement(R.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"}},r.createElement(D.a,{icon:"exclamation-circle",mb:2,mt:-52,fontSize:4}),r.createElement(N.a,{variant:"body.secondary",color:"inherit",px:"25%",textAlign:"center"},"There are no intents to filter by."))})),r.createElement(R.Card,{width:.8,borderRight:"1px solid",borderColor:"neutral_4"},r.createElement(ur.a,{p:5,name:"Entities",items:a,checkedItems:t.entities,onChange:function(e){return i(Object(k.a)({},t,{entities:e}))},placeholder:r.createElement(R.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"}},r.createElement(D.a,{icon:"exclamation-circle",mb:2,mt:-52,fontSize:4}),r.createElement(N.a,{variant:"body.secondary",color:"inherit",px:"25%",textAlign:"center"},"There are no entities to filter by."))})),r.createElement(R.Card,{width:.8,borderRight:"1px solid",borderColor:"neutral_4"},r.createElement(ur.a,{p:5,name:"Actions",items:c,checkedItems:t.actions,onChange:function(e){return i(Object(k.a)({},t,{actions:e}))},placeholder:r.createElement(R.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"}},r.createElement(D.a,{icon:"exclamation-circle",mb:2,mt:-52,fontSize:4}),r.createElement(N.a,{variant:"body.secondary",color:"inherit",px:"25%",textAlign:"center"},"There are no actions to filter by."))})),r.createElement(R.Flex,{flexDirection:"column",p:4,width:1},r.createElement(R.Box,null,r.createElement(L.a,{variant:3},"Date Range"),r.createElement(R.Flex,{flexWrap:"wrap"},r.createElement(R.Box,{width:5/11},r.createElement(Ie.a,{type:"date",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",value:t.date.from||"",onChangeValue:function(e){return i(Object(k.a)({},t,{date:Object(k.a)({},t.date,{from:e})}))},placeholder:"YYYY-MM-DD",fullWidth:!0})),r.createElement(R.Box,{width:1/11,style:{textAlign:"center"},alignSelf:"center"},r.createElement(N.a,{variant:"body.secondary",as:"div"},"to")),r.createElement(R.Box,{width:5/11},r.createElement(Ie.a,{type:"date",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",value:t.date.to||"",onChangeValue:function(e){return i(Object(k.a)({},t,{date:Object(k.a)({},t.date,{to:e})}))},placeholder:"YYYY-MM-DD",fullWidth:!0})))),r.createElement(R.Flex,{flexWrap:"wrap"},r.createElement(R.Box,{width:.5,mt:2,pr:2,flex:"1 1",style:{minWidth:"fit-content"}},r.createElement(L.a,{variant:3},"Maximum confidence"),r.createElement(Ie.a,{type:"number",step:"0.1",value:null!==t.confidence?t.confidence.toString():"",fullWidth:!0,onChangeValue:function(e){return i(Object(k.a)({},t,{confidence:""!==e?Number(e):null}))}})),r.createElement(R.Box,{width:.5,mt:2,flex:"1 1",style:{minWidth:"fit-content"}},r.createElement(L.a,{variant:3},"Flagged only"),r.createElement(Dn.a,{value:{value:t.flaggedOnly},options:[{value:!0},{value:!1}],getOptionLabel:function(e){return e.value?"True":"False"},onChange:u}))),r.createElement(R.Flex,{flexWrap:"wrap"},r.createElement(R.Box,{width:.5,mt:2,pr:2,flex:"1 1",style:{minWidth:"fit-content"}},r.createElement(L.a,{variant:3},"Minimum user messages"),r.createElement(Ie.a,{type:"number",min:"0",value:null!==t.minimumMessages?t.minimumMessages.toString():"",onChangeValue:function(e){return i(Object(k.a)({},t,{minimumMessages:""!==e?Number(e):null}))},fullWidth:!0})),r.createElement(R.Box,{width:.5,mt:2,flex:"1 1",style:{minWidth:"fit-content"}},r.createElement(L.a,{variant:3},"Policy"),r.createElement(Dn.a,{value:{value:t.policies[0]},getOptionLabel:function(e){return e.value},options:o.map(function(e){return{value:e}}),onChange:l})))))))},function(e,t){return!(Object(ut.isEqual)(e.filter,t.filter)||Object(ut.isEqual)(e.intents,t.intents)||Object(ut.isEqual)(e.entities,t.entities)||Object(ut.isEqual)(e.actions,t.actions)||Object(ut.isEqual)(e.policies,t.policies))}),fr=n(141),pr=dt.a.filter,mr={intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},actions:{label:"Actions",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},policies:{label:"Policy",test:function(e){return e.length>0},transformContent:function(e){return e[0]}},date:{label:"Date",test:function(e){return e.from||e.to},transformContent:function(e){return"".concat(e.from?"from ".concat(e.from," "):"").concat(e.to?"to ".concat(e.to):"")}},confidence:{label:"Maximum confidence",test:function(e){return null!==e},transformContent:function(e){return e}},minimumMessages:{label:"Minimum user messages",test:function(e){return null!==e},transformContent:function(e){return e}},flaggedOnly:{label:"Flagged only",test:function(e){return e},transformContent:function(e){return null}}},br=r.memo(function(e){var t=e.filter,n=e.onChange;return r.createElement(se.Flex,null,Object.keys(mr).filter(function(e){return mr[e].test(t[e])}).map(function(e){return r.createElement(se.Box,{key:e,ml:2},r.createElement(fr.a,{label:mr[e].label,content:mr[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(k.a)({},t,Object(Jt.a)({},e,pr[e])))}}))}))}),gr=n(171),hr=dt.a.filter;var vr=r.memo(function(e){var t=e.expanded,n=e.intents,a=e.entities,c=e.actions,o=e.policies,i=e.filter,s=e.filterIsEmpty,l=e.draftFilter,u=e.onChangeFilter,d=e.onApplyFilter,f=e.totalConversations;return r.createElement(R.Box,{style:{position:"relative"}},!s&&t&&r.createElement(R.Card,{borderBottom:"1px solid",borderColor:"neutral_4"},r.createElement(R.Flex,{p:3,alignItems:"center",flex:"1"},r.createElement(R.Box,{flex:"1"},r.createElement(br,{filter:i,onChange:d})),r.createElement(R.Box,{mr:2},r.createElement(M.a,{variant:"icon",onClick:function(){return d(hr)}},r.createElement(D.a,{icon:"times-circle"})," Reset")))),r.createElement(gr.a,{expanded:t,onApply:function(){return d(l)},onCancel:function(){return d(i)}},r.createElement(dr,{filter:l,intents:n,entities:a,actions:c,policies:o,onChange:u,totalConversations:f})))}),Er=n(167),Or=function(e){function t(){var e,n;Object(wt.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(kt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1},n}return Object(At.a)(t,e),Object(St.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.message;return r.createElement(Re,null,e)}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(r.Component);Or.defaultProps={message:"Something went wrong!"};var xr=n(63),yr=Object(i.default)(Tn.a).withConfig({displayName:"Popup__StyledCard",componentId:"sc-1slcajv-0"})(["position:absolute;right:0;z-index:100;"]),jr=Object(i.default)(R.Box).withConfig({displayName:"Popup__Title",componentId:"sc-1slcajv-1"})(["border-bottom:1px solid ",";"],Object(U.themeGet)("colours.neutral_2"));function Cr(e){e.hover;var t=e.title,n=e.children,a=e.onClose,c=Object(S.a)(e,["hover","title","children","onClose"]);return r.createElement(yr,Object.assign({p:0,border:0,boxShadow:"0 4px 14px 0 rgba(103, 106, 111, 0.32)"},c),t&&r.createElement(jr,{p:4},r.createElement(R.Flex,{justifyContent:"space-between"},t,a&&r.createElement(R.Box,{onClick:function(){return a()}},r.createElement(D.a,{icon:"times",color:"neutral_6",fontSize:"24px"})))),r.createElement(R.Box,null,n))}var wr=n(142),Sr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kr=Object(i.default)(R.Flex).withConfig({displayName:"ShareBot__Footer",componentId:"sc-1o5ac7q-0"})(["border-top:1px solid ",";"],Object(U.themeGet)("colours.neutral_2"));function Tr(e){var t=e.environment,n=e.environments,a=e.chatToken,c=e.onClose,o=e.onFetchChatToken,i=r.useState(t),s=Object(A.a)(i,2),l=s[0],u=s[1],d=r.useState(""),f=Object(A.a)(d,2),p=f[0],m=f[1],b=r.useState(""),g=Object(A.a)(b,2),h=g[0],v=g[1],E=te().addToast,O=r.useMemo(function(){return n.filter(function(e){return e!==l}).map(function(e){return{value:e,label:Sr(e)}})},[n,l]);return r.useEffect(function(){a&&/localhost|127\.0\.0\.1|::1|\.local|^$/i.test(window.location.hostname)&&E({head:"Link contains \u201clocalhost\u201d",content:r.createElement(r.Fragment,null,r.createElement(R.Box,{as:"a",color:"neutral_0",href:"//rasa.com/docs/",target:"_blank"},"View docs")," ","on how to make this local instance accessible.")})},[a,E]),r.createElement(R.Flex,{flexDirection:"column"},r.createElement(R.Flex,{flexDirection:"column",px:6,py:5,style:{textAlign:"left",width:"580px"}},r.createElement(R.Flex,{mb:4,flexDirection:"column"},r.createElement(wr.a,{text:"Environment to be tested"},r.createElement(Dn.a,{isSearchable:!1,placeholder:"Select the environment guest testers should be able to access",onChange:r.useCallback(function(e){return e&&!Array.isArray(e)&&u(e.value)},[u]),value:{value:l,label:Sr(l)},options:O}))),r.createElement(R.Flex,{mb:4,flexDirection:"column"},r.createElement(wr.a,{text:"Assistant's Details"},r.createElement(Ie.a,{value:p,onChangeValue:function(e){return m(e)},placeholder:"Enter a name for your bot, that your testers should see..",fullWidth:!0}))),r.createElement(R.Flex,{flexDirection:"column"},r.createElement(wr.a,{text:"Description"},r.createElement(Ie.a,{value:h,onChangeValue:function(e){return v(e)},placeholder:"Enter a description of your assistant that you'd like your testers to see...",fullWidth:!0}))),a&&r.createElement(r.Fragment,null,r.createElement(R.Flex,{mt:4,flexDirection:"column"},r.createElement(wr.a,{text:"Share this link with any guest users"},r.createElement(Mn,{style:{height:"100%",overflow:"auto"}},window.location.origin,"/guest/conversations/",l,"/",a))))),r.createElement(kr,{px:4,py:3,flexDirection:"row-reverse"},r.createElement(M.a,{onClick:function(){return o({botName:p,description:h})},large:!0,ml:2},"Generate link"),r.createElement(M.a,{large:!0,variant:"secondary",onClick:function(){return c&&c()}},"Cancel")))}function Ar(e){var t=e.onSetVisible,n=Object(S.a)(e,["onSetVisible"]);return r.createElement(Cr,{onClose:function(){return t(!1)},title:r.createElement(L.a,{variant:2},"Share your assistant with Guest Testers")},r.createElement(Tr,Object.assign({onClose:function(){return t(!1)}},n)))}var Rr=n(320),Ir=n.n(Rr),Fr=n(321),_r=n.n(Fr),Nr=Object(i.default)(Tn.a).withConfig({displayName:"UserOnboarding__StyledCard",componentId:"ylqqaa-0"})(["display:flex;text-align:center;height:312px;transition:all ease 0.2s;cursor:pointer;&:hover{box-shadow:0 5px 15px 0 rgba(129,119,150,0.32);}"]);var Mr=r.memo(function(e){var t=e.onNavigate,n=e.onSelect,a=r.useCallback(function(){window.open("http://rasa.com/docs/rasa/user-guide/rasa-tutorial/","_blank"),t("/talk"),n()},[t,n]),c=r.useCallback(function(){window.open("https://rasa.com/docs/rasa-x/import-conversations/","_blank"),t("/conversations"),n()},[t,n]);return r.createElement(R.Box,{pb:3,pt:2},r.createElement(R.Box,{alignSelf:"center",style:{textAlign:"center"},mb:5},r.createElement(N.a,{variant:"body.primary",color:"neutral_6",mb:2},"It seems like its your first time here!"),r.createElement(L.a,{variant:2,fontSize:20},"What would you like to use Rasa X for?")),r.createElement(R.Flex,null,r.createElement(Nr,{boxShadow:"0 5px 24px 0 rgba(120, 119, 150, 0.23)",border:0,flex:"1",mr:4,pt:5,borderRadius:"large",onClick:a},r.createElement(R.Flex,{flexDirection:"column",justifyContent:"space-between"},r.createElement(L.a,{variant:2},"Create new assistants from scratch"),r.createElement(R.Flex,{flex:"1",justifyContent:"center"},r.createElement(Kt,{width:100,src:_r.a,alt:"Rasa Logo"})),r.createElement(R.Flex,{alignItems:"center",mt:"auto",style:{minHeight:"60px"},mb:3},r.createElement(N.a,{as:"div",variant:"body.secondary",color:"neutral_6"},"Accelerate the process of creating new assistants.")))),r.createElement(Nr,{boxShadow:"0 5px 24px 0 rgba(120, 119, 150, 0.23)",border:0,flex:"1",pt:5,borderRadius:"large",onClick:c},r.createElement(R.Flex,{flexDirection:"column",justifyContent:"space-between"},r.createElement(L.a,{variant:2},"Maintain and improve existing assistants"),r.createElement(R.Flex,{flex:"1",justifyContent:"center"},r.createElement(Kt,{width:60,src:Ir.a,alt:"Rasa Logo"})),r.createElement(R.Flex,{alignItems:"center",mt:"auto",style:{minHeight:"60px"},mb:3},r.createElement(N.a,{as:"div",variant:"body.secondary",color:"neutral_6"},"Find out how to connect your existing assistants and start annotating real conversations."))))))}),Lr=Object(i.default)(R.Flex).withConfig({displayName:"Conversations__Container",componentId:"sc-1injuhg-0"})(["border-top:1px solid ",";height:100%;overflow:hidden;"],Object(U.themeGet)("colours.neutral_5")),Dr=r.memo(function(e){var t=e.actions,n=e.awaitingResponse,a=e.chatToken,c=e.conversationEvents,o=e.conversationId,i=e.conversations,s=e.correction,l=e.draftFilter,u=e.entities,d=e.entityTypes,f=e.environment,p=e.environments,m=e.error,b=e.filter,g=e.filterIsEmpty,h=e.intents,v=e.loading,E=e.onChangeCorrection,O=e.onChangeFilter,x=e.onCopy,y=e.onFetchConversations,j=e.onFetchExample,w=e.onFetchIntents,S=e.onFetchEntities,k=e.onFetchActions,T=e.onFetchPolicies,I=e.onFetchEntityTypes,F=e.onFlagMessage,_=e.onFetchChatToken,L=e.onLoadMoreConversations,U=e.onNavigate,P=e.onSaveExampleFromCorrection,H=e.onStartPolling,q=e.onStopPolling,G=e.onUnflagMessage,B=e.policies,V=e.timestamp,z=e.totalConversations;r.useEffect(function(){w(),S(),k(),T(),I(),y({filter:b,offset:0,limit:20})},[b,k,y,S,I,w,T]);var W=Object.values(i)[0],Y=o||(W?W.sender_id:"");r.useEffect(function(){return Y?(E(null),H({conversationId:Y}),function(){return q()}):function(){}},[Y,E,H,q]);var Q=r.useCallback(function(e){U("/conversations/".concat(Y,"/").concat(e.timestamp||""))},[U,Y]),K=r.useCallback(function(e){U("/conversations/".concat(e))},[U]),X=r.useState(!1),J=Object(A.a)(X,2),Z=J[0],$=J[1],ee=r.useState(!1),te=Object(A.a)(ee,2),ne=te[0],re=te[1],ae=r.useState(!0),ce=Object(A.a)(ae,2),oe=ce[0],ie=ce[1],se=r.useCallback(function(e,t){return(t?F:G)({conversationId:Y,timestamp:e})},[F,G,Y]),le=r.useCallback(function(){ne&&re(!1),$(!Z)},[ne,Z]),ue=r.useCallback(function(){Z&&$(!1),re(!ne)},[ne,Z]),pe=c[Y],me=V?"Story from conversation with ".concat(Y," on ").concat(gt()(1e3*V).format("MMMM Do YYYY")):"",be=r.createElement(r.Fragment,null,r.createElement(R.Card,{style:{display:"inline-block",position:"relative"},borderColor:"neutral_4",borderLeft:"1px solid"},r.createElement(M.a,{variant:"headerIcon",active:ne,p:"28px",onClick:ue,style:{position:"relative"}},r.createElement(D.a,{icon:"share-alt"})),ne&&r.createElement(Ar,{onSetVisible:ue,environment:f,environments:p,onClose:ue,onFetchChatToken:_,chatToken:a})),r.createElement(fe.a,{resource:de.c.Clients,action:de.a.Read,yes:r.createElement(R.Card,{style:{display:"inline-block"},borderColor:"neutral_4",borderLeft:"1px solid"},r.createElement(M.a,{variant:"headerIcon",active:Z,p:"28px",onClick:le,disabled:0===z&&g},r.createElement(D.a,{icon:"sliders-h"})))})),ge=r.useCallback(function(e){y({filter:e,offset:0,limit:20}),$(!1)},[y]),he=r.createElement(fe.a,{resource:de.c.Clients,action:de.a.Read,yes:r.createElement(R.Box,{flex:"0 1"},r.createElement(Or,null,r.createElement(vr,{filter:b,draftFilter:l,filterIsEmpty:g,onChangeFilter:O,onApplyFilter:ge,intents:h,entities:u,actions:t,policies:B,expanded:Z,onExpand:$,totalConversations:z})))}),ve=r.createElement(fe.a,{resource:de.c.Clients,action:de.a.Read,yes:r.createElement(R.Box,{width:.25,style:{borderRight:"1px solid ".concat(C.colours.grey),maxHeight:"100%",maxWidth:"304px"}},r.createElement(Or,null,r.createElement(Ct,{total:z,conversations:i,conversationId:Y,onSelectConversation:K,filter:b,onLoadMoreRows:L,loading:v.conversations})))});return r.createElement(xr.a,{title:"Conversations (".concat(z,")"),rightContent:be,noPadding:!0},0===z&&g&&!v.conversations&&r.createElement(Pe,{open:oe,onClose:function(){return ie(!1)},style:{maxWidth:"630px"}},r.createElement(Mr,{onNavigate:U,onSelect:function(){return ie(!1)}})),r.createElement(Lr,{flexDirection:"column",bg:"neutral_0"},he,r.createElement(Er.a,{style:{maxHeight:"100%"},dim:Z,flex:"1 1"},r.createElement(R.Flex,{style:{height:"100%"},justifyContent:"center"},!v.conversations&&!g&&0===z&&r.createElement(R.Box,{alignSelf:"center",style:{textAlign:"center"}},r.createElement("div",null,r.createElement(D.a,{icon:"search-minus",size:"4x"})),r.createElement("div",null,r.createElement("b",null,"There is nothing here")),r.createElement("div",null,"Please try a different set of filters!")),(v.conversations||z>0||g)&&r.createElement(r.Fragment,null,ve,r.createElement(R.Flex,{flex:"1 1"},r.createElement(R.Box,{flex:"1 0",width:.6,style:{borderRight:"1px solid ".concat(C.colours.grey)}},r.createElement(Or,null,m&&r.createElement(vt,{variant:"error"},r.createElement(N.a,{variant:"metadata",lineHeight:"initial",color:"inherit"},"There was an error loading messages and polling has been stopped."),r.createElement(M.a,{onClick:function(){return H({conversationId:Y,environment:f})},variant:"plain"},"Restart polling")),!pe&&v.conversation&&r.createElement(jt,{mt:20},"Loading messages"),pe&&r.createElement(mn,{awaitingResponse:n,client:Y,conversation:pe,environment:f,filter:g?null:b,onFlagMessage:se,onMessageClick:Q,timestamp:V}))),r.createElement(R.Box,{width:.4,style:{maxWidth:"400px",overflow:"auto"}},r.createElement(Or,null,0===V&&pe&&r.createElement(hn,null),0!==V&&r.createElement(lr,{entityTypes:d,editable:!1,onChangeCorrection:E,timestamp:V,conversation:pe,onCopy:function(){return x({conversationId:Y,environment:f,timestamp:V,storyName:me})},storyName:me,conversationId:Y,onFlagMessage:se,onFetchExample:j,intents:h,correction:s,onSaveCorrection:P})))))))))}),Ur={onChangeCorrection:mt.a,onChangeEnvironment:st.a,onChangeFilter:st.b,onCopy:pt.f.request,onFetchActions:st.g.request,onFetchConversations:st.k.request,onFetchEntities:st.h.request,onFetchEntityTypes:mt.e.request,onFetchEnvironments:ue.c.request,onFetchExample:mt.f.request,onFetchIntents:st.i.request,onFetchPolicies:st.j.request,onFetchChatToken:st.e.request,onFlagMessage:st.m.request,onSaveExampleFromCorrection:mt.k.request,onSelectIntent:st.o,onStartPolling:st.p,onStopPolling:st.q,onUnflagMessage:st.r.request};var Pr=Object(l.g)(Object(s.b)(function(e,t){return{actions:e.messages.actions,awaitingResponse:e.messages.awaitingResponse,conversations:e.messages.conversations,conversationId:t.match.params.conversationId,conversationEvents:e.messages.conversationEvents,correction:e.examples.correction,draftFilter:e.messages.draftFilter,entities:e.messages.entities,entityTypes:e.examples.entityTypes,environment:e.messages.environment,environments:e.models.environments,error:e.messages.error,filter:e.messages.filter,filterIsEmpty:ft.filterIsEmpty(e.messages),intents:e.messages.intents,loading:e.messages.loading,policies:e.messages.policies,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,totalConversations:e.messages.total,username:e.auth.username,chatToken:e.messages.chatToken}},Ur)(function(e){var t=e.history,n=Object(S.a)(e,["history"]);return r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(st.k.request),resolve:Object(ot.getType)(st.k.success),reject:Object(ot.getType)(st.k.failure)},function(e){return r.createElement(Dr,Object.assign({},n,{onNavigate:t.push,onLoadMoreConversations:e}))})})),Hr=n(49),qr=n(80),Gr=n.n(qr);function Br(e){var t=e.accept,n=void 0===t?"*":t,a=e.children,c=e.id,o=void 0===c?F()():c,i=e.onUpload;return r.createElement(r.Fragment,null,r.createElement(R.Box,{as:"label",htmlFor:o},a),r.createElement(R.Box,{as:"input",id:o,accept:n,type:"file",onChange:i,style:{display:"none"}}))}function Vr(e){var t=e.onClose,n=e.onSave,a=Object(S.a)(e,["onClose","onSave"]),c=te().addToast,o=r.useCallback(function(e){var r=e.target.files[0];if(r){var a=new FileReader;a.onload=function(){"string"===typeof a.result&&n({domain:a.result,storeTemplates:!0,onSuccess:function(){c({head:"Domain uploaded successfully",content:"The domain has been replaced. Please check the warnings to fix any inconsistencies that the new domain might introduced."}),t()}})},a.readAsText(r)}},[c,t,n]);return r.createElement(Cr,a,r.createElement(R.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"}},r.createElement(L.a,{variant:2,mb:3},"Replace the existing domain?"),r.createElement(N.a,{variant:"body.secondary",mb:5},"Uploading a new domain will replace the existing one. All current response templates will also be replaced."),r.createElement(R.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1},r.createElement(Br,{accept:".yaml, .yml",onUpload:o},r.createElement(M.a,{as:"span",large:!0,ml:2},"Upload and replace")),r.createElement(M.a,{large:!0,variant:"secondary",onClick:t},"Cancel"))))}var zr=n(112),Wr=n.n(zr);function Yr(e){var t=e.location,n=e.element,a=e.value,c=e.onNavigate,o=e.copyToDomain,i=e.removeFromDomain;return r.createElement(Ve,{flexDirection:"row",mb:2},r.createElement(N.a,{variant:"body.secondary",lineHeight:"normal",color:"inherit"},"The ",n," ",r.createElement("strong",null,a)," was found in the"," ","in_training_data"===t?"training data":"domain"," but is missing in the"," ","in_training_data"===t?"domain":"training data","."),r.createElement(Ge,null,r.createElement(R.Flex,{flexDirection:"row"},"in_domain"===t&&"action"===n&&r.createElement(M.a,{ml:3,variant:"plain",onClick:function(){return c("/responses")},fontSize:13},"Create response"),"in_domain"===t&&["intent","entity"].includes(n)&&r.createElement(M.a,{ml:3,variant:"plain",onClick:function(){return c("/data")},fontSize:13},"Create NLU example"),"in_training_data"===t?r.createElement(M.a,{ml:3,variant:"plain",onClick:function(){return o(n,a)},fontSize:13},"Copy to the domain"):r.createElement(M.a,{ml:3,variant:"plain",onClick:function(){return i(n,a)},fontSize:13},"Remove from domain"))))}var Qr=r.memo(function(e){var t=e.domain,n=e.onChange,a=e.domainWarnings,c=e.onNavigate,o=e.errors,i=te().addToast,s=r.useState(!1),l=Object(A.a)(s,2),u=l[0],d=l[1],f=r.useState([]),p=Object(A.a)(f,2),m=p[0],b=p[1],g=r.useMemo(function(){return a.filter(function(e){return!m.find(function(t){return t.element===e.element&&t.location===e.location&&t.value===e.value})})},[a,m]),h=r.useCallback(function(){i({head:"Invalid YAML file",variant:"error",content:"It looks like something is wrong with your YAML file. Please update it and try again.",key:"InvalidYaml"})},[i]),v=r.useCallback(function(e,r){var a=Wr()(e);n(Gr.a.dump(Object(k.a)({},t,Object(Jt.a)({},a,t[a].filter(function(e){return e!==r}))))),b(function(t){return[].concat(Object(T.a)(t),[{location:"in_domain",element:e,value:r}])})},[t,n]),E=r.useCallback(function(e,r){var a=Wr()(e);n(Gr.a.dump(Object(k.a)({},t,Object(Jt.a)({},a,[].concat(Object(T.a)(t[a]),[r]))))),b(function(t){return[].concat(Object(T.a)(t),[{location:"in_training_data",element:e,value:r}])})},[t,n]);return 0===g.length?null:r.createElement(vt,{justifyContent:"start",flexDirection:"column",m:0,mb:3,style:{cursor:"default"}},r.createElement(N.a,{variant:"body.secondary",lineHeight:"initial",color:"inherit"},g.length," inconsistenc",g.length>1?"ies were":"y was"," detected with this file.",r.createElement(M.a,{variant:"plain",onClick:function(){return d(!u)},ml:2,fontSize:13},"Show ",u?"less":"more")),u&&r.createElement(R.Flex,{as:"ul",flexDirection:"column",pl:4,mx:0,mt:3,mb:2},g.map(function(e){return r.createElement(Yr,Object.assign({key:"".concat(e.element,"-").concat(e.location,"-").concat(e.value)},e,{onNavigate:c,copyToDomain:0===o.length?E:h,removeFromDomain:0===o.length?v:h}))})))}),Kr=n(322),Xr=n.n(Kr),Jr=n(323);n(609),n(610),n(613),n(284),n(614),n(615),n(616);function Zr(){var e=Object(q.a)(["\n  .CodeMirror {\n    color: ",";\n    height: auto;\n  }\n  .CodeMirror {\n    margin-left: -24px;\n  }\n  .CodeMirror,\n  & * {\n    font-family: ",";\n    font-size: ","px;\n    line-height: ",";\n    letter-spacing: 1px;\n  }\n  span.cm-atom {\n    color: ",";\n  }\n  .CodeMirror-gutters {\n    background-color: transparent;\n    border: 0;\n  }\n  .CodeMirror-linenumber {\n    color: ",";\n    padding: 0;\n  }\n  .CodeMirror-sizer {\n    padding-left: 28px;\n  }\n  .CodeMirror-gutters {\n    margin-left: 28px;\n  }\n  .CodeMirror-gutter.lineerrors {\n    margin-left: -57px;\n  }\n  .CodeMirror-foldmarker {\n    cursor: pointer;\n    border-radius: 1px;\n    width: 16px;\n    height: 8px;\n    line-height: 1px;\n    display: inline-block;\n    letter-spacing: -3px;\n    margin-left: 4px;\n    background: ",";\n    color: transparent;\n    position: relative;\n  }\n  .CodeMirror-foldmarker:after {\n    content: '...';\n    position: absolute;\n    left: 0;\n    color: ",";\n  }\n  div.CodeMirror-foldgutter {\n    width: 20px;\n  }\n  div.CodeMirror-foldgutter-open,\n  div.CodeMirror-foldgutter-folded {\n    cursor: pointer;\n    color: ",";\n    text-align: center;\n  }\n  div.CodeMirror-foldgutter-open:after {\n    content: '\\25BE';\n  }\n  div.CodeMirror-foldgutter-folded:after {\n    content: '\\25B8';\n  }\n"],["\n  .CodeMirror {\n    color: ",";\n    height: auto;\n  }\n  .CodeMirror {\n    margin-left: -24px;\n  }\n  .CodeMirror,\n  & * {\n    font-family: ",";\n    font-size: ","px;\n    line-height: ",";\n    letter-spacing: 1px;\n  }\n  span.cm-atom {\n    color: ",";\n  }\n  .CodeMirror-gutters {\n    background-color: transparent;\n    border: 0;\n  }\n  .CodeMirror-linenumber {\n    color: ",";\n    padding: 0;\n  }\n  .CodeMirror-sizer {\n    padding-left: 28px;\n  }\n  .CodeMirror-gutters {\n    margin-left: 28px;\n  }\n  .CodeMirror-gutter.lineerrors {\n    margin-left: -57px;\n  }\n  .CodeMirror-foldmarker {\n    cursor: pointer;\n    border-radius: 1px;\n    width: 16px;\n    height: 8px;\n    line-height: 1px;\n    display: inline-block;\n    letter-spacing: -3px;\n    margin-left: 4px;\n    background: ",";\n    color: transparent;\n    position: relative;\n  }\n  .CodeMirror-foldmarker:after {\n    content: '...';\n    position: absolute;\n    left: 0;\n    color: ",";\n  }\n  div.CodeMirror-foldgutter {\n    width: 20px;\n  }\n  div.CodeMirror-foldgutter-open,\n  div.CodeMirror-foldgutter-folded {\n    cursor: pointer;\n    color: ",";\n    text-align: center;\n  }\n  div.CodeMirror-foldgutter-open:after {\n    content: '\\\\25BE';\n  }\n  div.CodeMirror-foldgutter-folded:after {\n    content: '\\\\25B8';\n  }\n"]);return Zr=function(){return e},e}var $r=Object(i.default)(Jr.Controlled)(Zr(),Object(U.themeGet)("colors.neutral_8"),Object(U.themeGet)("fonts.mono"),Object(U.themeGet)("fontSizes.1"),Object(U.themeGet)("lineHeights.normal"),Object(U.themeGet)("colors.primary_1"),Object(U.themeGet)("colors.neutral_6"),Object(U.themeGet)("colors.primary_1"),Object(U.themeGet)("colors.neutral_0"),Object(U.themeGet)("colors.neutral_6"));function ea(e){var t=e.value,n=e.onChange,a=e.language,c=e.readOnly,o=void 0===c?[]:c,s=e.errors,l=r.useContext(i.ThemeContext),u=r.useState(null),d=Object(A.a)(u,2),f=d[0],p=d[1],m=te().addToast,b=r.useMemo(function(){return new RegExp("^(".concat(o.map(function(e){return e.title}).join("|"),")\\s*:(\\s*[\\n\\r]+(?:^[-\\s\\t]+.*[\\n\\r]+|^-.*)*)"),"gm")},[o]),g=r.useCallback(function(e,t){for(var n,r=e.getDoc();null!==(n=b.exec(t));){var a=r.posFromIndex(n.index),c=r.posFromIndex(n.index+n[0].length);if(r.findMarksAt(a).length>0)return;e.foldCode(a),r.markText(a,c,{css:"color: ".concat(Object(U.get)(l,"colors.neutral_6")),inclusiveRight:!1,attributes:{title:n[1],readOnly:!0}})}},[b,l]),h=r.useCallback(function(){var e=document.createElement("div");return e.innerHTML=Xr.a.renderToStaticMarkup(r.createElement(R.Box,null,r.createElement(D.a,{icon:["fas","exclamation-circle"],color:Object(U.get)(l,"colors.secondary_3")}))),e},[l]),v=r.useCallback(function(e){e.clearGutter("lineerrors"),s&&s.map(function(t){return e.setGutterMarker(t-1,"lineerrors",h())})},[s,h]);r.useEffect(function(){f&&g(f,t)},[f,t,g]);var E=r.useCallback(function(e){return p(e)},[]),O=r.useCallback(function(e,t,r){[].concat(Object(T.a)(e.getDoc().findMarksAt(t.from)),Object(T.a)(e.getDoc().findMarksAt(t.to))).some(function(e){if(e.attributes.readOnly){var t=o.find(function(t){return t.title===e.attributes.title});t&&t.alert&&m(t.alert)}return!0})||n(r)},[m,n,o]);return r.createElement($r,{value:t,options:{mode:a,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","lineerrors"]},editorDidMount:E,onBeforeChange:O,onChange:v})}function ta(e){var t=e.domain,n=e.domainWarnings,a=e.onNavigate,c=e.onSave,o=e.error,i=r.useState(t),s=Object(A.a)(i,2),u=s[0],d=s[1],f=r.useState([]),p=Object(A.a)(f,2),m=p[0],b=p[1],g=r.useState(o),h=Object(A.a)(g,2),v=h[0],E=h[1],O=r.useState(!1),x=Object(A.a)(O,2),y=x[0],j=x[1],C=te(),w=C.addToast,S=C.removeToast,k=r.useMemo(function(){try{return b([]),Gr.a.load(u)}catch(e){return b(function(t){return t.filter(function(t){return t!==e.mark.line}).concat([e.mark.line])}),Gr.a.load(t)}},[u,t]),T=[{title:"templates",alert:{head:"Want to edit your templates?",content:"We recommend editing and creating templates directly from the Responses section. Editing templates is currently disabled on this page to avoid duplication of data.",key:"templatesPreventEdit",actions:r.createElement(r.Fragment,null,r.createElement(M.a,{ml:4,large:!0,variant:"inverse",onClick:function(){a("/responses"),S("templatesPreventEdit")}},"Go to Responses"),r.createElement(M.a,{large:!0,variant:"plain",onClick:function(){return S("templatesPreventEdit")}},"Never mind"))}}];r.useEffect(function(){v&&w({head:v.name,content:v.message,variant:"error"})},[v,w]),r.useEffect(function(){d(t)},[t]),r.useEffect(function(){E(o)},[o]);var I=r.useMemo(function(){var e=new Blob([t],{type:"application/x-yaml"});return window.URL.createObjectURL(e)},[t]),F=u!==t;return r.createElement(xr.a,{title:"Manage Domain",scrollable:!0,rightContent:r.createElement(fe.a,{resource:de.c.Domain,action:de.a.Update,yes:r.createElement(r.Fragment,null,F?r.createElement(r.Fragment,null,r.createElement(M.a,{onClick:function(){d(t)},variant:"secondary",large:!0,mr:2,disabled:!F},"Discard"),r.createElement(M.a,{onClick:function(){c({domain:u})},large:!0,mr:3,disabled:!F},"Save changes")):r.createElement(r.Fragment,null,r.createElement(R.Card,{style:{display:"inline-block",position:"relative"},borderColor:"neutral_4",borderLeft:"1px solid"},r.createElement(M.a,{onClick:function(){return j(!y)},variant:"headerIcon",p:"28px",active:y},r.createElement(D.a,{icon:"arrow-to-top"})),y&&r.createElement(Vr,{onClose:function(){return j(!1)},onSave:c,mt:2})),r.createElement(R.Card,{style:{display:"inline-block"},borderColor:"neutral_4",borderLeft:"1px solid"},r.createElement(M.a,{as:"a",download:"domain.yaml",href:I,variant:"headerIcon",p:"28px"},r.createElement(D.a,{icon:"arrow-to-bottom"})))))})},r.createElement(R.Box,null,F&&r.createElement(l.a,{message:"Are you sure you want to navigate away before saving the new domain?"}),r.createElement(Tn.a,{p:4,boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},r.createElement(Qr,{domainWarnings:n,domain:k,onChange:d,onNavigate:a,errors:m}),r.createElement(ea,{language:"yaml",value:u,onChange:d,readOnly:T,errors:m}))))}var na={onFetchDomain:Hr.b.request,onSave:Hr.e.request};var ra=Object(l.g)(Object(s.b)(function(e){return{domain:e.projects.domain,domainWarnings:e.projects.domainWarnings,error:e.projects.error}},na)(function(e){var t=e.history,n=e.onFetchDomain,a=Object(S.a)(e,["history","onFetchDomain"]);return r.useEffect(function(){n()},[n]),r.createElement(ta,Object.assign({onNavigate:t.push},a))})),aa=n(324),ca=n.n(aa),oa=n(325),ia=n.n(oa);function sa(e){var t=e.username,n=e.password,a=e.error,c=e.onLogin,o=e.onFetchSsoUrl,s=e.onCreateEnterpriseUser,u=e.onFetchEnterpriseTokenLogin,d=e.singleUseToken,f=e.newEnterpriseUser,p=e.enterpriseUser,m=e.role,b=e.fetchedUsername,h=e.onNavigate,v=r.useContext(i.ThemeContext);r.useEffect(function(){d&&u({singleUseToken:d})},[u,d]);var E=r.useState(g.a?"":"me"),O=Object(A.a)(E,2),x=O[0],y=O[1],j=r.useState(""),C=Object(A.a)(j,2),w=C[0],S=C[1];r.useEffect(function(){null!==t&&y(t),null!==n&&S(n)},[t,n]);var k=r.createElement(r.Fragment,null,r.createElement(L.a,{fontSize:5,variant:3,mb:2,letterSpacing:2,color:"neutral_8"},"Welcome !"),r.createElement(N.a,{variant:"body.secondary",mb:3,display:"block"},"Sign in to continue perfecting your bot!"),r.createElement(Ie.a,{type:g.a?"text":"hidden",fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return y(e)},value:x,mb:2,px:4,onReturn:function(){return c({username:x,password:w})},py:"13px"}),r.createElement(Ie.a,{fullWidth:!0,placeholder:"Password",name:"password",type:"password",onChangeValue:function(e){return S(e)},value:w,mb:3,onReturn:function(){return c({username:x,password:w})},px:4,py:"13px"}),r.createElement(M.a,{variant:"primary",width:"100%",letterSpacing:1.1,lineHeight:"28px",onClick:function(){return c({username:x,password:w})},large:!0},"SIGN IN"),r.createElement(Te,{my:3},"OR"),r.createElement(M.a,{variant:"primary",width:"100%",letterSpacing:1.1,lineHeight:"28px",onClick:function(){return o()},large:!0},"I have an enterprise ID")),T=r.createElement(r.Fragment,null,r.createElement(L.a,{fontSize:5,variant:3,mb:3,letterSpacing:2,color:"neutral_8"},"It seems like it's your first time!"),r.createElement(N.a,{variant:"body.secondary",mb:2,display:"block"},"Set a new username for yourself"),r.createElement(Ie.a,{fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return y(e)},value:x,mb:3,px:4,onReturn:function(){return s({username:x})},py:"13px"})),I=r.createElement(r.Fragment,null,r.createElement(N.a,{variant:"body.secondary",mb:4,display:"block"},"Your current role is ",r.createElement("strong",null,"\u201c",m,"\u201d"),". For any further permissions, please contact your Admin."),r.createElement(M.a,{variant:"primary",width:"100%",letterSpacing:1.1,lineHeight:"28px",onClick:function(){return h("/conversations")},large:!0},"Go to platform")),F=r.createElement(N.a,{variant:"body.secondary",display:"block"},"You have not been assigned permissions. Please contact your Admin to continue."),_=r.createElement(M.a,{variant:"primary",width:"100%",letterSpacing:1.1,lineHeight:"28px",onClick:function(){return s({username:x})},large:!0},"CONTINUE"),D=null;return D=(p||f)&&d?b?m&&1===m.length&&m[0]===de.b.role[0]?F:p?r.createElement(l.b,{to:"/conversations"}):I:_:k,r.createElement(R.Flex,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{height:"100%"}},a&&a.message&&r.createElement(vt,{variant:"error",absolute:!0,p:0,m:0,borderRadius:0,py:"14px"},r.createElement(N.a,{variant:"body.secondary",color:"inherit",textAlign:"center",width:1},a.message)),r.createElement(R.Card,{flex:"0 1 1000px",borderRadius:"large",boxShadow:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",style:{overflow:"hidden",height:"472px"}},r.createElement(R.Flex,{style:{height:"100%"}},r.createElement(R.Card,{backgroundImage:Object(U.get)(v,"gradients.primary_1"),width:.5,p:11,pt:9},r.createElement(R.Flex,{flexDirection:"column",style:{maxWidth:"300px",height:"100%"}},r.createElement(Kt,{width:"77px",src:ia.a,alt:"Rasa Logo",mb:5}),r.createElement(R.Box,{flex:"1"}),r.createElement(L.a,{variant:1,color:"neutral_0",fontSize:30,lineHeight:"large",letterSpacing:3,mb:4},"Rasa X ",g.a?"Enterprise":"Community"," Edition"),r.createElement(N.a,{color:"neutral_0",lineHeight:"big"},"Build, improve, and deploy assistants powered by Rasa."))),r.createElement(R.Flex,{bg:"neutral_0",width:.5,px:11,py:9,justifyContent:"center",flexDirection:"column"},f&&d&&T,D))))}var la={onLogin:le.g.request,onFetchSsoUrl:le.e.request,onFetchEnterpriseTokenLogin:le.c.request,onCreateEnterpriseUser:le.b.request};var ua=Object(l.g)(Object(s.b)(function(e,t){return{error:e.auth.error,singleUseToken:t.match.params.singleUseToken,fetchedUsername:e.auth.username,newEnterpriseUser:e.auth.newEnterpriseUser,enterpriseUser:e.auth.enterpriseUser,role:e.auth.role}},la)(function(e){e.match;var t=e.location,n=e.history,a=(e.staticContext,Object(S.a)(e,["match","location","history","staticContext"])),c=t.search,o=r.useMemo(function(){var e=new ca.a(c);return[e.get("username"),e.get("password")]},[c]),i=Object(A.a)(o,2),s=i[0],l=i[1];return r.useEffect(function(){null!==s&&null!==l&&a.onLogin({username:s,password:l})},[s,l,a]),r.createElement(sa,Object.assign({username:s,password:l,onNavigate:n.push},a))})),da=n(326),fa=n.n(da),pa=Object(i.default)(R.Flex).withConfig({displayName:"GuestConversation__Container",componentId:"sc-1l3imcc-0"})(["height:auto;@media (max-device-width:800px){flex-direction:column;}@media (max-device-width:500px){padding:0;height:100%;}"]),ma=Object(i.default)(R.Card).withConfig({displayName:"GuestConversation__StyledCard",componentId:"sc-1l3imcc-1"})(["@media (max-device-width:800px){border:0;box-shadow:0 4px 11px 0 rgba(152,163,193,0.17);z-index:1;width:100%;}@media (max-device-width:500px){border-radius:0;margin:0;padding:24px;}"]),ba=Object(i.default)(ma).withConfig({displayName:"GuestConversation__PaddinglessCard",componentId:"sc-1l3imcc-2"})(["@media (max-device-width:500px){padding:0;}"]),ga=Object(i.default)(Kt).withConfig({displayName:"GuestConversation__StyledImage",componentId:"sc-1l3imcc-3"})(["@media (max-device-width:500px){width:50px;margin-bottom:21px;}"]),ha=Object(i.default)(L.a).withConfig({displayName:"GuestConversation__StyledHeading",componentId:"sc-1l3imcc-4"})(["max-width:240px;@media (max-device-width:500px){font-size:15px;line-height:1.33;max-width:initial;}"]),va=Object(i.default)(N.a).withConfig({displayName:"GuestConversation__StyledText",componentId:"sc-1l3imcc-5"})(["@media (max-device-width:500px){font-size:13px;margin-top:16px;}"]);function Ea(e){var t=e.awaitingResponse,n=e.botDescription,a=e.botName,c=e.conversationEvents,o=e.environment,i=e.onSendMessage,s=e.onStartPolling,l=e.onStopPolling,u=e.timestamp,d=e.username;r.useEffect(function(){return d?(s({conversationId:d,environment:o}),function(){return l()}):function(){}},[d,o,s,l]);var f=r.useCallback(function(e){i({senderId:d,text:e,environment:o})},[d,o,i]),p=c[d];return r.createElement(pa,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{minHeight:"100%"},p:4},r.createElement(ba,{flex:"0 1 976px",borderRadius:"large",boxShadow:"0 4px 11px 0 rgba(152, 163, 193, 0.17)",my:3,style:{overflow:"hidden",height:"700px"}},r.createElement(pa,{style:{height:"100%"}},r.createElement(ma,{bg:"neutral_0",width:400,p:6,pb:11,borderRight:"1px solid",borderColor:"neutral_4"},r.createElement(R.Flex,{flexDirection:"column",style:{height:"100%"}},r.createElement(ga,{width:"77px",src:fa.a,alt:"Rasa Logo",mb:5}),r.createElement(R.Box,{flex:"1"}),r.createElement(ha,{fontWeight:400,variant:1,fontSize:20,lineHeight:"28px",letterSpacing:3},"You have been invited to have a conversation with"," ",a?r.createElement("strong",null,a):"an AI assistant"),n&&r.createElement(va,{lineHeight:"big",mt:4},n))),r.createElement(R.Flex,{bg:"neutral_0",flex:1,justifyContent:"center",flexDirection:"column"},r.createElement(mn,{awaitingResponse:t,client:d,conversation:p,environment:o,onSendMessage:f,timestamp:u,userAvatar:r.createElement(D.a,{fontSize:14,icon:["fas","user"]})})))))}var Oa={onSendMessage:st.n.request,onStartPolling:st.p,onStopPolling:st.q,onFetchTemporaryAccessToken:le.f.request,onFetchBotDetails:st.d.request};var xa=Object(s.b)(function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:t.match.params.chatToken,conversationEvents:e.messages.conversationEvents,entities:e.messages.entities,entityTypes:e.examples.entityTypes,role:e.auth.role,timestamp:Number(t.match.params.timestamp)||0,username:e.auth.username,environment:e.messages.environment,loading:e.messages.loading,temporaryConversationId:e.messages.temporaryConversationId,botName:e.messages.botName,botDescription:e.messages.botDescription}},Oa)(function(e){var t=e.username,n=e.onFetchTemporaryAccessToken,a=e.chatToken,c=e.temporaryConversationId,o=Object(S.a)(e,["username","onFetchTemporaryAccessToken","chatToken","temporaryConversationId"]),i=t||c;return r.useEffect(function(){n({conversationId:i,chatToken:a})},[a,n,i]),null===t?null:r.createElement(Ea,Object.assign({username:t},o))}),ya=n(15),ja=n(124),Ca=function(e){switch(e){case"production":return["cyan_1","cyan_3"];case"staging":return["blue_1","blue_3"];case"development":return["yellow_1","yellow_3"];default:return["orange_1","orange_3"]}};function wa(e){var t=e.environments;return r.createElement(r.Fragment,null,t.map(function(e){var t=Ca(e),n=Object(A.a)(t,2),a=n[0],c=n[1];return r.createElement(ja.a,{key:e,color:a,bg:c},e)}))}function Sa(e){var t=e.environment,n=e.onChange,a=e.checked,c=void 0!==a&&a,o=Object(S.a)(e,["environment","onChange","checked"]);return r.createElement(R.Card,Object.assign({as:"label"},o,{style:{display:"block"}}),r.createElement(R.Flex,null,r.createElement(R.Box,{p:2},r.createElement(_e.a,{checked:c,onChange:function(){return n(!c)}})),r.createElement(R.Box,{p:2,flex:"1"},r.createElement(L.a,{variant:4},t.charAt(0).toUpperCase()+t.slice(1)))))}function ka(e){var t=e.open,n=e.onAddEnvironment,a=e.onClose,c=e.model,o=e.environments,i=r.useState([]),s=Object(A.a)(i,2),l=s[0],u=s[1],d=function(){u([]),a()},f=r.useMemo(function(){return c?o.filter(function(e){return!c.tags.includes(e)}):o},[o,c]);return c?r.createElement(Pe,{open:t,onClose:d,title:"Manage Deployment Environment"},c.tags.length>0&&r.createElement(R.Box,{mb:5},r.createElement(L.a,{variant:4,mb:4},"Model ",c.model," is currently in:"),r.createElement(wa,{environments:c.tags})),f.length>0&&r.createElement(R.Box,null,r.createElement(L.a,{variant:4,mb:4},"Add model to:"),f.map(function(e){return r.createElement(Sa,{key:e,mb:4,checked:l.includes(e),environment:e,onChange:function(t){return u(t?[].concat(Object(T.a)(l),[e]):l.filter(function(t){return e!==t}))}})})),r.createElement(fe.a,{resource:de.c.Environments,action:de.a.Update,yes:r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(M.a,{mx:1,variant:"primary",onClick:function(){n({model:c,environment:l}),d()}},"Save"),r.createElement(M.a,{mx:1,variant:"secondary",onClick:d},"Cancel"))})):null}Sa.defaultProps={p:2,border:"1px solid",borderColor:"neutral_5",borderRadius:"normal"};var Ta=n(99);function Aa(e){var t=e.environments,n=e.models,a=e.onAddModelEnvironment,c=e.onDeleteModels,o=e.onLoadMoreRows,i=e.total,s=r.useState(null),l=Object(A.a)(s,2),u=l[0],d=l[1],f=r.useCallback(function(e){var t=e.selected,n=e.onChangeSelected;return function(e){var a=e.rowIndex,c=e.rowData;if(!c)return null;var o=t.includes(a);return r.createElement(R.Flex,{alignItems:"center"},r.createElement(R.Box,{flex:"0 1 auto",mr:3},r.createElement("label",null,r.createElement(_e.a,{checked:o,onChange:function(){return n(a,!o)}}))),r.createElement(R.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"}},r.createElement(N.a,{variant:"body.secondary"},c.model)))}},[]),p=function(e){var n=e.onResetCache;return function(e){var o=e.rowData;if(!o)return null;var i=u&&u.model===o.model?r.createElement(ka,{open:!0,onClose:function(){return d(null)},model:o,onAddEnvironment:function(e){a(e),n(!0)},environments:t}):null;return r.createElement(r.Fragment,null,i,r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(M.a,{mr:1,variant:"icon",onClick:function(){return c([o])}},r.createElement(D.a,{icon:"trash"})),o.is_compatible&&r.createElement(M.a,{mr:1,variant:"icon",onClick:function(){d(o)}},r.createElement(D.a,{icon:"ellipsis-h"}))))}};return r.createElement(Ta.a,{total:i,data:n,onLoadMoreRows:o,resource:de.c.Models,bulkActionsRenderer:function(e){var t=e.dataSelected,n=e.setSelected;return r.createElement(fe.a,{resource:de.c.Models,action:de.a.Delete,yes:r.createElement(M.a,{onClick:function(){c(t),n([])},variant:"inverse"},"Archive")})}},function(e){return[r.createElement(Et.d,{key:"model",cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"model",label:"Model name",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:f(e)}),r.createElement(Et.d,{key:"createdOn",cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"trained_at",label:"Created on",cellRenderer:function(e){var t=e.rowData;return t?r.createElement(N.a,{variant:"body.secondary"},gt.a.unix(t.trained_at).toString()):null}}),r.createElement(Et.d,{key:"tags",cellDataGetter:function(){},flexGrow:1,width:250,dataKey:"tags",label:"State",cellRenderer:function(e){var t=e.rowData;return t?r.createElement(r.Fragment,null,r.createElement(wa,{environments:t.tags}),!t.is_compatible&&r.createElement(ja.a,{bg:"neutral_3",color:"neutral_6"},"Not compatible")):null}}),r.createElement(Et.d,{key:"actions",cellDataGetter:function(){},flexGrow:1,width:150,dataKey:"model",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:p(e)})]})}function Ra(e){var t=e.apiUrl,n=e.apiToken,a='curl -k -F "model=@my_model.tar.gz" '.concat(t,"/projects/default/models?api_token=").concat(n),c=r.createElement(R.Box,{mr:2,style:{maxWidth:"400px"}},r.createElement(N.a,{variant:"body.secondary"},"To upload a model"),r.createElement(Mn,null,a));return r.createElement(rr,{content:c,placement:"bottomLeft",align:{offset:[10,1]}},r.createElement(M.a,{large:!0,mr:3},"Upload model"))}function Ia(e){var t=e.apiToken,n=e.apiUrl,a=e.chatToken,c=e.environment,o=e.environments,i=e.models,s=e.onAddModelEnvironment,l=e.onDeleteModels,u=e.onFetchChatToken,d=e.onLoadMoreRows,f=e.total,p=r.useState(!1),m=Object(A.a)(p,2),b=m[0],g=m[1];return r.createElement(xr.a,{title:"Models",rightContent:r.createElement(R.Flex,{flexDirection:"row-reverse"},r.createElement(Ra,{apiUrl:n,apiToken:t}),r.createElement(R.Box,{style:{position:"relative"},mr:2},r.createElement(M.a,{active:b,large:!0,onClick:function(){return g(!b)},style:{position:"relative"}},r.createElement(D.a,{icon:"share-alt"})),b&&r.createElement(Ar,{onSetVisible:g,environment:c,environments:o,onClose:function(){return g(!1)},onFetchChatToken:u,chatToken:a})))},r.createElement(Aa,{environments:o,models:i,onDeleteModels:l,onLoadMoreRows:d,onAddModelEnvironment:s,total:f}))}var Fa={onFetchModels:ue.f.request,onFetchChatToken:st.e.request,onAddModelEnvironment:ue.a.request,onDeleteModels:ue.b.request,onFetchEnvironments:ue.c.request};var _a=Object(s.b)(function(e){return{apiToken:e.auth.apiToken,apiUrl:new URL(ya.b,window.location.href).href,environment:e.messages.environment,environments:e.models.environments,models:e.models.models,role:e.auth.role,total:e.models.total,chatToken:e.messages.chatToken}},Fa)(function(e){var t=e.onFetchEnvironments,n=e.onFetchModels;return r.useEffect(function(){t(),n({search:"",offset:0,limit:0})},[t,n]),r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(ue.f.request),resolve:Object(ot.getType)(ue.f.success),reject:Object(ot.getType)(ue.f.failure)},function(t){return r.createElement(Ia,Object.assign({},e,{onLoadMoreRows:t}))})}),Na=n(100),Ma=n.n(Na),La=n(46),Da=n(169);function Ua(e){var t=e.draftSuggestionExists,n=e.onCheckDraftSuggestion,a=e.onClose,c=e.onSaveSuggestion,o=r.useState(""),i=Object(A.a)(o,2),s=i[0],l=i[1];Object(Da.b)(function(){n(s)},500,[s]);var u=r.useCallback(function(){c(s),l("")},[c,l,s]);return r.createElement(R.Flex,{style:{width:"100%"}},r.createElement(R.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"1"},r.createElement(Ie.a,{fullWidth:!0,onReturn:u,placeholder:"Type a sentence to add it to training data",value:s,onChangeValue:l,invalid:t})),r.createElement(R.Box,{className:"ReactVirtualized__Table__rowColumn",width:150},r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"}},r.createElement(M.a,{mx:1,variant:"primary",disabled:t,onClick:u},"Enter"),r.createElement(M.a,{mx:1,variant:"secondary",onClick:a},"Cancel"))))}function Pa(e){var t=e.suggestion,n=e.entityTypes,a=e.onChange,c=e.onResize;return r.createElement(cr,{text:t.user_input.text,entities:t.user_input.entities,entityTypes:n,onChange:function(e,n){return a(Object(k.a)({},t,{user_input:Object(k.a)({},t.user_input,{text:e,entities:n})}))},onResize:c})}function Ha(e){var t=e.draftSuggestionExists,n=e.entityTypes,a=e.intents,c=e.onChange,o=e.onCheckDraftSuggestion,i=e.onDelete,s=e.onLoadMoreRows,l=e.onMarkCorrect,u=e.onSaveSuggestion,d=e.onSearch,f=e.searchQuery,p=e.suggestions,m=e.total,b=void 0===m?0:m,g=r.useCallback(function(e){var t=e.setSelected,n=e.dataSelected;return r.createElement(R.Box,null,r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Create,yes:r.createElement(M.a,{ml:2,onClick:function(){l(n),t([])},variant:"inverse"},"Mark Correct")}),r.createElement(fe.a,{resource:de.c.Logs,action:de.a.Delete,yes:r.createElement(M.a,{ml:2,onClick:function(){i(n),t([])},variant:"inverse"},"Delete")}))},[l,i]),h=r.useCallback(function(e,t){return r.createElement(ur.a,{p:4,name:"Intents",items:a,checkedItems:e.filter(function(e){return"intent"===e.keyword}).map(function(e){return e.value}),onChange:function(n){return t(e.filter(function(e){return"intent"!==e.keyword}).concat(n.map(function(e){return{keyword:"intent",value:e,negated:!1}})))}})},[a]),v=r.useCallback(function(e){return o&&u&&r.createElement(Ua,{draftSuggestionExists:!!t,onCheckDraftSuggestion:o,onSaveSuggestion:u,onClose:e})},[t,o,u]),E=r.useCallback(function(e){var t=e.selected,a=e.onChangeSelected;return function(e){var o=e.rowIndex,i=e.rowData;if(!i)return null;var s=t.includes(o);return r.createElement(R.Flex,{width:"100%",alignItems:"center"},r.createElement(R.Box,{flex:"0 1 auto",mr:3},r.createElement("label",null,r.createElement(_e.a,{checked:s,onChange:function(){return a(o,!s)}}))),r.createElement(R.Box,{flex:"1 1 auto"},r.createElement(Pa,{suggestion:i,onChange:c,entityTypes:n})))}},[c,n]),O=r.useCallback(function(e){return function(t){return c(Object(k.a)({},e,{user_input:Object(k.a)({},e.user_input,{intent:t})}))}},[c]),x=r.useCallback(function(){return function(e){var t=e.rowData;return t?r.createElement(Un,{intent:t.user_input.intent.name,rankedIntents:t.user_input.intent_ranking,autoFocus:1===b,onChange:O(t),intents:a,onKeyDownWithMenu:function(e,n){"Enter"!==e.key||n?"Escape"===e.key&&i(t):l(t)}}):null}},[b,O,a,l,i]),y=r.useCallback(function(e){var t=e.onResetCache;return function(e){var n=e.rowData;return n?r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(fe.a,{resource:de.c.Logs,action:de.a.Delete,yes:r.createElement(fn.a,{content:"Delete"},r.createElement(M.a,{mx:1,onClick:function(){i(n),t(!0)},variant:"icon"},r.createElement(D.a,{icon:"trash"})))}),r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Create,yes:r.createElement(fn.a,{content:n.user_input.intent?"Mark Correct":"You need to define an intent before marking this correct"},r.createElement(M.a,{mx:1,onClick:function(){l(n),t(!0)},disabled:!n.user_input.intent.name,variant:"icon"},r.createElement(D.a,{icon:"check-circle"})))})):null}},[i,l]);return r.createElement(Ta.a,{bulkActionsRenderer:g,onSearch:d,searchQuery:f,addRenderer:o&&u&&v,data:p,filtersRenderer:h,onLoadMoreRows:s,resource:de.c.Logs,total:b},function(e){return[r.createElement(Et.d,{key:"sentence",cellDataGetter:function(){},width:300,flexGrow:3,className:"ReactVirtualized__Table__rowColumn_overflow",dataKey:"user_input.text",label:"Sentence",cellRenderer:E(e)}),r.createElement(Et.d,{key:"intent",cellDataGetter:function(){},width:200,flexGrow:2,dataKey:"user_input.intent",label:"Intent",cellRenderer:x()}),r.createElement(Et.d,{key:"actions",cellDataGetter:function(){},flexGrow:1,width:150,className:"ReactVirtualized__Table__rowColumnOnHover",dataKey:"actions",cellRenderer:y(e)})]})}function qa(e){var t=e.draftSuggestionExists,n=e.entityTypes,a=e.intents,c=e.onCheckDraftSuggestion,o=e.onChangeSuggestion,i=e.onConfirmSuggestion,s=e.onDeleteSuggestion,l=e.onFetchEntities,u=e.onFetchSuggestions,d=e.onLoadMoreRows,f=e.onSaveSuggestion,p=e.searchQuery,m=e.suggestions,b=e.total;r.useEffect(function(){l(),u({search:p,offset:0,limit:20})},[l,u,p]);var g=r.useCallback(function(e){return u({search:e,offset:0,limit:20})},[u]);return r.createElement(Ha,{total:b,suggestions:m,entityTypes:n,intents:a,searchQuery:p,onSearch:g,onChange:o,onDelete:s,onMarkCorrect:i,onLoadMoreRows:d,onCheckDraftSuggestion:c,onSaveSuggestion:f,draftSuggestionExists:t})}var Ga={onCheckDraftSuggestion:La.b.request,onChangeSuggestion:La.a,onConfirmSuggestion:mt.l.request,onDeleteSuggestion:La.c.request,onFetchEntities:mt.e.request,onFetchSuggestions:La.d.request,onSaveSuggestion:La.e.request};var Ba=Object(s.b)(function(e){return{draftSuggestionExists:e.suggestions.draftSuggestionExists,entityTypes:e.examples.entityTypes,intents:e.examples.intents,role:e.auth.role,searchQuery:e.suggestions.searchQuery,suggestions:e.suggestions.suggestions,total:e.suggestions.total}},Ga)(function(e){return r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(La.d.request),resolve:Object(ot.getType)(La.d.success),reject:Object(ot.getType)(La.d.failure)},function(t){return r.createElement(qa,Object.assign({},e,{onLoadMoreRows:t}))})}),Va=(n(285),n(327)),za=n.n(Va);function Wa(e){var t=e.example,n=e.entityTypes,a=e.onChange,c=e.onResize;return r.createElement(cr,{text:t.text,entities:t.entities,entityTypes:n,onChange:function(e,n){return a(Object(k.a)({},t,{text:e,entities:n}))},onResize:c})}function Ya(e){var t=e.entityTypes,n=e.examples,a=e.intents,c=e.onChange,o=e.onDelete,i=e.onDownloadExamples,s=e.onLoadMoreRows,l=e.onSave,u=e.onSearch,d=e.onUploadExamples,f=e.searchQuery,p=e.totalExamples,m=[r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Create,yes:r.createElement(za.a,{as:"text",onChange:function(e,t){var n=Object(A.a)(t,1),r=Object(A.a)(n[0],1)[0].target;d(r.result)}},r.createElement(fn.a,{content:"Upload training data"},r.createElement(M.a,{variant:"headerIcon"},r.createElement(D.a,{icon:"arrow-to-top"}))))}),r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Read,yes:r.createElement(fn.a,{content:"Download training data"},r.createElement(M.a,{variant:"headerIcon",onClick:i},r.createElement(D.a,{icon:"arrow-to-bottom"})))})],b=r.useCallback(function(e,t){return r.createElement(ur.a,{p:4,name:"Intents",items:a,checkedItems:e.filter(function(e){return"intent"===e.keyword}).map(function(e){return e.value}),onChange:function(n){return t(e.filter(function(e){return"intent"!==e.keyword}).concat(n.map(function(e){return{keyword:"intent",value:e,negated:!1}})))}})},[a]),g=r.useCallback(function(){return function(e){var n=e.rowData;return n?r.createElement(R.Box,{py:2},r.createElement(Wa,{example:n,onChange:function(e){return c(e)},entityTypes:t})):null}},[c,t]),h=r.useCallback(function(){return function(e){var t=e.rowData;return t?r.createElement(Un,{autoFocus:!1,rankedIntents:[],intent:t.intent,onChange:function(e){return c(Object(k.a)({},t,{intent:e.name}))},intents:a,onKeyDownWithMenu:function(e,n){"Enter"!==e.key||n?"Escape"===e.key&&o(t):l(t)}}):null}},[a,l,o,c]),v=r.useCallback(function(e){var t=e.onResetCache;return function(e){var n=e.rowData;return n?r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Delete,yes:r.createElement(fn.a,{content:"Delete"},r.createElement(M.a,{mx:1,onClick:function(){o(n),t(!0)},variant:"icon"},r.createElement(D.a,{icon:"trash"})))}),r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Update,yes:r.createElement(fn.a,{content:"Save changes",style:{visibility:n.isDirty?"visible":"hidden"}},r.createElement(M.a,{mx:1,onClick:function(){return l(n)},variant:"icon"},r.createElement(D.a,{icon:"save"})))})):null}},[o,l]);return r.createElement(Ta.a,{buttons:m,onSearch:u,searchQuery:f,resource:de.c.Examples,data:n,total:p,filtersRenderer:b,onLoadMoreRows:s},function(e){return[r.createElement(Et.d,{key:"sentence",cellDataGetter:function(){},width:300,flexGrow:3,dataKey:"text",label:"Sentence",cellRenderer:g()}),r.createElement(Et.d,{key:"intent",cellDataGetter:function(){},width:100,flexGrow:2,dataKey:"intent",label:"Intent",cellRenderer:h()}),r.createElement(Et.d,{key:"actions",cellDataGetter:function(){},width:150,flexGrow:1,dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",cellRenderer:v(e)})]})}function Qa(e){var t=e.entityTypes,n=e.examples,a=e.intents,c=e.onChangeExample,o=e.onDeleteTrainingExample,i=e.onDownloadExamples,s=e.onFetchExamples,l=e.onLoadMoreRows,u=e.onUpdateExample,d=e.onUploadExamples,f=e.searchQuery,p=e.totalExamples,m=r.useCallback(function(e){return s({search:e,offset:0,limit:20})},[s]);return r.createElement(Ya,{entityTypes:t,examples:n,intents:a,onChange:c,onDelete:o,onLoadMoreRows:l,onSave:u,onSearch:m,searchQuery:f,totalExamples:p,onDownloadExamples:i,onUploadExamples:d})}var Ka={onChangeExample:mt.b,onUpdateExample:mt.n.request,onDeleteTrainingExample:mt.c.request,onUploadExamples:mt.o.request,onFetchExamples:mt.g.request,onDownloadExamples:mt.d,onFetchEntities:mt.e.request};var Xa=Object(s.b)(function(e){return{searchQuery:e.examples.searchQuery,loading:e.examples.loading,examples:e.examples.examples,totalExamples:e.examples.total,intents:e.examples.intents,entityTypes:e.examples.entityTypes,role:e.auth.role}},Ka)(function(e){var t=e.onFetchEntities,n=e.onFetchExamples,a=e.searchQuery;return r.useEffect(function(){t(),n({search:a,offset:0,limit:20})},[t,n,a]),r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(mt.g.request),resolve:Object(ot.getType)(mt.g.success),reject:Object(ot.getType)(mt.g.failure)},function(t){return r.createElement(Qa,Object.assign({},e,{onLoadMoreRows:t}))})}),Ja=n(211),Za=n(286);function $a(e){var t=e.match,n=e.location,a=e.onNavigate,c=t.url,o=n.pathname,i={suggestions:Ma()(c,"new"),trainingData:Ma()(c,"training-data")},s={suggestions:!!Object(l.f)(o,{path:i.suggestions})||!!Object(l.f)(o,{exact:!0,path:c}),trainingData:!!Object(l.f)(o,{path:i.trainingData})},u=r.createElement(Za.a,null,r.createElement(fe.a,{resource:de.c.Logs,action:de.a.Read,yes:r.createElement(Ja.a,{onClick:function(){return a(i.suggestions)},active:s.suggestions},"Annotate new data")}),r.createElement(fe.a,{resource:de.c.Examples,action:de.a.Read,yes:r.createElement(Ja.a,{onClick:function(){return a(i.trainingData)},active:s.trainingData},"Training data")}));return r.createElement(xr.a,{title:"NLU Training",centreContent:u},r.createElement(l.c,{exact:!0,path:c,component:Ba}),r.createElement(l.c,{exact:!0,path:i.suggestions,component:Ba}),r.createElement(l.c,{exact:!0,path:i.trainingData,component:Xa}))}var ec={onFetchWarnings:mt.i.request,onFetchIntents:mt.h.request,onTrainModel:ue.k.request},tc=function(e){function t(){return Object(wt.a)(this,t),Object(kt.a)(this,Object(Tt.a)(t).apply(this,arguments))}return Object(At.a)(t,e),Object(St.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchWarnings(),this.props.onFetchIntents()}},{key:"render",value:function(){return r.createElement($a,Object.assign({onNavigate:this.props.history.push},this.props))}}]),t}(r.Component),nc=Object(l.g)(Object(s.b)(function(e){return{dataWarnings:e.examples.warnings,modelIsTraining:e.models.modelIsTraining,role:e.auth.role,apiToken:e.auth.apiToken,apiUrl:new URL(ya.b,window.location.href).href}},ec)(tc)),rc=n(45);function ac(e){var t=e.onClose,n=e.onSaveResponse,a=r.useState(""),c=Object(A.a)(a,2),o=c[0],i=c[1],s=r.useState(""),l=Object(A.a)(s,2),u=l[0],d=l[1],f=r.useCallback(function(){n({text:u,template:o}),i(""),d("")},[u,o,n,i,d]);return r.createElement(R.Flex,{style:{width:"100%"}},r.createElement(R.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"2 1 150px"},r.createElement(Ie.a,{fullWidth:!0,placeholder:"Type a template name to respond to",onChangeValue:i,value:o})),r.createElement(R.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px"},r.createElement(Ie.a,{fullWidth:!0,placeholder:"Type a response",onChangeValue:d,onReturn:f,value:u})),r.createElement(R.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px"},r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"}},r.createElement(M.a,{mx:1,variant:"primary",onClick:f},"Enter"),r.createElement(M.a,{mx:1,variant:"secondary",onClick:t},"Cancel"))))}function cc(e){var t=e.onChange,n=e.onDelete,a=e.onLoadMoreRows,c=e.onSaveResponse,o=e.onSearch,i=e.onUpdate,s=e.responses,l=e.searchQuery,u=e.templates,d=e.total,f=r.useCallback(function(e){return r.createElement(ac,{onClose:e,onSaveResponse:c})},[c]),p=r.useCallback(function(e,t){return r.createElement(ur.a,{p:4,name:"Templates",items:u,checkedItems:e.filter(function(e){return"template"===e.keyword}).map(function(e){return e.value}),onChange:function(n){return t(e.filter(function(e){return"template"!==e.keyword}).concat(n.map(function(e){return{keyword:"template",value:e,negated:!1}})))}})},[u]),m=function(e){var n=e.cache;return function(e){var a=e.rowData,c=e.parent,o=e.rowIndex,i=a;return i?r.createElement(Et.b,{cache:n,columnIndex:0,parent:c,rowIndex:o},r.createElement(R.Box,{p:2},r.createElement(dn,{py:"0.6em",px:"1em",fontSize:14,value:i.text,onChange:function(e){return t(Object(k.a)({},i,{text:e}))},onResize:function(){return n.clear(o,0)}}))):null}},b=function(e){var t=e.onResetCache;return function(e){var a=e.rowData;return a?r.createElement(R.Flex,{flexDirection:"row-reverse",mr:-1},r.createElement(fe.a,{resource:de.c.ResponseTemplates,action:de.a.Delete,yes:r.createElement(fn.a,{content:"Delete"},r.createElement(M.a,{mx:1,onClick:function(){n(a),t(!0)},variant:"icon"},r.createElement(D.a,{icon:"trash"})))}),r.createElement(fe.a,{resource:de.c.ResponseTemplates,action:de.a.Update,yes:r.createElement(fn.a,{content:"Save changes",style:{visibility:a.isDirty?"visible":"hidden"}},r.createElement(M.a,{mx:1,onClick:function(){return i(a)},variant:"icon"},r.createElement(D.a,{icon:"save"})))})):null}};return r.createElement(Ta.a,{data:s,total:d,onSearch:o,searchQuery:l,filtersRenderer:p,addRenderer:f,onLoadMoreRows:a,resource:de.c.ResponseTemplates},function(e){return[r.createElement(Et.d,{key:"template",cellDataGetter:function(){},width:150,flexGrow:2,dataKey:"template",label:"Template",cellRenderer:function(e){var n=e.rowData;return n?r.createElement(Ie.a,{fullWidth:!0,value:n.template,onChangeValue:function(e){return t(Object(k.a)({},n,{template:e}))}}):null}}),r.createElement(Et.d,{key:"response",cellDataGetter:function(){},width:300,flexGrow:3,dataKey:"response",label:"Text",cellRenderer:m(e)}),r.createElement(Et.d,{key:"actions",cellDataGetter:function(){},width:150,flexGrow:1,className:"ReactVirtualized__Table__rowColumnOnHover",dataKey:"actions",cellRenderer:b(e)})]})}function oc(e){var t=e.total,n=e.responses,a=e.templates,c=e.searchQuery,o=e.onSaveResponse,i=e.onFetchResponses,s=e.onChangeResponse,l=e.onUpdateResponse,u=e.onDeleteResponse,d=e.onLoadMoreRows,f=r.useCallback(function(e){return i({search:e,offset:0,limit:20})},[i]);return r.createElement(xr.a,{title:"Responses"},r.createElement(cc,{templates:a,total:t,responses:n,onChange:s,onUpdate:l,onDelete:u,onLoadMoreRows:d,searchQuery:c,onSearch:f,onSaveResponse:o}))}var ic={onUpdateResponse:rc.f.request,onChangeResponse:rc.a,onSaveResponse:rc.d.request,onDeleteResponse:rc.b.request,onFetchResponses:rc.c.request};var sc=Object(s.b)(function(e){return{total:e.responses.total,responses:e.responses.responses,searchQuery:e.responses.searchQuery,templates:e.responses.templates,role:e.auth.role}},ic)(function(e){var t=e.onFetchResponses,n=e.searchQuery;return r.useEffect(function(){t({search:n,offset:0,limit:20})},[t,n]),r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(rc.c.request),resolve:Object(ot.getType)(rc.c.success),reject:Object(ot.getType)(rc.c.failure)},function(t){return r.createElement(oc,Object.assign({},e,{onLoadMoreRows:t}))})}),lc=n(33);function uc(){var e=Object(q.a)(["\n      &:after {\n        transform: scaleY(1);\n        opacity: 1;\n      }\n    "]);return uc=function(){return e},e}var dc=Object(U.style)({prop:"bgHover",cssProperty:"background-color",key:"colors"}),fc=Object(i.default)(Ve).withConfig({displayName:"StoriesListItem__Container",componentId:"sc-1phtqx0-0"})(["cursor:pointer;position:relative;&:after{content:'';width:4px;height:100%;background-color:",";position:absolute;right:0px;transform:scaleY(0);opacity:0;transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;}"," &:hover{","}"],Object(U.themeGet)("colours.primary_2"),function(e){return e.active&&Object(i.css)(uc())},dc);function pc(e){var t=e.name,n=e.selected,a=e.totalSelected,c=e.onMultiSelect,o=Object(S.a)(e,["name","selected","totalSelected","onMultiSelect"]);return r.createElement("div",o,r.createElement(fc,{active:n,px:4,bg:n?"neutral_1":"transparent",bgHover:"neutral_1",style:{height:"100%"},alignItems:"center"},r.createElement(R.Box,{flex:"1"},r.createElement(N.a,{variant:"body.secondary"},t)),(a>1||1===a&&!n)&&r.createElement(Ge,{show:n&&a>1},r.createElement(M.a,{active:n,fontSize:15,color:n?"primary_1":"neutral_6",variant:"plainIcon",onClick:function(e){e.stopPropagation(),c(!n)}},r.createElement(D.a,{icon:"sitemap"})))))}var mc=r.memo(function(e){var t=e.onLoadMoreRows,n=e.onSelect,a=e.searchQuery,c=e.selected,o=e.stories,i=e.total,s=r.useCallback(function(e){var n=e.startIndex,r=e.stopIndex;return t?t({search:a,offset:n,limit:r-n+1}):new Promise(function(e){return e()})},[a,t]),l=r.useCallback(function(e){var t=e.key,a=e.index,i=e.style,s=o[a];return s?r.createElement(pc,{key:t,name:s.name,selected:c.indexOf(a)>=0,totalSelected:c.length,onClick:function(){return n([a])},onMultiSelect:function(e){return n(e?[].concat(Object(T.a)(c),[a]):c.filter(function(e){return e!==a}))},style:i}):null},[o,c,n]);return r.createElement(Et.a,null,function(e){return r.createElement(Et.e,{isRowLoaded:function(e){var t=e.index;return void 0!==o[t]},loadMoreRows:s,rowCount:i},function(t){var n=t.onRowsRendered,a=t.registerChild;return r.createElement(Et.f,{ref:a,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:i,rowHeight:48,rowRenderer:l})})})}),bc=n(168);function gc(e){var t=e.story,n=e.onCancelAdd,a=e.onSave,c=r.useState(t.story),o=Object(A.a)(c,2),i=o[0],s=o[1];r.useLayoutEffect(function(){s(t.story)},[t.story]);var l=r.useMemo(function(){if("name"in t)return t.name;var e=/^\s*#+ (.+)/gm.exec(i);return null===e?null:e[1]},[t,i]),u=r.useCallback(function(){"id"in t||n(),s(t.story)},[n,t]),d=r.useCallback(function(){return a(Object(k.a)({},t,{story:i}))},[a,t,i]);return r.createElement(R.Flex,{style:{height:"100%"},flexDirection:"column"},r.createElement(R.Card,{flex:"0 0 48px",borderBottom:"1px solid",borderColor:"neutral_4"},r.createElement(R.Flex,{style:{height:"100%"},px:4,alignItems:"center"},r.createElement(L.a,{variant:2},l||"Untitled Story"),(!("id"in t)||i!==t.story)&&r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Update,yes:r.createElement(R.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1},r.createElement(M.a,{mx:1,variant:"primary",onClick:d,disabled:!l},"Save"),r.createElement(M.a,{mx:1,variant:"secondary",onClick:u},"Cancel"))}))),r.createElement(ea,{value:i,onChange:s,language:"markdown"}))}var hc=n(328),vc=i.default.div.withConfig({displayName:"Visualization__Container",componentId:"sc-1vxofwh-0"})(["flex:1;overflow:hidden;padding:","px;background:linear-gradient(90deg,"," 6px,transparent 1%) center,linear-gradient("," 6px,transparent 1%) center,",";background-size:8px 8px;& g.graph > polygon{fill:transparent;}& g.node{& polygon{border-radius:8px;}& text{font-size:11px;}& text{fill:",";}& ellipse,& polygon{fill:",";stroke-width:1;stroke:",";}&.intent{& text{fill:",";}& ellipse,& polygon{fill:",";stroke-width:0;}}&.start,&.end{& text{fill:",";}& ellipse{fill:",";stroke-width:1;stroke:",";}}}& g."],Object(U.themeGet)("space.3"),Object(U.themeGet)("colors.neutral_0"),Object(U.themeGet)("colors.neutral_0"),Object(U.themeGet)("colors.neutral_5"),Object(U.themeGet)("colors.neutral_8"),Object(U.themeGet)("colors.neutral_1"),Object(U.themeGet)("colors.neutral_4"),Object(U.themeGet)("colors.neutral_0"),Object(U.themeGet)("colors.primary_2"),Object(U.themeGet)("colors.neutral_8"),Object(U.themeGet)("colors.neutral_0"),Object(U.themeGet)("colors.neutral_4")),Ec={fit:!0,growEnteringEdges:!1,zoom:!1,width:"100%",height:"100%"};function Oc(e){var t=e.options,n=e.dot,a=r.useState(null),c=Object(A.a)(a,2),o=c[0],i=c[1],s=r.useCallback(function(e){null!==e&&o!==e&&i(e)},[o]),l=r.useMemo(function(){return o?Object(hc.graphviz)(o):null},[o]);return r.useEffect(function(){l&&l.options(Object(k.a)({},Ec,t||{}))},[l,t]),r.useEffect(function(){l&&l.renderDot(n)},[l,t,n]),r.createElement(vc,{ref:s})}function xc(e){var t=e.stories,n=e.searchQuery,a=e.total,c=e.onFetchStories,o=e.onSaveStory,i=e.onUpdateStory,s=e.onDownloadStories,l=e.onLoadMoreRows,u=e.onFetchVisualization,d=e.visualization,f=r.useCallback(function(e){return c({search:e,offset:0,limit:20})},[c]);r.useEffect(function(){f(n)},[f,n]);var p=r.useState([0]),m=Object(A.a)(p,2),b=m[0],g=m[1],h=r.useState(t[b[0]]),v=Object(A.a)(h,2),E=v[0],O=v[1],x=r.useCallback(function(){g(b.slice(0,1))},[b]);r.useEffect(function(){if(0!==Object.keys(t).length&&b.length>0){var e=b.map(function(e){return t[e].id});u(e),1===b.length?O(t[b[0]]):O(null)}},[u,b,t]);var y=r.useCallback(function(e){return"id"in e?i(e):(g([0]),o(e))},[i,o]),j=r.useCallback(function(){return g([0])},[]),C=r.useCallback(function(){b.length>0?(O({story:""}),g([]),u([])):j()},[j,u,b.length]),w=[r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Create,yes:r.createElement(fn.a,{content:"Create Story"},r.createElement(M.a,{style:{height:72},width:72,variant:"headerIcon",onClick:C,active:0===b.length},r.createElement(D.a,{icon:"plus"})))}),r.createElement(fe.a,{resource:de.c.Stories,action:de.a.Read,yes:r.createElement(fn.a,{content:"Export stories"},r.createElement(M.a,{style:{height:72},width:72,variant:"headerIcon",onClick:s},r.createElement(D.a,{icon:"arrow-to-bottom"})))})],S=r.createElement(R.Card,{borderLeft:"1px solid",borderColor:"neutral_4"},r.createElement(bc.a,{style:{height:"100%"},resource:de.c.Stories,total:a,searchQuery:n,onSearch:f,buttons:w})),k=b.length>1;return r.createElement(xr.a,{title:"Stories",titleWidth:"299px",content:S,noPadding:!0},r.createElement(R.Flex,{bg:"neutral_0",style:{height:"100%",overflow:"hidden"}},r.createElement(R.Card,{borderColor:"neutral_4",borderRight:"1px solid",flex:"0 0 300px"},r.createElement(mc,{total:a,stories:t,searchQuery:n,selected:b,onSelect:g,onLoadMoreRows:l})),E&&r.createElement(R.Card,{borderColor:"neutral_4",borderRight:"1px solid",flex:"1"},r.createElement(gc,{story:E,onSave:y,onCancelAdd:j})),""!==d&&r.createElement(R.Flex,{flexDirection:"column",flex:"1"},r.createElement(R.Card,{flex:"0 0 48px",borderBottom:"1px solid",borderColor:"neutral_4"},r.createElement(R.Flex,{style:{height:"100%"},px:4,alignItems:"center"},k&&r.createElement(D.a,{mr:2,color:"neutral_6",icon:"sitemap",fontSize:"16px"}),r.createElement(R.Box,{flex:"1"},r.createElement(L.a,{variant:2},k?"Compare":"Flow")),k&&r.createElement(M.a,{variant:"plainIcon",onClick:x},r.createElement(D.a,{icon:"times",fontSize:"16px"})))),r.createElement(Or,{message:"Visualization has failed. Please refresh the page."},r.createElement(Oc,{dot:d})))))}var yc={onFetchStories:lc.f.request,onFetchVisualization:lc.g.request,onChangeStorySelection:lc.c,onChangeStory:lc.b,onUpdateStory:lc.m.request,onSaveStory:lc.i.request,onDownloadStories:lc.e};var jc=Object(s.b)(function(e){return{stories:e.stories.stories,selectedStories:e.stories.selectedStories,searchQuery:e.stories.searchQuery,role:e.auth.role,total:e.stories.total,visualization:e.stories.visualization}},yc)(function(e){return r.createElement(it.a,{listener:h.b,start:Object(ot.getType)(lc.f.request),resolve:Object(ot.getType)(lc.f.success),reject:Object(ot.getType)(lc.f.failure)},function(t){return r.createElement(xc,Object.assign({},e,{onLoadMoreRows:t}))})});function Cc(e){var t=e.config,n=e.error,a=e.onSave,c=r.useState(t),o=Object(A.a)(c,2),i=o[0],s=o[1],u=r.useState(n),d=Object(A.a)(u,2),f=d[0],p=d[1],m=te().addToast;r.useEffect(function(){f&&m({head:f.name,content:f.message,variant:"error"})},[f,m]),r.useEffect(function(){s(t)},[t]),r.useEffect(function(){p(n)},[n]);var b=i!==t;return r.createElement(xr.a,{title:"Model Configuration",scrollable:!0,rightContent:r.createElement(fe.a,{resource:de.c.Models,attributes:["settings"],action:de.a.Update,yes:r.createElement(r.Fragment,null,r.createElement(M.a,{onClick:function(){s(t)},variant:"secondary",large:!0,mr:2,disabled:!b},"Discard"),r.createElement(M.a,{onClick:function(){a(i)},large:!0,mr:3,disabled:!b},"Save changes"))})},r.createElement(R.Box,null,b&&r.createElement(l.a,{message:"Are you sure you want to navigate away before saving the new configuration file?"}),r.createElement(Tn.a,{p:4,boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},r.createElement(ea,{language:"yaml",value:i,onChange:function(e){return s(e)}}))))}var wc={onFetchConfig:Hr.a.request,onSave:Hr.d.request};var Sc=Object(s.b)(function(e){return{config:e.projects.config,error:e.projects.error}},wc)(function(e){var t=e.onFetchConfig,n=Object(S.a)(e,["onFetchConfig"]);return r.useEffect(function(){t()},[t]),r.createElement(Cc,n)});function kc(e){var t=e.action,n=e.actions,a=e.onChange,c=Object(S.a)(e,["action","actions","onChange"]),o=n.map(function(e){return{label:e.action,value:e.action,data:e}}),i=t&&o.find(function(e){return e.value===t.action}),s=r.useCallback(function(e){return e&&!Array.isArray(e)&&a(e.data)},[a]);return r.createElement(Dn.a,Object.assign({value:i,options:o,onChange:s},c))}function Tc(e){var t=e.predictedAction,n=e.predictedActions,a=e.onChangePrediction,c=e.onConfirmPrediction;return r.createElement(R.Flex,{style:{height:"72px"}},r.createElement(R.Box,{flex:"1"},r.createElement(kc,{action:t,actions:n,autoFocus:!0,block:!0,formatOptionLabel:function(e,t){return"menu"===t.context?e.label:r.createElement(r.Fragment,null,r.createElement("b",null,"Next Action:")," ",e.label)},height:"72px",onChange:a,onKeyDownWithMenu:function(e,n){t&&"Enter"===e.key&&!n&&c(t)}})),r.createElement(M.a,{variant:"headerIcon",active:!0,p:"28px",onClick:function(){return t&&c(t)}},r.createElement(D.a,{icon:"check-circle"})))}function Ac(e){var t=e.intents,n=e.onChange,a=e.suggestion,c=e.onMarkCorrect,o=e.onDelete,i=r.useCallback(function(e){return n(Object(k.a)({},a,{user_input:Object(k.a)({},a.user_input,{intent:e})}))},[a,n]);return r.createElement(R.Flex,{mt:1,flex:"0 0 72px"},r.createElement(R.Card,{borderTop:"1px solid",borderColor:"neutral_4",width:.5},r.createElement(R.Flex,{ml:4,style:{height:"100%"},alignItems:"center"},r.createElement(N.a,{variant:"body.secondary"},a.user_input.text))),r.createElement(R.Box,{flex:"1"},r.createElement(Un,{autoFocus:!0,block:!0,formatOptionLabel:function(e,t){return"menu"===t.context?e.label:r.createElement(r.Fragment,null,r.createElement("b",null,"Intent:")," ",e.label)},height:"72px",intent:a.user_input.intent.name,intents:t,onChange:i,onKeyDownWithMenu:function(e,t){a.user_input.intent.name&&"Enter"===e.key&&!t?c(a):"Escape"===e.key&&o(a)},rankedIntents:a.user_input.intent_ranking})),r.createElement(M.a,{onClick:function(){return a.user_input.intent.name&&c(a)},active:!0,p:"28px",variant:"headerIcon"},r.createElement(D.a,{icon:"check-circle"})))}function Rc(e){var t=e.conversation,n=e.conversationId,a=e.environment,c=e.intents,o=e.onCreateConversation,i=e.onCancelParsedMessage,s=e.onChangeParsedMessage,l=e.onChangePrediction,u=e.onClearStory,d=e.onConfirmPrediction,f=e.onCopy,p=e.onFetchIntents,m=e.onFetchEntities,b=e.onParseMessage,g=e.onSaveStory,h=e.onSendMessage,v=e.parsedMessage,E=e.predictedAction,O=e.predictedActions,x=e.storyName;r.useEffect(function(){p(),m()},[p,m]),r.useEffect(function(){null==n&&o()},[n,o]);var y=r.useCallback(function(){n&&v&&h({conversationId:n,parsedMessage:v})},[n,v,h]);return r.createElement(R.Flex,{bg:"neutral_0",style:{height:"100%"},flexDirection:"row"},r.createElement(R.Card,{width:.5,borderRight:"1px solid",borderColor:"neutral_4"},n&&r.createElement(R.Flex,{flexDirection:"column",style:{height:"100%"}},r.createElement(R.Box,{flex:"1"},r.createElement(mn,{awaitingResponse:!1,client:n,conversation:t,environment:a,onSendMessage:0!==O.length||v?void 0:b,onUndoMessage:function(e){return f({conversationId:n,environment:a,timestamp:e,storyName:x,removeLastAction:!0})},userAvatar:r.createElement(D.a,{icon:["fas","user"]})})),!!v&&r.createElement(Ac,{suggestion:v,onChange:s,intents:c,onMarkCorrect:y,onDelete:i}),O.length>0&&r.createElement(Tc,{predictedAction:E,predictedActions:O,onChangePrediction:l,onConfirmPrediction:function(e){return d({conversationId:n,confirmedAction:e})}}))),r.createElement(R.Box,{width:.5,style:{overflow:"hidden"}},r.createElement(Ln,{editable:!0,onClearStory:u,onSaveStory:g,storyName:x,conversation:t})))}var Ic={onCancelParsedMessage:pt.a,onChangeParsedMessage:pt.b,onChangePrediction:pt.c,onClearStory:pt.d,onConfirmPrediction:pt.e.request,onCopy:pt.f.request,onCreateConversation:pt.g.request,onFetchConversation:pt.h.request,onFetchIntents:mt.h.request,onParseMessage:pt.j.request,onSaveStory:lc.i.request,onSendMessage:pt.k.request,onAddStories:lc.a,onReplaceStories:lc.h,onSetShouldReplaceStories:lc.k,onSetStoriesToConfirm:lc.l,onFetchEntities:mt.e.request};var Fc=Object(s.b)(function(e){return{conversation:e.interactiveLearning.conversation,conversationId:e.interactiveLearning.conversationId,entityTypes:e.examples.entityTypes,environment:e.interactiveLearning.environment,intents:e.examples.intents,parsedMessage:e.interactiveLearning.parsedMessage,predictedAction:e.interactiveLearning.predictedAction,predictedActions:e.interactiveLearning.predictedActions,role:e.auth.role,storyName:e.interactiveLearning.storyName,shouldReplaceStories:e.stories.shouldReplaceStories,storiesToConfirm:e.stories.storiesToConfirm}},Ic)(function(e){return r.createElement(Rc,e)}),_c=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function Nc(e){var t=e.environment,n=e.environments,a=e.onChange,c=Object(S.a)(e,["environment","environments","onChange"]),o=r.useMemo(function(){return n.map(function(e){return{value:e,label:_c(e)}})},[n]),i=r.useCallback(function(e){return e&&!Array.isArray(e)&&a(e.value)},[a]);return r.createElement(Dn.a,Object.assign({hideSelected:!0,isSearchable:!1,onChange:i,options:o,value:{value:t,label:_c(t)}},c))}var Mc=r.memo(function(e){var t=e.environment,n=e.environments,a=e.onChangeEnvironment,c=e.username;return r.createElement(R.Flex,{style:{height:"100%",textAlign:"center"},p:11,flexDirection:"column",justifyContent:"center",alignItems:"center"},r.createElement(Ee,{variant:"xl",username:c,mb:3}),r.createElement(L.a,{variant:4},c," (You)"),r.createElement(N.a,{variant:"body.secondary",my:2},"and"),1===n.length&&r.createElement(L.a,{variant:4},_c(t)),n.length>1&&r.createElement(R.Box,{width:135},r.createElement(Nc,{placeholder:"Inactive",onChange:a,environment:t,environments:n})),r.createElement(Te,{width:24,mt:6,mb:5}),r.createElement(N.a,{variant:"caption.primary"},"Select a message to view more"))}),Lc=r.memo(function(e){var t=e.awaitingResponse,n=e.conversationEvents,a=e.correction,c=e.entityTypes,o=e.environment,i=e.environments,s=e.error,l=e.intents,u=e.loading,d=e.onChangeCorrection,f=e.onChangeEnvironment,p=e.onCopy,m=e.onFetchExample,b=e.onFetchEntityTypes,g=e.onFlagMessage,h=e.onNavigate,v=e.onSaveExampleFromCorrection,E=e.onSendMessage,O=e.onStartPolling,x=e.onStopPolling,y=e.onUnflagMessage,j=e.timestamp,w=e.username;r.useEffect(function(){b()},[b]);var S=w;r.useEffect(function(){return S?(d(null),O({conversationId:S}),function(){return x()}):function(){}},[S,d,O,x]);var k=r.useCallback(function(e){E({senderId:S,text:e,environment:o})},[S,o,E]),T=r.useCallback(function(e){h("/talk/lenient/".concat(e.timestamp||""))},[h]),A=r.useCallback(function(e,t){return(t?g:y)({conversationId:S,timestamp:e})},[g,y,S]),I=n[S],F=j?"Story from conversation with ".concat(S," on ").concat(gt()(1e3*j).format("MMMM Do YYYY")):"";return r.createElement(R.Flex,{style:{height:"100%"},bg:"neutral_0"},r.createElement(R.Box,{flex:"1 0",width:.6,style:{borderRight:"1px solid ".concat(C.colours.grey)}},r.createElement(Or,null,s&&r.createElement(Re,{p:2},"There was an error loading messages and polling has been stopped.",r.createElement(M.a,{ml:1,onClick:function(){return O({conversationId:S,environment:o})},variant:"primary"},"Restart polling")),!I&&u.conversation&&r.createElement(jt,{mt:20},"Loading conversation"),I&&r.createElement(mn,{awaitingResponse:t,client:S,conversation:I,environment:o,onFlagMessage:A,onMessageClick:T,onSendMessage:k,timestamp:j}))),r.createElement(R.Box,{width:.4,style:{maxWidth:"400px",overflow:"auto"}},r.createElement(Or,null,0===j&&S===w&&r.createElement(Mc,{username:w,environment:o,environments:i,onChangeEnvironment:f}),0!==j&&r.createElement(lr,{entityTypes:c,editable:!1,onChangeCorrection:d,timestamp:j,conversation:I,onCopy:function(){return p({conversationId:S,environment:o,timestamp:j,storyName:F})},storyName:F,conversationId:S,onFlagMessage:A,onFetchExample:m,intents:l,correction:a,onSaveCorrection:v,currentUser:S===w}))))}),Dc={onChangeCorrection:mt.a,onChangeEnvironment:st.a,onCopy:pt.f.request,onFetchConversation:st.f.request,onFetchEntityTypes:mt.e.request,onFetchExample:mt.f.request,onFlagMessage:st.m.request,onSendMessage:st.n.request,onSaveExampleFromCorrection:mt.k.request,onSelectIntent:st.o,onStartPolling:st.p,onStopPolling:st.q,onUnflagMessage:st.r.request};var Uc=Object(l.g)(Object(s.b)(function(e,t){return{awaitingResponse:e.messages.awaitingResponse,conversationEvents:e.messages.conversationEvents,correction:e.examples.correction,entities:e.messages.entities,entityTypes:e.examples.entityTypes,error:e.messages.error,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,username:e.auth.username,environment:e.messages.environment,environments:e.models.environments,intents:e.messages.intents,loading:e.messages.loading}},Dc)(function(e){var t=e.history,n=e.username,a=Object(S.a)(e,["history","username"]);return null===n?null:r.createElement(Lc,Object.assign({username:n,onNavigate:t.push},a))})),Pc=[{value:"low",label:"Talk",description:"Chat with your assistant."},{value:"high",label:"Interactive Learning",description:"Validate every step of a conversation with your assistant. Perfect for teaching a bot!"}],Hc=function(e,t){return"value"===t.context?r.createElement("b",null,"Mode: ",e.label):r.createElement(r.Fragment,null,r.createElement("b",null,e.label),r.createElement("p",null,e.description))},qc=function(e){var t=e.strictness,n=e.onChange,a=Object(S.a)(e,["strictness","onChange"]),c=r.useMemo(function(){return Pc.find(function(e){return e.value===t})},[t]),o=r.useCallback(function(e){return e&&!Array.isArray(e)&&n(e.value)},[n]);return r.createElement(Dn.a,Object.assign({value:c,options:Pc,formatOptionLabel:Hc,onChange:o},a))};function Gc(e){var t=e.match,n=e.location,a=e.environment,c=e.environments,o=e.onChangeEnvironment,i=e.onNavigate,s=e.onFetchEnvironments;r.useEffect(function(){s()},[s]);var u=t.url,d=n.pathname,f={lenient:Ma()(u,"lenient/:timestamp?"),strict:Ma()(u,"strict")},p=(!!Object(l.f)(d,{path:f.lenient})||Object(l.f)(d,{exact:!0,path:u}),!!Object(l.f)(d,{path:f.strict})),m=r.createElement(R.Flex,{justifyContent:"flex-end"},r.createElement(R.Box,{flex:"0 1 300px"},r.createElement(qc,{block:!0,borderWidth:"0 0 0 1px",height:"72px",onChange:function(e){return i("high"===e?f.strict:f.lenient)},strictness:p?"high":"low"})),c.length>1&&r.createElement(R.Box,{flex:"0 1 300px"},r.createElement(Nc,{block:!0,borderWidth:"0 0 0 1px",environment:a,environments:c,formatOptionLabel:function(e){return r.createElement("b",null,e.label," bot")},height:"72px",hideSelected:!1,onChange:o})));return r.createElement(xr.a,{title:"Talk to your bot",rightContent:m,noPadding:!0},r.createElement(R.Card,{style:{height:"100%"},borderTop:"1px solid",borderColor:"neutral_5"},r.createElement(l.c,{exact:!0,path:u,component:Uc}),r.createElement(l.c,{exact:!0,path:f.lenient,component:Uc}),r.createElement(l.c,{exact:!0,path:f.strict,component:Fc})))}var Bc={onChangeEnvironment:st.a,onFetchEnvironments:ue.c.request};var Vc=Object(l.g)(Object(s.b)(function(e){return{role:e.auth.role,environment:e.messages.environment,environments:e.models.environments}},Bc)(function(e){return r.createElement(Gc,Object.assign({onNavigate:e.history.push},e))})),zc=g.a&&b()({loader:function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,950))},loading:function(e){return r.createElement(jt,Object.assign({},e,{pt:7}),"Loading Analytics")}}),Wc=g.a&&b()({loader:function(){return n.e(5).then(n.bind(null,949))},loading:function(e){return r.createElement(jt,Object.assign({},e,{pt:7}),"Loading Roles")}}),Yc=g.a&&b()({loader:function(){return n.e(6).then(n.bind(null,951))},loading:function(e){return r.createElement(jt,Object.assign({},e,{pt:7}),"Loading Users")}}),Qc=Object(d.createBrowserHistory)({basename:""}),Kc=Object(h.a)(Qc),Xc=Kc.store,Jc=Kc.persistor,Zc=Object(i.default)(f.BaseModalBackground).withConfig({displayName:"App__StyledModalBackground",componentId:"dn2nvn-0"})(["z-index:110;"]);var $c=document.getElementById("root");$c&&o.a.render(r.createElement(function(){return r.createElement(r.Fragment,null,r.createElement(ie,null),r.createElement(s.a,{store:Xc},r.createElement(u.a,{persistor:Jc},r.createElement(l.d,{history:Qc},r.createElement(w,null,r.createElement(ee,null,r.createElement(f.ModalProvider,{backgroundComponent:Zc},r.createElement(l.e,null,zc&&r.createElement(ct,{authRequired:!0,path:"/analytics",component:zc}),r.createElement(ct,{authRequired:!0,path:"/talk",component:Vc}),r.createElement(ct,{authRequired:!0,path:"/conversations/:conversationId?/:timestamp?",component:Pr}),r.createElement(ct,{authRequired:!0,path:"/data",component:nc}),r.createElement(ct,{authRequired:!0,path:"/models",component:_a}),r.createElement(ct,{authRequired:!0,path:"/responses",component:sc}),r.createElement(ct,{authRequired:!0,path:"/config",component:Sc}),"/>",r.createElement(ct,{authRequired:!0,path:"/domain",component:ra}),r.createElement(ct,{authRequired:!0,path:"/stories",component:jc}),Yc&&r.createElement(ct,{authRequired:!0,path:"/users",component:Yc}),Wc&&r.createElement(ct,{authRequired:!0,path:"/roles",component:Wc}),r.createElement(l.b,{from:"/data/settings",to:"/config"}),r.createElement(l.c,{path:"/guest/conversations/:environment/:chatToken",component:xa}),r.createElement(l.c,{path:"/login",component:ua}),r.createElement(l.c,{path:"/enterprise-login/:singleUseToken",component:ua}),r.createElement(l.b,{to:"/conversations"})))))))))}),$c)},62:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return o});var r=!1,a=3e3,c=500,o=15},63:function(e,t,n){"use strict";var r=n(0),a=n(41),c=n(2),o=n(8),i=n(7),s=n(28),l=r.memo(function(e){var t=e.content,n=e.leftContent,a=e.centreContent,l=e.rightContent,u=e.title,d=e.titleWidth,f=void 0===d?"33%":d,p=r.useContext(o.ThemeContext);return r.createElement(c.Flex,{style:{height:Object(i.get)(p,"space.10")},"data-e2e":"TitleBar",alignItems:"center",justifyContent:"space-between"},r.createElement(c.Box,{flex:"0 1 auto"},n),r.createElement(c.Box,{flex:"0 1 ".concat(f),p:4},r.createElement(s.a,{variant:3},u)),t&&r.createElement(c.Box,{flex:"1 1",alignSelf:"stretch"},t),!t&&r.createElement(r.Fragment,null,r.createElement(c.Box,{flex:"1 1 33%",alignSelf:"stretch"},a),r.createElement(c.Box,{flex:"1 1 33%",style:{textAlign:"right"}},l)))});function u(e){var t=e.noPadding,n=e.title,c=e.titleWidth,o=e.content,i=e.leftContent,s=e.centreContent,u=e.rightContent,d=e.children,f=e.scrollable;return r.createElement(a.Flex,{flex:"1",flexDirection:"column",style:{maxWidth:"100%",overflow:"hidden"}},r.createElement(a.Box,{flex:"0 0 auto",style:{boxShadow:"0 2px 6px 0 #ECEFF7",zIndex:99}},r.createElement(l,{title:n,content:o,leftContent:i,centreContent:s,rightContent:u,titleWidth:c})),r.createElement(a.Box,{flex:"1 1 auto",px:t?0:10,py:t?0:7,style:{height:"100%",overflow:f?"auto":"hidden"},bg:"neutral_3"},d,f&&r.createElement(a.Box,{pb:t?0:7})))}n.d(t,"a",function(){return u})},64:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(9),a=n(18),c=n(4),o=n(0),i=n(314),s=n(115),l=n(313),u=n.n(l),d=n(8),f=n(2),p=n(7),m=n(69),b=n(13),g=n(68),h=n(20);function v(e,t,n){var r=Object(c.a)({},e,{theme:t});return n.flatMap(function(e){return e(r)}).reduce(function(e,t){return Object(c.a)({},e,t)},{})}var E={DropdownIndicator:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return null===s.components.DropdownIndicator?null:o.createElement(s.components.DropdownIndicator,e,o.createElement(b.a,{icon:"chevron-down",color:"neutral_7",p:"6px",fontSize:"12px"}))}),Option:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(!e.isMulti)return o.createElement(s.components.Option,e);var t=e.children,n=Object(a.a)(e,["children"]);return o.createElement(s.components.Option,n,o.createElement(f.Flex,{alignItems:"center"},o.createElement(f.Box,{mr:3},o.createElement(g.a,{checked:n.isSelected,onChange:function(){}})),o.createElement(f.Box,null,t)))}),MultiValueRemove:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return o.createElement(s.components.MultiValueRemove,e,o.createElement(b.a,{icon:"times",color:"neutral_6",fontSize:"9px"}))})};function O(e){var t=e.block,n=e.creatable,s=e.disabled,l=e.error,f=e.borderWidth,b=e.height,g=void 0===b?"40px":b,O=e.hideSelected,x=e.onKeyDownWithMenu,y=Object(a.a)(e,["block","creatable","disabled","error","borderWidth","height","hideSelected","onKeyDownWithMenu"]),j=o.useContext(d.ThemeContext),C=o.useMemo(function(){return v(m.b,j,[p.borderRadius,p.borders,p.borderColor,p.color])},[j]),w=o.useMemo(function(){return v(Object(h.b)("body.secondary"),j,[p.display,p.fontWeight,p.letterSpacing,p.color,p.fontSize,p.lineHeight])},[j]),S=o.useState(!1),k=Object(r.a)(S,2),T=k[0],A=k[1],R={isDisabled:s,menuPortalTarget:document.body,menuPlacement:"auto",styles:{control:function(e,n){var r="neutral_5";return t?r="neutral_4":n.isFocused?r="primary_2":l&&(r="secondary_2"),Object(c.a)({},e,{borderWidth:f||e.borderWidth,backgroundColor:Object(p.get)(j,"colors.".concat(n.isDisabled?"neutral_1":"neutral_0")),borderRadius:t?0:Object(p.get)(j,"radii.normal"),borderColor:Object(p.get)(j,"colors.".concat(r)),"&:hover":{borderColor:!t&&!n.isFocused&&Object(p.get)(j,"colors.neutral_6")},boxShadow:"none",height:n.isMulti?void 0:g,minHeight:g})},dropdownIndicator:function(e){return Object(c.a)({},e,{padding:"7px"})},indicatorSeparator:function(){return{display:"none"}},menuPortal:function(e){return Object(c.a)({},e,{zIndex:9999})},valueContainer:function(e){return e},menu:function(e){return Object(c.a)({},e,C,{margin:0,boxShadow:"0 2px 8px 0 ".concat(Object(p.get)(j,"colors.neutral_5")),border:0})},placeholder:function(e){return Object(c.a)({},e,w,{color:Object(p.get)(j,"colors.neutral_6")})},singleValue:function(e,t){return Object(c.a)({},e,w,t.isDisabled?{color:Object(p.get)(j,"colors.neutral_6")}:{})},menuList:function(e){return Object(c.a)({},e,{padding:"".concat(Object(p.get)(j,"space.2"),"px 0")})},multiValue:function(e){return Object(c.a)({},e,{margin:"".concat(Object(p.get)(j,"space.1"),"px"),marginLeft:0,backgroundColor:Object(p.get)(j,"colors.neutral_2"),borderRadius:Object(p.get)(j,"radii.large"),padding:"6px"})},multiValueLabel:function(e){return Object(c.a)({},e,{padding:0},w)},multiValueRemove:function(e){return Object(c.a)({},e,{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}})},option:function(e,t){return Object(c.a)({},e,w,{display:t.isSelected&&O?"none":e.display,padding:"14px ".concat(Object(p.get)(j,"space.4"),"px"),backgroundColor:t.isSelected||t.isFocused?Object(p.get)(j,"colors.neutral_1"):"transparent",cursor:"pointer",transition:"all ease .2s","&:hover":{backgroundColor:Object(p.get)(j,"colors.neutral_1")}})}},menuIsOpen:T,onMenuOpen:function(){return A(!0)},onMenuClose:function(){return A(!1)},onKeyDown:function(e){x&&x(e,T)},components:Object(c.a)({},E,y.components)};return n?o.createElement(u.a,Object.assign({},R,y)):o.createElement(i.a,Object.assign({},R,y))}},68:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n(18),a=n(39),c=n(0),o=n(8),i=n(126),s=n(2),l=n(7),u=n(13);function d(){var e=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n\n  transition: all 150ms;\n  height: ",";\n\n  cursor: pointer;\n\n  &:hover {\n    ","\n  }\n\n  "," {\n    visibility: ","\n  }\n\n  ",":checked + & {\n    ","\n    ","\n    ","\n  }\n\n  ",":focus + &::before {\n    content: '';\n    ","\n    border-radius: 1000px;\n    position: absolute;\n    top: -4px;\n    bottom: -4px;\n    left: -4px;\n    right: -4px;\n    z-index: -1;\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(a.a)([""]);return f=function(){return e},e}function p(){var e=Object(a.a)(["\n  position: relative;\n  height: ",";\n  z-index: 0;\n"]);return p=function(){return e},e}var m=Object(l.style)({prop:"bgChecked",cssProperty:"background-color",key:"colors"}),b=Object(l.style)({prop:"borderChecked",cssProperty:"border",key:"borders"}),g=Object(l.style)({prop:"borderColorChecked",cssProperty:"border-color",key:"colors"}),h=Object(l.style)({prop:"borderColorHover",cssProperty:"border-color",key:"colors"}),v=Object(l.style)({prop:"focusBg",cssProperty:"background-color",key:"colors"}),E=Object(o.default)(s.Box)(p(),function(e){return e.width}),O=o.default.input.attrs({type:"checkbox"})(Object(i.b)()),x=Object(o.default)(u.a)(f()),y=Object(o.default)(s.Card)(d(),function(e){return e.width},h,x,function(e){return e.checked?"visible":"hidden"},O,b,g,m,O,v);function j(e){e.ref;var t=e.onChange,n=e.checked,a=e.partial,o=e.m,i=e.mx,s=e.my,l=e.mt,d=e.mb,f=e.ml,p=e.mr,m=Object(r.a)(e,["ref","onChange","checked","partial","m","mx","my","mt","mb","ml","mr"]),b={m:o,mx:i,my:s,mt:l,mb:d,ml:f,mr:p};return c.createElement(E,Object.assign({},b,{width:m.width}),c.createElement(O,{checked:n,onChange:t}),c.createElement(y,m,c.createElement(u.a,{icon:["fas",a?"minus":"check"]})))}j.defaultProps={color:"neutral_0",border:"1px solid",borderColorHover:"primary_2",borderChecked:"none",borderColor:"neutral_4",borderColorChecked:"transparent",bg:"neutral_0",bgChecked:"primary_2",focusBg:"primary_4",width:"16px",fontSize:"6px",borderRadius:"4px"}},69:function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n(8),a=n(0),c=n(2),o=n(7),i=Object(r.default)(c.Card).withConfig({displayName:"Card",componentId:"sc-19ifid9-0"})(["",""],o.position),s={bg:"neutral_0",borderRadius:"normal",boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",p:3};i.defaultProps=s,t.a=a.memo(i)},70:function(e,t,n){"use strict";var r=n(71),a=n(330),c=n(125),o=n(292),i=n.n(o),s=n(293),l=n(27),u=n(3),d=n.n(u),f=n(1),p=n(5),m=n(17),b=n(19),g=n(15),h=n(101),v=d.a.mark(E);function E(e,t){var n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.bucket,a=n.start,c=n.end,i.next=4,Object(p.b)(g.q,e,r,a,c);case 4:return o=i.sent,i.next=7,Object(p.f)(h.a.success(o));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(0),i.next=13,Object(b.a)(i.t0);case 13:return i.next=15,Object(p.f)(h.a.failure(i.t0));case 15:case"end":return i.stop()}},v,null,[[0,9]])}var O=[Object(m.a)(Object(f.getType)(h.a.request),E,!0)],x=n(23),y=n(14),j=d.a.mark(I),C=d.a.mark(F),w=d.a.mark(_),S=d.a.mark(N),k=d.a.mark(M),T=d.a.mark(L),A=d.a.mark(D),R=d.a.mark(U);function I(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(""!==(n=t.payload.username)){c.next=7;break}return(r=new Error).message="Please enter a username",c.next=6,Object(p.f)(x.b.failure(r));case 6:return c.abrupt("return");case 7:return c.prev=7,c.next=10,Object(p.b)(g.f,e,n);case 10:return a=c.sent,c.next=13,Object(p.f)(x.b.success(a));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(7),c.t0.response&&404===c.t0.response.status&&(c.t0.message=c.t0.response.data.details.message),c.next=20,Object(p.f)(x.b.failure(c.t0));case 20:case"end":return c.stop()}},j,null,[[7,15]])}function F(e,t){var n,r,a,c,o,i;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.username,a=n.oldPassword,c=n.newPassword,o=n.newPasswordConfirm,s.prev=1,s.next=4,Object(p.b)(g.c,e,r,a,c,o);case 4:return i=s.sent,s.next=7,Object(p.f)(x.a.success(i));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,Object(b.a)(s.t0);case 13:return s.next=15,Object(p.f)(x.a.failure(s.t0));case 15:case"end":return s.stop()}},C,null,[[1,9]])}function _(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.I,e);case 3:return t=n.sent,n.next=6,Object(p.f)(x.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(x.d.failure(n.t0));case 14:case"end":return n.stop()}},w,null,[[0,8]])}function N(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p.b)(g.S);case 3:return e=t.sent,t.next=6,Object(p.f)(x.e.success(e));case 6:window.location.assign(e.redirect_to),t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(b.a)(t.t0);case 13:return t.next=15,Object(p.f)(x.e.failure(t.t0));case 15:case"end":return t.stop()}},S,null,[[0,9]])}function M(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.singleUseToken,a.prev=1,a.next=4,Object(p.b)(g.C,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(x.c.success(r));case 7:a.next=19;break;case 9:if(a.prev=9,a.t0=a.catch(1),!a.t0.response){a.next=17;break}if(401!==a.t0.response.status){a.next=17;break}return a.t0.message="Invalid token",a.next=17,Object(p.f)(x.g.failure(a.t0));case 17:return a.next=19,Object(p.f)(x.c.failure(a.t0));case 19:case"end":return a.stop()}},k,null,[[1,9]])}function L(e){var t,n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.conversationId,r=t.chatToken,c.next=4,Object(p.b)(g.X,n,r);case 4:return a=c.sent,c.next=7,Object(p.f)(x.f.success(a));case 7:return c.next=9,Object(p.f)(y.d.request());case 9:return c.next=11,Object(p.f)(y.f.request({conversationId:n}));case 11:c.next=19;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,Object(b.a)(c.t0);case 17:return c.next=19,Object(p.f)(x.f.failure(c.t0));case 19:case"end":return c.stop()}},T,null,[[0,13]])}function D(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.ib,e,t.payload);case 3:return n=r.sent,r.next=6,Object(p.f)(x.i.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(x.i.failure(r.t0));case 14:case"end":return r.stop()}},A,null,[[0,8]])}function U(e){var t,n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(p.e)("history");case 2:if(t=i.sent,n=e.payload,r=n.username,a=n.password,""!==r&&""!==a){i.next=10;break}return(c=new Error).message="Please fill all the fields",i.next=9,Object(p.f)(x.g.failure(c));case 9:return i.abrupt("return");case 10:return i.prev=10,i.next=13,Object(p.b)(g.db,r,a);case 13:return o=i.sent,i.next=16,Object(p.f)(x.g.success(o));case 16:t.push("/conversations"),i.next=29;break;case 19:if(i.prev=19,i.t0=i.catch(10),!i.t0.response){i.next=27;break}if(401!==i.t0.response.status){i.next=27;break}return i.t0.message="Wrong credentials",i.next=27,Object(p.f)(x.g.failure(i.t0));case 27:return i.next=29,Object(p.f)(x.g.failure(i.t0));case 29:case"end":return i.stop()}},R,null,[[10,19]])}var P=[Object(m.a)(Object(f.getType)(x.b.request),I,!0),Object(m.a)(Object(f.getType)(x.a.request),F,!0),Object(m.a)(Object(f.getType)(x.c.request),M,!0),Object(m.a)(Object(f.getType)(x.d.request),_,!0),Object(m.a)(Object(f.getType)(x.e.request),N),Object(m.a)(Object(f.getType)(x.f.request),L),Object(m.a)(Object(f.getType)(x.g.request),U),Object(m.a)(Object(f.getType)(x.i.request),D,!0)],H=n(4),q=n(78),G=n.n(q),B=n(123),V=n(162),z=n.n(V),W=n(16),Y=d.a.mark(ce),Q=d.a.mark(oe),K=d.a.mark(ie),X=d.a.mark(se),J=d.a.mark(le),Z=d.a.mark(de),$=d.a.mark(pe),ee=d.a.mark(me),te=d.a.mark(be),ne=d.a.mark(ge),re=d.a.mark(he),ae=d.a.mark(ve);function ce(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,c.prev=1,r=z()(n),c.next=5,Object(p.b)(g.G,e,"default",r);case 5:return a=c.sent,c.next=8,Object(p.f)(W.f.success(a));case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(b.a)(c.t0);case 14:return c.next=16,Object(p.f)(W.f.failure(c.t0));case 16:case"end":return c.stop()}},Y,null,[[1,10]])}function oe(e,t){var n,r,a,c,o,i,s,l,u,f;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.offset,c=n.limit,d.prev=1,o=G.a.parse(r),i=o.getAllText(),s=o.getConditionArray().filter(function(e){return"intent"===e.keyword}).map(function(e){return e.value}).join(","),d.next=7,Object(p.b)(g.H,e,"default",i,s,c,a);case 7:return l=d.sent,u=l.examples,f=l.total,d.next=12,Object(p.f)(W.g.success({examples:u,total:f,offset:a}));case 12:d.next=20;break;case 14:return d.prev=14,d.t0=d.catch(1),d.next=18,Object(b.a)(d.t0);case 18:return d.next=20,Object(p.f)(W.g.failure(d.t0));case 20:case"end":return d.stop()}},Q,null,[[1,14]])}function ie(e){var t,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.K,e,"default");case 3:return t=r.sent,n=t.map(function(e){return e.intent}),r.next=7,Object(p.f)(W.h.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(W.h.failure(r.t0));case 15:case"end":return r.stop()}},K,null,[[0,9]])}function se(e){var t,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.o,e,"default");case 3:t=r.sent,n=new Blob([t],{type:"application/json;charset=utf-8"}),Object(B.saveAs)(n,"data.json"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(W.g.failure(r.t0));case 14:case"end":return r.stop()}},X,null,[[0,8]])}function le(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.hb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(W.j.success(r));case 7:return a.next=9,Object(p.f)(W.e.request());case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(b.a)(a.t0);case 15:return a.next=17,Object(p.f)(W.j.failure(a.t0));case 17:case"end":return a.stop()}},J,null,[[1,11]])}var ue=function(e){var t=e.user_input.intent&&e.user_input.intent.name;if(!t)throw new Error("Cannot save suggestion with null intent");return{entities:e.user_input.entities.map(function(e){return Object(H.a)({},e,{start:e.start,end:e.end})}),text:e.user_input.text,intent:t,project_id:e.project_id,team:e.team}};function de(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r=n.map(ue),c.prev=2,c.next=5,Object(p.a)(r.map(function(t){return Object(p.b)(g.hb,e,"default",t)}));case 5:return a=c.sent,c.next=8,Object(p.f)(W.l.success(a));case 8:return c.next=10,Object(p.f)(W.e.request());case 10:c.next=18;break;case 12:return c.prev=12,c.t0=c.catch(2),c.next=16,Object(b.a)(c.t0);case 16:return c.next=18,Object(p.f)(W.l.failure(c.t0));case 18:case"end":return c.stop()}},Z,null,[[2,12]])}var fe=function(e){return{entities:e.entities,text:e.text,intent:e.intent,project_id:"default",team:"default"}};function pe(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=fe(n),c.prev=2,c.next=5,Object(p.b)(g.hb,e,"default",r);case 5:return a=c.sent,c.next=8,Object(p.f)(W.k.success(a));case 8:return c.next=10,Object(p.f)(W.e.request());case 10:c.next=18;break;case 12:return c.prev=12,c.t0=c.catch(2),c.next=16,Object(b.a)(c.t0);case 16:return c.next=18,Object(p.f)(W.k.failure(c.t0));case 18:case"end":return c.stop()}},$,null,[[2,12]])}function me(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(H.a)({},t.payload,{isDirty:void 0}),a.prev=1,a.next=4,Object(p.b)(g.wb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(W.n.success(r));case 7:return a.next=9,Object(p.f)(W.e.request());case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(b.a)(a.t0);case 15:return a.next=17,Object(p.f)(W.n.failure(a.t0));case 17:case"end":return a.stop()}},ee,null,[[1,11]])}function be(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.b)(g.g,e,"default",n);case 4:return r.next=6,Object(p.f)(W.c.success(n));case 6:return r.next=8,Object(p.f)(W.e.request());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(b.a)(r.t0);case 14:return r.next=16,Object(p.f)(W.c.failure(r.t0));case 16:case"end":return r.stop()}},te,null,[[1,10]])}function ge(e,t){var n,r,a,c;return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(i){r="text/markdown"}return o.prev=3,o.next=6,Object(p.b)(g.Ab,e,"default",n,r);case 6:return a=o.sent,o.next=9,Object(p.f)(W.o.success(a));case 9:return o.next=11,Object(p.h)(function(e){return e.examples.searchQuery});case 11:return c=o.sent,o.next=14,Object(p.f)(W.h.request());case 14:return o.next=16,Object(p.f)(W.e.request());case 16:return o.next=18,Object(p.f)(W.g.request({search:c,offset:0,limit:20}));case 18:o.next=26;break;case 20:return o.prev=20,o.t0=o.catch(3),o.next=24,Object(b.a)(o.t0);case 24:return o.next=26,Object(p.f)(W.o.failure(o.t0));case 26:case"end":return o.stop()}},ne,null,[[3,20]])}function he(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.bb,e,"default");case 3:return t=n.sent,n.next=6,Object(p.f)(W.i.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(W.i.failure(n.t0));case 14:case"end":return n.stop()}},re,null,[[0,8]])}function ve(e){var t,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.D,e,"default");case 3:return t=r.sent,n=t.map(function(e){return e.entity}),r.next=7,Object(p.f)(W.e.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(W.e.failure(r.t0));case 15:case"end":return r.stop()}},ae,null,[[0,9]])}var Ee=[Object(m.a)(Object(f.getType)(W.f.request),ce,!0),Object(m.a)(Object(f.getType)(W.g.request),oe,!0,!0),Object(m.a)(Object(f.getType)(W.h.request),ie,!0),Object(m.a)(Object(f.getType)(W.d),se,!0),Object(m.a)(Object(f.getType)(W.j.request),le,!0),Object(m.a)(Object(f.getType)(W.l.request),de,!0),Object(m.a)(Object(f.getType)(W.k.request),pe,!0),Object(m.a)(Object(f.getType)(W.n.request),me,!0),Object(m.a)(Object(f.getType)(W.c.request),be,!0),Object(m.a)(Object(f.getType)(W.o.request),ge,!0),Object(m.a)(Object(f.getType)(W.i.request),he,!0),Object(m.a)(Object(f.getType)(W.e.request),ve,!0,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.l.apply(void 0,[1e3].concat(t))})],Oe=n(34),xe=d.a.mark(Re),ye=d.a.mark(Ie),je=d.a.mark(Fe),Ce=d.a.mark(_e),we=d.a.mark(Ne),Se=d.a.mark(Me),ke=d.a.mark(Le),Te=d.a.mark(Ue),Ae=["action_listen","action_restart"];function Re(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.payload){a.next=2;break}return a.abrupt("return");case 2:return n=t.type===Object(f.getType)(Oe.d)?t.payload.conversationId:t.payload,a.prev=3,a.next=6,Object(p.b)(g.t,e,n);case 6:return r=a.sent,a.next=9,Object(p.f)(Oe.h.success(r));case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object(b.a)(a.t0);case 15:return a.next=17,Object(p.f)(Oe.h.failure(a.t0));case 17:case"end":return a.stop()}},xe,null,[[3,11]])}function Ie(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.pb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(Oe.j.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Oe.j.failure(a.t0));case 15:case"end":return a.stop()}},ye,null,[[1,9]])}function Fe(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.e,e,!0);case 3:return t=n.sent,n.next=6,Object(p.f)(Oe.g.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(Oe.g.failure(n.t0));case 14:case"end":return n.stop()}},je,null,[[0,8]])}function _e(e,t){var n,r,a,c,o,i;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.parsedMessage,a=n.conversationId,s.prev=1,c=r.user_input,o={event:"user",text:c.text,parse_data:c},s.next=6,Object(p.b)(g.gb,e,a,o);case 6:return i=s.sent,s.next=9,Object(p.f)(Oe.k.success(i));case 9:return s.next=11,Object(p.f)(Oe.i.request(a));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,Object(b.a)(s.t0);case 17:return s.next=19,Object(p.f)(Oe.k.failure(s.t0));case 19:case"end":return s.stop()}},Ce,null,[[1,13]])}function Ne(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(p.a)({prediction:Object(p.b)(g.L,e,t),domainActions:Object(p.b)(g.A,e)});case 2:return n=c.sent,r=n.prediction,a=n.domainActions,c.next=7,Object(p.f)(Oe.i.success({prediction:r,domainActions:a}));case 7:case"end":return c.stop()}},we)}function Me(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Ne(e,n);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(b.a)(r.t0);case 10:return r.next=12,Object(p.f)(Oe.i.failure(r.t0));case 12:case"end":return r.stop()}},Se,null,[[1,6]])}function Le(e,t){var n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.conversationId,a=n.confirmedAction,c=a.action,i.prev=2,i.next=5,Object(p.b)(g.d,e,r,c);case 5:return o=i.sent,i.next=8,Object(p.f)(Oe.e.success(o));case 8:if(!Ae.includes(c)){i.next=10;break}return i.abrupt("return");case 10:return i.next=12,Ne(e,r);case 12:i.next=20;break;case 14:return i.prev=14,i.t0=i.catch(2),i.next=18,Object(b.a)(i.t0);case 18:return i.next=20,Object(p.f)(Oe.e.failure(i.t0));case 20:case"end":return i.stop()}},ke,null,[[2,14]])}function De(e){return"user"===e.event}function Ue(e,t){var n,r,a,c,o,i,s,l,u,f,m,h,v;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(p.e)("history");case 2:return n=d.sent,r=t.payload,a=r.conversationId,c=r.environment,o=r.timestamp,i=r.storyName,s=r.removeLastAction,d.prev=4,d.next=7,Object(p.b)(g.t,e,a,c,o);case 7:return l=d.sent,u=l.events,f=u[u.length-1],d.next=12,Object(p.b)(g.e,e,!0);case 12:return m=d.sent,h=m.sender_id,v=De(f)||s?u.slice(0,-1):u,d.next=17,Object(p.b)(g.vb,e,h,v);case 17:return d.next=19,Object(p.f)(Oe.d({conversationId:h,storyName:i}));case 19:if(!De(f)){d.next=24;break}return d.next=22,Object(p.f)(Oe.j.request(f.text));case 22:d.next=27;break;case 24:if(!s&&"action"===f.event&&Ae.includes(f.name)){d.next=27;break}return d.next=27,Object(p.f)(Oe.i.request(h));case 27:"/talk/strict"!==n.location.pathname&&n.push("/talk/strict"),d.next=36;break;case 30:return d.prev=30,d.t0=d.catch(4),d.next=34,Object(b.a)(d.t0);case 34:return d.next=36,Object(p.f)(Oe.f.failure(d.t0));case 36:case"end":return d.stop()}},Te,null,[[4,30]])}var Pe=[Object(m.a)(Object(f.getType)(Oe.h.request),Re,!0),Object(m.a)(Object(f.getType)(Oe.g.request),Fe,!0),Object(m.a)(Object(f.getType)(Oe.d),Re,!0),Object(m.a)(Object(f.getType)(Oe.k.request),_e,!0),Object(m.a)(Object(f.getType)(Oe.j.request),Ie,!0),Object(m.a)(Object(f.getType)(Oe.i.request),Me,!0),Object(m.a)(Object(f.getType)(Oe.e.request),Le,!0),Object(m.a)(Object(f.getType)(Oe.f.request),Ue,!0)],He=n(163),qe=n(26),Ge=d.a.mark($e),Be=d.a.mark(et),Ve=d.a.mark(tt),ze=d.a.mark(nt),We=d.a.mark(rt),Ye=d.a.mark(at),Qe=d.a.mark(ct),Ke=d.a.mark(ot),Xe=d.a.mark(it),Je=d.a.mark(st),Ze=d.a.mark(lt);function $e(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.E,e);case 3:return t=n.sent,n.next=6,Object(p.f)(qe.c.success(t.environments));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(qe.c.failure(n.t0));case 14:case"end":return n.stop()}},Ge,null,[[0,8]])}function et(e,t){var n,r,a,c,o,i,s,l;return d.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload,r=n.search,a=n.offset,c=n.limit,o=0===c?[1,0]:[c,a],u.prev=2,u.next=5,p.b.apply(void 0,[g.M,e,"default"].concat(o));case 5:return i=u.sent,s=i.models,l=i.total,u.next=10,Object(p.f)(qe.f.success({search:r,models:s,total:l,offset:a}));case 10:u.next=18;break;case 12:return u.prev=12,u.t0=u.catch(2),u.next=16,Object(b.a)(u.t0);case 16:return u.next=18,Object(p.f)(qe.f.failure(u.t0));case 18:case"end":return u.stop()}},Be,null,[[2,12]])}function tt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map(function(t){return Object(p.b)(g.h,e,"default",t.model)}),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(qe.b.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(qe.b.failure(a.t0));case 15:case"end":return a.stop()}},Ve,null,[[1,9]])}function nt(e,t){var n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.model,a=n.environment,c=Array.isArray(a)?a:[a],i.prev=2,o=c.map(function(t){return Object(p.b)(g.rb,e,"default",r.model,t)}),i.next=6,Object(p.a)(o);case 6:return i.next=8,Object(p.f)(qe.a.success({model:r,environment:a}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(2),i.next=14,Object(b.a)(i.t0);case 14:return i.next=16,Object(p.f)(qe.a.failure(i.t0));case 16:case"end":return i.stop()}},ze,null,[[2,10]])}function rt(e,t){var n,r,a;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.model,a=n.environment,c.prev=1,c.next=4,Object(p.b)(g.i,e,"default",r.model,a);case 4:return c.next=6,Object(p.f)(qe.h.success());case 6:return c.next=8,Object(p.f)(qe.e.request());case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(b.a)(c.t0);case 14:return c.next=16,Object(p.f)(qe.h.failure(c.t0));case 16:case"end":return c.stop()}},We,null,[[1,10]])}function at(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.tb,e,"default");case 3:return t=n.sent,n.next=6,Object(p.f)(qe.k.success(t));case 6:return n.next=8,Object(p.f)(qe.f.request({search:"",limit:0,offset:0}));case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(b.a)(n.t0);case 14:return n.next=16,Object(p.f)(qe.k.failure(n.t0));case 16:case"end":return n.stop()}},Ye,null,[[0,10]])}function ct(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.J,e);case 3:return t=n.sent,n.next=6,Object(p.f)(qe.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(qe.e.failure(n.t0));case 14:case"end":return n.stop()}},Qe,null,[[0,8]])}function ot(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(p.f)(qe.e.request());case 3:return e.next=5,Object(p.i)([Object(f.getType)(qe.e.success),Object(f.getType)(qe.e.failure)]);case 5:return e.next=7,Object(p.d)(3e4);case 7:e.next=0;break;case 9:case"end":return e.stop()}},Ke)}function it(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.g)({poll:Object(p.b)(ot),cancel:Object(p.i)(Object(f.getType)(x.h))});case 2:case"end":return e.stop()}},Xe)}function st(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.F,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(p.f)(qe.d.success(r));case 7:a.next=19;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:if(!a.t0.response||404!==a.t0.response.status){a.next=17;break}return a.next=16,Object(p.f)(qe.i(n));case 16:return a.abrupt("return");case 17:return a.next=19,Object(p.f)(qe.d.failure(a.t0));case 19:case"end":return a.stop()}},Je,null,[[1,9]])}function lt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.sb,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(p.f)(qe.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(qe.d.failure(a.t0));case 15:case"end":return a.stop()}},Ze,null,[[1,9]])}var ut=[Object(m.a)(Object(f.getType)(qe.c.request),$e,!0),Object(m.a)(Object(f.getType)(qe.f.request),et,!0,!0),Object(m.a)(Object(f.getType)(qe.a.request),nt,!0),Object(m.a)(Object(f.getType)(qe.h.request),rt,!0),Object(m.a)(Object(f.getType)(qe.k.request),at,!0),Object(m.a)(Object(f.getType)(qe.b.request),tt,!0),Object(m.a)(Object(f.getType)(qe.e.request),ct,!0),Object(m.a)(Object(f.getType)(qe.j),it,!0),Object(m.a)(Object(f.getType)(qe.d.request),st,!0),Object(m.a)(Object(f.getType)(qe.i),lt,!0)],dt=n(49),ft=d.a.mark(ht),pt=d.a.mark(vt),mt=d.a.mark(Et),bt=d.a.mark(Ot),gt=d.a.mark(xt);function ht(e,t){var n,r,a,c;return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,o.next=4,Object(p.b)(g.nb,e,"default",{config:n});case 4:return r=o.sent,a=r.config,o.next=8,Object(p.f)(dt.d.success(a));case 8:o.next=15;break;case 10:return o.prev=10,o.t0=o.catch(1),o.t0.response&&400===o.t0.response.status&&(c=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],o.t0.name=c[0],o.t0.message=c[1]),o.next=15,Object(p.f)(dt.d.failure(o.t0));case 15:case"end":return o.stop()}},ft,null,[[1,10]])}function vt(e){var t,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.R,e,"default");case 3:return t=r.sent,n=t.config,r.next=7,Object(p.f)(dt.a.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(b.a)(r.t0);case 13:return r.next=15,Object(p.f)(dt.a.failure(r.t0));case 15:case"end":return r.stop()}},pt,null,[[0,9]])}function Et(e,t){var n,r,a,c,o,i;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.domain,a=n.storeTemplates,c=n.onSuccess,s.prev=1,s.next=4,Object(p.b)(g.fb,e,r,a);case 4:return o=s.sent,s.next=7,c&&c();case 7:return s.next=9,Object(p.f)(dt.e.success(o));case 9:return s.next=11,Object(p.f)(dt.c.request());case 11:s.next=18;break;case 13:return s.prev=13,s.t0=s.catch(1),s.t0.response&&400===s.t0.response.status&&(i=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],s.t0.name=i[0],s.t0.message=i[1]),s.next=18,Object(p.f)(dt.e.failure(s.t0));case 18:case"end":return s.stop()}},mt,null,[[1,13]])}function Ot(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.z,e);case 3:return t=n.sent,n.next=6,Object(p.f)(dt.b.success(t));case 6:return n.next=8,Object(p.f)(dt.c.request());case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(b.a)(n.t0);case 14:return n.next=16,Object(p.f)(dt.b.failure(n.t0));case 16:case"end":return n.stop()}},bt,null,[[0,10]])}function xt(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.b)(g.B,e);case 3:return t=n.sent,n.next=6,Object(p.f)(dt.c.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(b.a)(n.t0);case 12:return n.next=14,Object(p.f)(dt.c.failure(n.t0));case 14:case"end":return n.stop()}},gt,null,[[0,8]])}var yt=[Object(m.a)(Object(f.getType)(dt.d.request),ht,!0),Object(m.a)(Object(f.getType)(dt.a.request),vt,!0),Object(m.a)(Object(f.getType)(dt.e.request),Et,!0),Object(m.a)(Object(f.getType)(dt.b.request),Ot,!0),Object(m.a)(Object(f.getType)(dt.c.request),xt,!0)],jt=n(45),Ct=d.a.mark(Tt),wt=d.a.mark(At),St=d.a.mark(Rt),kt=d.a.mark(It);function Tt(e,t){var n,r,a,c,o,i,s,l,u,f;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,d.prev=1,o=G.a.parse(r),i=o.getAllText(),s=o.getConditionArray().filter(function(e){return"template"===e.keyword}).map(function(e){return e.value}).join(","),d.next=7,Object(p.b)(g.N,e,i,s,a,c);case 7:return l=d.sent,u=l.responses,f=l.total,d.next=12,Object(p.f)(jt.c.success({responses:u,total:f,offset:c}));case 12:d.next=20;break;case 14:return d.prev=14,d.t0=d.catch(1),d.next=18,Object(b.a)(d.t0);case 18:return d.next=20,Object(p.f)(jt.c.failure(d.t0));case 20:case"end":return d.stop()}},Ct,null,[[1,14]])}function At(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(H.a)({},t.payload,{isDirty:void 0}),a.prev=1,a.next=4,Object(p.b)(g.xb,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(jt.f.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(jt.f.failure(a.t0));case 15:case"end":return a.stop()}},wt,null,[[1,9]])}function Rt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.kb,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(jt.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(jt.d.failure(a.t0));case 15:case"end":return a.stop()}},St,null,[[1,9]])}function It(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.b)(g.j,e,n);case 4:return r.next=6,Object(p.f)(jt.b.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(jt.b.failure(r.t0));case 14:case"end":return r.stop()}},kt,null,[[1,8]])}var Ft=[Object(m.a)(Object(f.getType)(jt.c.request),Tt,!0,!0),Object(m.a)(Object(f.getType)(jt.d.request),Rt,!0),Object(m.a)(Object(f.getType)(jt.f.request),At,!0),Object(m.a)(Object(f.getType)(jt.b.request),It,!0)],_t=n(29),Nt=n(48),Mt=d.a.mark(qt),Lt=d.a.mark(Gt),Dt=d.a.mark(Bt),Ut=d.a.mark(Vt),Pt=d.a.mark(zt),Ht=d.a.mark(Wt);function qt(e,t){var n,r,a,c,o,i,s,l,u;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,d.prev=1,d.next=4,Object(p.b)(g.Q,e,r,a,c);case 4:return o=d.sent,i=o.roles,s=o.total,d.next=9,Object(p.f)(Nt.d.success({roles:i,total:s,offset:c}));case 9:return l=i.reduce(function(t,n){return Object(H.a)({},t,Object(_t.a)({},n.role,Object(p.b)(g.P,e,n.role)))},{}),d.next=12,Object(p.a)(l);case 12:return u=d.sent,d.next=15,Object(p.f)(Nt.e.success(u));case 15:d.next=23;break;case 17:return d.prev=17,d.t0=d.catch(1),d.next=21,Object(b.a)(d.t0);case 21:return d.next=23,Object(p.f)(Nt.d.failure(d.t0));case 23:case"end":return d.stop()}},Mt,null,[[1,17]])}function Gt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.O,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(Nt.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Nt.b.failure(a.t0));case 15:case"end":return a.stop()}},Lt,null,[[1,9]])}function Bt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.P,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(Nt.c.success({role:n,users:r}));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Nt.c.failure(a.t0));case 15:case"end":return a.stop()}},Dt,null,[[1,9]])}function Vt(e,t){var n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.role,a=n.users,i.prev=1,i.next=4,Object(p.b)(g.lb,e,r);case 4:if(c=i.sent,!a){i.next=11;break}return i.next=8,Object(p.b)(g.mb,e,r,a);case 8:i.t0=i.sent,i.next=12;break;case 11:i.t0=void 0;case 12:return o=i.t0,i.next=15,Object(p.f)(Nt.f.success({role:c,users:o}));case 15:i.next=23;break;case 17:return i.prev=17,i.t1=i.catch(1),i.next=21,Object(b.a)(i.t1);case 21:return i.next=23,Object(p.f)(Nt.f.failure(i.t1));case 23:case"end":return i.stop()}},Ut,null,[[1,17]])}function zt(e,t){var n,r,a,c,o,i;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.currentId,a=n.role,c=n.users,s.prev=1,s.next=4,Object(p.b)(g.yb,e,a,r);case 4:if(o=s.sent,!c){s.next=11;break}return s.next=8,Object(p.b)(g.mb,e,a,c);case 8:s.t0=s.sent,s.next=12;break;case 11:s.t0=void 0;case 12:return i=s.t0,s.next=15,Object(p.f)(Nt.g.success({role:o,users:i}));case 15:s.next=23;break;case 17:return s.prev=17,s.t1=s.catch(1),s.next=21,Object(b.a)(s.t1);case 21:return s.next=23,Object(p.f)(Nt.g.failure(s.t1));case 23:case"end":return s.stop()}},Pt,null,[[1,17]])}function Wt(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map(function(t){return Object(p.b)(g.k,e,t)}),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(Nt.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Nt.a.failure(a.t0));case 15:case"end":return a.stop()}},Ht,null,[[1,9]])}var Yt=[Object(m.a)(Object(f.getType)(Nt.b.request),Gt,!0),Object(m.a)(Object(f.getType)(Nt.d.request),qt,!0),Object(m.a)(Object(f.getType)(Nt.c.request),Bt,!0),Object(m.a)(Object(f.getType)(Nt.f.request),Vt,!0),Object(m.a)(Object(f.getType)(Nt.g.request),zt,!0),Object(m.a)(Object(f.getType)(Nt.a.request),Wt,!0)],Qt=n(33),Kt=d.a.mark(nn),Xt=d.a.mark(rn),Jt=d.a.mark(an),Zt=d.a.mark(cn),$t=d.a.mark(on),en=d.a.mark(sn),tn=d.a.mark(ln);function nn(e,t){var n,r,a,c,o,i,s;return d.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,l.prev=1,l.next=4,Object(p.b)(g.U,e,r,a,c);case 4:return o=l.sent,i=o.total,s=o.stories,l.next=9,Object(p.f)(Qt.f.success({stories:s,total:i,offset:c}));case 9:l.next=17;break;case 11:return l.prev=11,l.t0=l.catch(1),l.next=15,Object(b.a)(l.t0);case 15:return l.next=17,Object(p.f)(Qt.f.failure(l.t0));case 17:case"end":return l.stop()}},Kt,null,[[1,11]])}function rn(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(n=Array.isArray(t.payload)?t.payload:[t.payload]).length){a.next=5;break}return a.next=4,Object(p.f)(Qt.g.success(""));case 4:return a.abrupt("return");case 5:return a.prev=5,a.next=8,Object(p.b)(g.ab,e,n);case 8:return r=a.sent,a.next=11,Object(p.f)(Qt.g.success(r));case 11:a.next=19;break;case 13:return a.prev=13,a.t0=a.catch(5),a.next=17,Object(b.a)(a.t0);case 17:return a.next=19,Object(p.f)(Qt.g.failure(a.t0));case 19:case"end":return a.stop()}},Xt,null,[[5,13]])}function an(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.zb,e,t.payload);case 3:return n=r.sent,r.next=6,Object(p.f)(Qt.m.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Qt.m.failure(r.t0));case 14:case"end":return r.stop()}},Jt,null,[[0,8]])}function cn(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.ob,e,n);case 4:return r=a.sent,a.next=7,Object(p.f)(Qt.i.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(Qt.i.failure(a.t0));case 15:case"end":return a.stop()}},Zt,null,[[1,9]])}function on(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(p.b)(g.l,e,n);case 4:return r.next=6,Object(p.f)(Qt.d.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Qt.d.failure(r.t0));case 14:case"end":return r.stop()}},$t,null,[[1,8]])}function sn(e){var t,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p.b)(g.p,e);case 3:t=r.sent,n=new Blob([t],{type:"text/markdown;charset=utf-8"}),Object(B.saveAs)(n,"stories.md"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(Qt.f.failure(r.t0));case 14:case"end":return r.stop()}},en,null,[[0,8]])}function ln(e,t){var n,r,a,c,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(s){r="text/markdown"}return a=t.type===Object(f.getType)(Qt.a)?g.a:g.eb,i.prev=4,i.next=7,Object(p.b)(a,e,n,r);case 7:return c=i.sent,i.next=10,Object(p.f)(Qt.n.success(c));case 10:return i.next=12,Object(p.h)(function(e){return e.stories.searchQuery});case 12:return o=i.sent,i.next=15,Object(p.f)(Qt.f.request(o));case 15:i.next=23;break;case 17:return i.prev=17,i.t0=i.catch(4),i.next=21,Object(b.a)(i.t0);case 21:return i.next=23,Object(p.f)(Qt.n.failure(i.t0));case 23:case"end":return i.stop()}},tn,null,[[4,17]])}var un=[Object(m.a)(Object(f.getType)(Qt.f.request),nn,!0),Object(m.a)(Object(f.getType)(Qt.g.request),rn,!0),Object(m.a)(Object(f.getType)(Qt.i.request),cn,!0),Object(m.a)(Object(f.getType)(Qt.m.request),an,!0),Object(m.a)(Object(f.getType)(Qt.d.request),on,!0),Object(m.a)(Object(f.getType)(Qt.a),ln,!0),Object(m.a)(Object(f.getType)(Qt.h),ln,!0),Object(m.a)(Object(f.getType)(Qt.e),sn,!0)],dn=n(46),fn=d.a.mark(gn),pn=d.a.mark(vn),mn=d.a.mark(En),bn=d.a.mark(On);function gn(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(p.b)(g.pb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(p.f)(dn.e.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(dn.e.failure(a.t0));case 15:case"end":return a.stop()}},fn,null,[[1,9]])}var hn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}};function vn(e,t){var n,r,a,c,o,i;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=z()(n),s.prev=2,s.next=5,Object(p.a)({suggestion:Object(p.b)(hn(g.V,e,"default",r)),example:Object(p.b)(hn(g.G,e,"default",r))});case 5:return a=s.sent,c=a.suggestion,o=a.example,i=[c,o].reduce(function(e,t){if("response"in t&&t.response){if(400!==t.response.status)throw t;return e}return!0},!1),s.next=11,Object(p.f)(dn.b.success(i));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,Object(b.a)(s.t0);case 17:return s.next=19,Object(p.f)(dn.b.failure(s.t0));case 19:case"end":return s.stop()}},pn,null,[[2,13]])}function En(e,t){var n,r,a,c,o,i,s,l,u,f;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.offset,c=n.limit,d.prev=1,o=G.a.parse(r),i=o.getAllText(),s=o.getConditionArray().filter(function(e){return"intent"===e.keyword}).map(function(e){return e.value}).join(","),d.next=7,Object(p.b)(g.W,e,"default",i,s,c,a);case 7:return l=d.sent,u=l.suggestions,f=l.total,d.next=12,Object(p.f)(dn.d.success({suggestions:u,total:f,limit:c,offset:a}));case 12:d.next=20;break;case 14:return d.prev=14,d.t0=d.catch(1),d.next=18,Object(b.a)(d.t0);case 18:return d.next=20,Object(p.f)(dn.d.failure(d.t0));case 20:case"end":return d.stop()}},mn,null,[[1,14]])}function On(e,t){var n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(p.a)(n.map(function(t){return Object(p.b)(g.m,e,"default",t)}));case 4:return r.next=6,Object(p.f)(dn.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(b.a)(r.t0);case 12:return r.next=14,Object(p.f)(dn.c.failure(r.t0));case 14:case"end":return r.stop()}},bn,null,[[1,8]])}var xn=[Object(m.a)(Object(f.getType)(dn.e.request),gn,!0),Object(m.a)(Object(f.getType)(dn.b.request),vn,!0),Object(m.a)(Object(f.getType)(dn.d.request),En,!0,!0),Object(m.a)(Object(f.getType)(dn.c.request),On,!0)],yn=n(54),jn=d.a.mark(Sn),Cn=d.a.mark(kn),wn=d.a.mark(Tn);function Sn(e,t){var n,r,a,c,o,i,s,l,u,f,m,h;return d.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,d.prev=1,o=G.a.parse(r),i=o.getAllText(),s=o.getConditionArray().filter(function(e){return"role"===e.keyword}).map(function(e){return e.value}).join(","),d.next=7,Object(p.b)(g.Z,e,i,s,a,c);case 7:return l=d.sent,u=l.users,f=l.total,d.next=12,Object(p.f)(yn.c.success({users:u,total:f,limit:a,offset:c,search:r}));case 12:return m=u.reduce(function(t,n){return Object(H.a)({},t,Object(_t.a)({},n.username,Object(p.b)(g.Y,e,n.username)))},{}),d.next=15,Object(p.a)(m);case 15:return h=d.sent,d.next=18,Object(p.f)(yn.d.success(h));case 18:d.next=30;break;case 20:return d.prev=20,d.t0=d.catch(1),d.next=24,Object(b.a)(d.t0);case 24:if(404!==d.t0.response.status){d.next=28;break}return d.next=27,Object(p.f)(yn.c.success({users:[],total:0,limit:a,offset:c,search:r}));case 27:return d.abrupt("return");case 28:return d.next=30,Object(p.f)(yn.c.failure(d.t0));case 30:case"end":return d.stop()}},jn,null,[[1,20]])}function kn(e,t){var n,r,a,c;return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.user,a=n.roles,o.prev=1,o.next=4,Object(p.b)(g.qb,e,r,a);case 4:return c=o.sent,o.next=7,Object(p.f)(yn.e.success({user:c,roles:a}));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(b.a)(o.t0);case 13:return o.next=15,Object(p.f)(yn.e.failure(o.t0));case 15:case"end":return o.stop()}},Cn,null,[[1,9]])}function Tn(e,t){var n,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map(function(t){return Object(p.b)(g.n,e,t)}),a.next=5,Object(p.a)(r);case 5:return a.next=7,Object(p.f)(yn.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(b.a)(a.t0);case 13:return a.next=15,Object(p.f)(yn.a.failure(a.t0));case 15:case"end":return a.stop()}},wn,null,[[1,9]])}var An=[Object(m.a)(Object(f.getType)(yn.c.request),Sn,!0),Object(m.a)(Object(f.getType)(yn.e.request),kn,!0),Object(m.a)(Object(f.getType)(yn.a.request),Tn,!0)],Rn=[].concat(Object(l.a)(O),Object(l.a)(P),Object(l.a)(Ee),Object(l.a)(Pe),Object(l.a)(He.b),Object(l.a)(ut),Object(l.a)(yt),Object(l.a)(Ft),Object(l.a)(Yt),Object(l.a)(un),Object(l.a)(xn),Object(l.a)(An)),In=n(208),Fn=n(12),_n=n(9),Nn=n(47),Mn={total:0,examples:{},correction:null,intents:[],error:null,loading:!1,searchQuery:"",warnings:[],entityTypes:[]},Ln={conversation:[],conversationId:null,environment:"production",parsedMessage:null,parsedMessageConversationId:null,predictedAction:null,predictedActions:[],storyName:"New Story"};var Dn,Un=n(94),Pn=n(80),Hn=n.n(Pn),qn={error:{evaluation:null},trainingFailed:!1,currentTrainingProcesses:0,models:{},latestModelIsNew:!1,modelIsTraining:!1,total:0,confusionValues:[],cleanState:!0,evaluation:null,evaluationFilter:null,environments:[],loading:{evaluation:!1,models:!1},f1Score:0,accuracy:0,filter:"all"},Gn=n(18),Bn={config:"",domain:"",domainWarnings:[],error:null},Vn={total:0,responses:{},loading:!1,error:null,searchQuery:"",templates:[]};!function(e){e.Conversation="conversations",e.Model="models",e.Story="stories",e.TrainingData="nlu_training_data",e.TestConversation="test_conversation",e.Response="responses",e.DeploymentEnvironment="deployment_environment",e.Analytics="analytics_dashboard"}(Dn||(Dn={}));var zn={total:0,roles:{},roleUsers:{},permissions:[{label:"Talk to your bot",resource:Dn.TestConversation,cannotModify:!0},{label:"Conversations",resource:Dn.Conversation,cannotModify:!0},{label:"NLU Training Data",resource:Dn.TrainingData},{label:"Stories",resource:Dn.Story},{label:"Responses",resource:Dn.Response},{label:"Models",resource:Dn.Model},{label:"Analytics",resource:Dn.Analytics,cannotModify:!0},{label:"Deployment",resource:Dn.DeploymentEnvironment,cannotView:!0}]};var Wn={stories:{},loading:!1,error:null,searchQuery:"",selectedStories:[],shouldReplaceStories:!1,storiesToConfirm:"",total:0,visualization:""};var Yn={draftSuggestionExists:!1,error:null,loading:!1,searchQuery:"",suggestions:{},total:0},Qn={error:null,loading:!1,searchQuery:"",total:0,unfilteredTotal:0,roleTotals:{},users:{},userRoles:{}},Kn={analytics:In.b,auth:Fn.d,examples:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(x.h):return Mn;case Object(f.getType)(W.g.request):return Object(H.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(W.g.success):var n=t.payload,r=n.examples,a=n.total,c=n.offset,o=a>=e.total?e.examples:{},i=c||0,s=r.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+i,t))},o);return Object(H.a)({},e,{examples:s,loading:!1,total:a});case Object(f.getType)(W.f.failure):return Object(H.a)({},e,{correction:null});case Object(f.getType)(W.k.success):case Object(f.getType)(W.f.success):return Object(H.a)({},e,{correction:t.payload});case Object(f.getType)(W.h.success):return Object(H.a)({},e,{intents:t.payload});case Object(f.getType)(W.g.failure):case Object(f.getType)(W.h.failure):return Object(H.a)({},e,{error:t.payload,loading:!1});case Object(f.getType)(W.l.success):case Object(f.getType)(W.j.success):var u=Array.isArray(t.payload)?t.payload:[t.payload],d=u.reduce(function(e,t){return e.includes(t.intent)?e:[].concat(Object(l.a)(e),[t.intent])},e.intents),p=Object(H.a)({},u.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n.toString(),t))},{}),Object(Nn.reduce)(e.examples,function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},(Number(n)+u.length).toString(),t))},{}));return Object(H.a)({},e,{examples:p,total:e.total+1,intents:d});case Object(f.getType)(W.n.success):var m=t.payload;return Object(H.a)({},e,{examples:Object.entries(e.examples).map(function(e){var t=Object(_n.a)(e,2),n=t[0],r=t[1];return[n,r.id!==m.id?r:m]}).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},r,a))},{})});case Object(f.getType)(W.c.success):var b=t.payload,g=Object.entries(e.examples).reduce(function(e,t){var n=Object(_n.a)(e,2),r=n[0],a=n[1],c=Object(_n.a)(t,2),o=c[0],i=c[1];if(i.id===b.id)return[Object(H.a)({},r),!0];var s=String(a?Number(o)-1:o);return[Object(H.a)({},r,Object(_t.a)({},s,i)),a]},[{},!1]),h=Object(_n.a)(g,1)[0];return Object(H.a)({},e,{examples:h,total:e.total-1});case Object(f.getType)(W.b):var v=t.payload,E=Object(H.a)({},v,{isDirty:!0}),O=Object(Nn.findKey)(e.examples,function(e){return e.id===E.id});return Object(H.a)({},e,{examples:O?Object(H.a)({},e.examples,Object(_t.a)({},O,E)):e.examples});case Object(f.getType)(W.a):var y=t.payload;return Object(H.a)({},e,{correction:y?Object(H.a)({},y,{isDirty:!0}):null});case Object(f.getType)(W.o.success):return Object(H.a)({},e,{examples:{}});case Object(f.getType)(W.i.success):return Object(H.a)({},e,{warnings:t.payload});case Object(f.getType)(W.e.success):return Object(H.a)({},e,{entityTypes:t.payload});case Object(f.getType)(W.m):return Object(H.a)({},e,{searchQuery:t.payload});default:return e}},interactiveLearning:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Oe.j.success):case Object(f.getType)(Oe.b):return Object(H.a)({},e,{parsedMessage:t.payload,parsedMessageConversationId:e.conversationId});case Object(f.getType)(Oe.a):return Object(H.a)({},e,{parsedMessage:null});case Object(f.getType)(Oe.h.success):var n=t.payload,r=e.parsedMessageConversationId===e.conversationId;return Object(H.a)({},e,{conversation:n.events,parsedMessage:r?e.parsedMessage:null});case Object(f.getType)(Oe.k.success):var a=t.payload;return Object(H.a)({},e,{conversation:[].concat(Object(l.a)(e.conversation),[a]),parsedMessage:null});case Object(f.getType)(Oe.i.success):var c=t.payload,o=c.prediction,i=c.domainActions,s=Object(l.a)(o.scores).sort(function(e,t){return t.score-e.score}),u=[].concat(Object(l.a)(s),Object(l.a)(i.filter(function(e){return!s.find(function(t){return t.action!==e})}).map(function(e){return{action:e,score:0}})));return Object(H.a)({},e,{predictedActions:u,predictedAction:u[0]});case Object(f.getType)(Oe.c):var d=t.payload;return Object(H.a)({},e,{predictedAction:d});case Object(f.getType)(Oe.e.success):var p=t.payload.tracker;return Object(H.a)({},e,{predictedActions:[],predictedAction:null,conversation:p.events});case Object(f.getType)(Qt.i.success):return Object(H.a)({},Ln);case Object(f.getType)(Oe.d):var m=t.payload,b=m.conversationId,g=m.storyName;return Object(H.a)({},Ln,{conversation:b?e.conversation:Ln.conversation,conversationId:b||null,storyName:g||Ln.storyName});case Object(f.getType)(Oe.g.success):return Object(H.a)({},e,{conversationId:t.payload.sender_id});default:return e}},login:Fn.d,messages:Un.b,models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(qe.c.success):var n=Hn.a.load(t.payload).rasa;return Object(H.a)({},e,{environments:Object.keys(n).filter(function(e){return"worker"!==e})});case Object(f.getType)(qe.k.request):return Object(H.a)({},e,{modelIsTraining:!0,cleanState:!1});case Object(f.getType)(qe.k.success):return Object(H.a)({},e,{modelIsTraining:!1,latestModelIsNew:!0});case Object(f.getType)(qe.k.failure):return Object(H.a)({},e,{modelIsTraining:!1});case Object(f.getType)(qe.f.request):return Object(H.a)({},e,{loading:Object(H.a)({},e.loading,{models:!0})});case Object(f.getType)(qe.f.success):var r=t.payload,a=r.models,c=r.total,o=r.offset||0,i=a.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+o,Object(H.a)({},t,{tags:t.tags.sort()})))},e.models);return Object(H.a)({},e,{models:i,total:c,loading:Object(H.a)({},e.loading,{models:!1})});case Object(f.getType)(qe.b.success):var s=t.payload,l=Object.entries(e.models).reduce(function(e,t){var n,r=Object(_n.a)(e,2),a=r[0],c=r[1],o=Object(_n.a)(t,2),i=o[0],l=o[1];if(c<s.length&&(n=l,s.some(function(e){return e.model===n.model})))return[Object(H.a)({},a),c+1];var u=String(Number(i)-c);return[Object(H.a)({},a,Object(_t.a)({},u,l)),c]},[{},0]),u=Object(_n.a)(l,2),d=u[0],p=u[1];return Object(H.a)({},e,{models:d,total:e.total-p});case Object(f.getType)(qe.d.request):return Object(H.a)({},e,{loading:Object(H.a)({},e.loading,{evaluation:!0}),error:Object(H.a)({},e.error,{evaluation:null})});case Object(f.getType)(qe.d.failure):return Object(H.a)({},e,{loading:Object(H.a)({},e.loading,{evaluation:!1}),error:Object(H.a)({},e.error,{evaluation:t.payload})});case Object(f.getType)(qe.a.success):var m=t.payload,b=m.model,g=m.environment,h=Array.isArray(g)?g[0]:g;if(!h)return Object(H.a)({},e);var v=Object(Nn.mapValues)(e.models,function(e){var t=e.tags.indexOf(h);return t>-1&&e.tags.splice(t,1),Object(Nn.isEqual)(e,b)&&!e.tags.includes(h)&&Object.assign(e,b.tags.push(h)),e});return Object(H.a)({},e,{models:v});case Object(f.getType)(qe.g):return Object(H.a)({},e,{evaluationFilter:t.payload});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(dt.a.success):case Object(f.getType)(dt.d.success):return Object(H.a)({},e,{error:null,config:t.payload});case Object(f.getType)(dt.d.failure):return Object(H.a)({},e,{error:t.payload});case Object(f.getType)(dt.e.success):case Object(f.getType)(dt.b.success):return Object(H.a)({},e,{error:null,domain:Hn.a.dump(Hn.a.load(t.payload))});case Object(f.getType)(dt.c.success):var n=t.payload,r=n.total,a=Object(Gn.a)(n,["total"]),c=Object.entries(a).flatMap(function(e){var t=Object(_n.a)(e,2),n=t[0],r=t[1];return Object.entries(r).flatMap(function(e){var t=Object(_n.a)(e,2),r=t[0];return t[1].map(function(e){return{element:n.replace("_warnings",""),location:r,value:e}})})});return c.length!==r&&console.error("Something went wrong with flattening warnings"),Object(H.a)({},e,{domainWarnings:c});case Object(f.getType)(dt.e.failure):return Object(H.a)({},e,{error:t.payload});default:return e}},responses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(jt.c.request):return Object(H.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(jt.c.success):var n=t.payload,r=n.responses,a=n.total,c=n.offset,o=a>=e.total?e.responses:{},i=c||0,s=r.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+i,t))},o),u=Object(l.a)(new Set([].concat(Object(l.a)(e.templates),Object(l.a)(Object.values(r).map(function(e){return e.template}).filter(function(e){return!!e})))));return Object(H.a)({},e,{loading:!1,responses:s,templates:u,total:a});case Object(f.getType)(jt.c.failure):return Object(H.a)({},e,{loading:!1,error:t.payload});case Object(f.getType)(jt.a):var d=t.payload,p=Object(H.a)({},d,{isDirty:!0});return Object(H.a)({},e,{responses:Object.entries(e.responses).map(function(e){var t=Object(_n.a)(e,2),n=t[0],r=t[1];return[n,r.id!==d.id?r:p]}).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},r,a))},{})});case Object(f.getType)(jt.f.success):var m=t.payload;return Object(H.a)({},e,{responses:Object.entries(e.responses).map(function(e){var t=Object(_n.a)(e,2),n=t[0],r=t[1];return[n,r.id!==m.id?r:m]}).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},r,a))},{})});case Object(f.getType)(jt.b.success):var b=t.payload,g=Object.entries(e.responses).reduce(function(e,t){var n=Object(_n.a)(e,2),r=n[0],a=n[1],c=Object(_n.a)(t,2),o=c[0],i=c[1];if(i.id===b.id)return[Object(H.a)({},r),!0];var s=String(a?Number(o)-1:o);return[Object(H.a)({},r,Object(_t.a)({},s,i)),a]},[{},!1]),h=Object(_n.a)(g,1)[0];return Object(H.a)({},e,{responses:h,total:e.total-1});case Object(f.getType)(jt.d.success):return Object(H.a)({},e,{responses:Object(H.a)({},e.responses,Object(_t.a)({},e.total,t.payload)),total:e.total+1});case Object(f.getType)(jt.e):return Object(H.a)({},e,{searchQuery:t.payload});default:return e}},roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Nt.d.success):var n=t.payload,r=n.total,a=n.roles;return Object(H.a)({},e,{roles:a.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n.toString(),t))},{}),total:r});case Object(f.getType)(Nt.f.success):case Object(f.getType)(Nt.g.success):case Object(f.getType)(Nt.b.success):var c=t.type===Object(f.getType)(Nt.f.success)||t.type===Object(f.getType)(Nt.g.success)?t.payload.role:t.payload,o=Object.entries(e.roles).find(function(e){var t=Object(_n.a)(e,2);return t[0],t[1].role===c.role}),i=o?Object(H.a)({},e.roles,Object(_t.a)({},o[0],c)):Object.entries(e.roles).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},Number(r)+1,a))},{0:c});return Object(H.a)({},e,{roles:i,total:o?e.total:e.total+1});case Object(f.getType)(Nt.c.success):var s=t.payload,l=s.role,u=s.users;return Object(H.a)({},e,{roleUsers:Object(H.a)({},e.roleUsers,Object(_t.a)({},l,u))});case Object(f.getType)(Nt.e.success):var d=t.payload;return Object(H.a)({},e,{roleUsers:Object(H.a)({},e.roleUsers,d)});case Object(f.getType)(Nt.a.success):var p=t.payload,m=Object.entries(e.roles).reduce(function(e,t){var n,r=Object(_n.a)(e,2),a=r[0],c=r[1],o=Object(_n.a)(t,2),i=o[0],s=o[1];if(c<p.length&&(n=s,p.some(function(e){return e.role===n.role})))return[Object(H.a)({},a),c+1];var l=String(Number(i)-c);return[Object(H.a)({},a,Object(_t.a)({},l,s)),c]},[{},0]),b=Object(_n.a)(m,2),g=b[0],h=b[1];return Object(H.a)({},e,{roles:g,total:e.total-h});default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(Qt.f.request):return Object(H.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(Qt.f.success):var n=t.payload,r=n.stories,a=n.total,c=n.offset,o=a>=e.total?e.stories:{},i=c||0,s=r.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+i,t))},o);return Object(H.a)({},e,{stories:s,total:a,loading:!1});case Object(f.getType)(Qt.f.failure):return Object(H.a)({},e,{loading:!1,error:t.payload});case Object(f.getType)(Qt.g.success):return Object(H.a)({},e,{visualization:t.payload});case Object(f.getType)(Qt.m.success):var l=t.payload;return Object(H.a)({},e,{stories:Object.entries(e.stories).map(function(e){var t=Object(_n.a)(e,2),n=t[0],r=t[1];return[n,r.id!==l.id?r:l]}).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},r,a))},{})});case Object(f.getType)(Qt.i.success):var u=Array.isArray(t.payload)?t.payload:[t.payload],d=Object(H.a)({},u.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n.toString(),t))},{}),Object(Nn.reduce)(e.stories,function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},(Number(n)+u.length).toString(),t))},{}));return Object(H.a)({},e,{stories:d});case Object(f.getType)(Qt.c):return Object(H.a)({},e,{selectedStories:t.payload});case Object(f.getType)(Qt.j):return Object(H.a)({},e,{searchQuery:t.payload});case Object(f.getType)(Qt.k):return Object(H.a)({},e,{shouldReplaceStories:t.payload});case Object(f.getType)(Qt.l):return Object(H.a)({},e,{storiesToConfirm:t.payload});default:return e}},suggestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(dn.d.request):return Object(H.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(dn.d.success):var n=t.payload,r=n.suggestions,a=n.total,c=n.offset,o=a>=e.total?e.suggestions:{},i=c||0,s=r.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+i,t))},o);return Object(H.a)({},e,{loading:!1,suggestions:s,total:a});case Object(f.getType)(dn.d.failure):return Object(H.a)({},e,{error:t.payload,loading:!1});case Object(f.getType)(dn.e.success):var l=t.payload,u=Object(H.a)({0:l},Object(Nn.reduce)(e.suggestions,function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},(Number(n)+1).toString(),t))},{}));return Object(H.a)({},e,{suggestions:u,total:e.total+1});case Object(f.getType)(W.l.success):case Object(f.getType)(dn.c.success):var d=t.type===Object(f.getType)(W.l.success),p=Array.isArray(t.payload)?t.payload:[t.payload],m=Object.entries(e.suggestions).reduce(function(e,t){var n,r,a=Object(_n.a)(e,2),c=a[0],o=a[1],i=Object(_n.a)(t,2),s=i[0],l=i[1];if(o<p.length&&(n=l,r=p,d?r.some(function(e){return n.user_input.text===e.text}):r.some(function(e){return n.id===e.id})))return[Object(H.a)({},c),o+1];var u=String(Number(s)-o);return[Object(H.a)({},c,Object(_t.a)({},u,l)),o]},[{},0]),b=Object(_n.a)(m,2),g=b[0],h=b[1];return Object(H.a)({},e,{suggestions:g,total:e.total-h});case Object(f.getType)(dn.a):var v=t.payload,E=Object(H.a)({},v,{isDirty:!0}),O=Object(Nn.findKey)(e.suggestions,function(e){return e.id===E.id});return Object(H.a)({},e,{suggestions:O?Object(H.a)({},e.suggestions,Object(_t.a)({},O,E)):e.suggestions});case Object(f.getType)(dn.b.success):return Object(H.a)({},e,{draftSuggestionExists:t.payload});case Object(f.getType)(dn.f):return Object(H.a)({},e,{searchQuery:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(f.getType)(yn.c.request):return Object(H.a)({},e,{loading:!0,searchQuery:t.payload.search});case Object(f.getType)(yn.c.success):var n=t.payload,r=n.users,a=n.total,c=n.offset,o=n.search,i=a>=e.total?e.users:{},s=c||0,l=r.reduce(function(e,t,n){return Object(H.a)({},e,Object(_t.a)({},n+s,t))},i);return Object(H.a)({},e,{users:l,unfilteredTotal:""===o?a:e.unfilteredTotal,total:r.length,loading:!1});case Object(f.getType)(Nt.e.success):var u=Object.entries(t.payload).map(function(e){var t=Object(_n.a)(e,2);return[t[0],t[1].length]}).reduce(function(e,t){var n=Object(_n.a)(t,2),r=n[0],a=n[1];return Object(H.a)({},e,Object(_t.a)({},r,a))},{});return Object(H.a)({},e,{roleTotals:Object(H.a)({},e.roleTotals,u)});case Object(f.getType)(yn.e.request):case Object(f.getType)(yn.b.success):var d=t.payload,p=d.user,m=d.roles,b="string"===typeof p?p:p.username;return Object(H.a)({},e,{userRoles:Object(H.a)({},e.userRoles,Object(_t.a)({},b,m))});case Object(f.getType)(yn.d.success):var g=t.payload;return Object(H.a)({},e,{userRoles:Object(H.a)({},e.userRoles,g)});case Object(f.getType)(yn.f):return Object(H.a)({},e,{searchQuery:t.payload});case Object(f.getType)(yn.a.success):var h=t.payload,v=Object.entries(e.users).reduce(function(e,t){var n,r=Object(_n.a)(e,2),a=r[0],c=r[1],o=Object(_n.a)(t,2),i=o[0],s=o[1];if(c<h.length&&(n=s,h.some(function(e){return e.username===n.username})))return[Object(H.a)({},a),c+1];var l=String(Number(i)-c);return[Object(H.a)({},a,Object(_t.a)({},l,s)),c]},[{},0]),E=Object(_n.a)(v,2),O=E[0],x=E[1];return Object(H.a)({},e,{users:O,unfilteredTotal:e.unfilteredTotal-x,total:e.total-x});default:return e}}},Xn=Object(r.c)(Kn),Jn=(In.a,Fn.b,Un.a,n(297)),Zn=n.n(Jn);n.d(t,"b",function(){return er});var $n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,er=Object(s.a)();t.a=function(e){var t=Object(a.a)({context:{history:e}}),n=[er.middleware,t],o=$n(function(e){return Zn.a.enhancer({params:{q:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case"/data":case"/data/new":return t.suggestions.searchQuery;case"/data/training-data":return t.examples.searchQuery;case"/responses":return t.responses.searchQuery;case"/users":return t.users.searchQuery;default:return""}},action:function(t){switch(e.location.pathname){case"/data":case"/data/new":return Object(dn.f)(t);case"/data/training-data":return Object(W.m)(t);case"/responses":return Object(jt.e)(t);case"/users":return Object(yn.f)(t);default:return null}},defaultValue:""}},initialTruth:"location",replaceState:!0,history:e})}(e),r.a.apply(void 0,n)),s=Object(c.b)({key:"root",storage:i.a,whitelist:["auth"]},Xn),l=Object(r.e)(s,o);return Rn.forEach(function(e){return t.run(e)}),{persistor:Object(c.c)(l),store:l}}},86:function(e,t,n){"use strict";var r=n(0),a=n(2),c=n(68),o=n(28),i=n(20);t.a=r.memo(function(e){var t=e.p,n=e.name,s=e.items,l=e.checkedItems,u=e.onChange,d=e.placeholder;return r.createElement(a.Flex,{flexDirection:"column",style:{height:"100%",overflow:"hidden"}},r.createElement(a.Box,{p:t,pb:0},r.createElement(o.a,{variant:4},n," (",s.length,")")),r.createElement(a.Box,{px:t,pt:1,style:{height:"100%",overflow:"auto"}},0===s.length&&d,s.map(function(e){var t=l.indexOf(e);return r.createElement(a.Flex,{key:e,as:"label",my:20,alignItems:"center"},r.createElement(c.a,{onChange:function(){return u(t>=0?l.slice(0,t).concat(l.slice(t+1)):l.concat([e]))},checked:t>=0}),r.createElement(i.a,{ml:"12px",variant:"body.secondary",lineHeight:"inherit"},e))})))})},94:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(29),a=n(27),c=n(9),o=n(4),i=n(1),s=n(47),l=n(62),u=n(296),d=n.n(u),f=n(163),p=n(14),m=n(23),b={intents:[],entities:[],actions:[],policies:[],date:{from:null,to:null},confidence:null,minimumMessages:null,flaggedOnly:!1},g={actions:[],awaitingResponse:!1,conversations:{},conversationEvents:{},conversationsStatistics:null,draftFilter:b,entities:[],environment:"production",userEnvironment:"production",error:null,fastRefreshes:0,filter:b,intents:[],loading:{conversation:!1,conversations:!1},policies:[],total:0,selectedIntent:{conversationId:null,intent:null,timestamp:null},chatToken:null,temporaryConversationId:d()(),botName:null,botDescription:null};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(i.getType)(m.h):return g;case Object(i.getType)(p.f.request):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversation:!0})});case Object(i.getType)(p.f.failure):return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversation:!1}),error:t.payload});case Object(i.getType)(p.f.success):var n=t.payload,u=n.conversation,d=u.events,b=u.sender_id,h=n.currentUser,v=e.conversationEvents,E=e.environment,O=e.userEnvironment,x=v[b]||[];if(x.length>0&&d.length>0&&(!h||O===E)&&d[d.length-1].timestamp<=x[x.length-1].timestamp)return e;var y=d.slice(-1)[0],j=!y||"action"===y.event&&"action_listen"===y.name,C=e.fastRefreshes>l.c,w=d.reduceRight(function(e,t,n){var r=Object(c.a)(e,2),i=r[0],s=r[1];return[[].concat(Object(a.a)(i.slice(0,n)),[Object(o.a)({},t,{nextRestart:s})],Object(a.a)(i.slice(n+1))),"restart"===t.event?t.timestamp:s]},[d,null]),S=Object(c.a)(w,1)[0];return Object(o.a)({},e,{conversationEvents:Object(o.a)({},v,Object(r.a)({},b,S)),error:null,userEnvironment:E,loading:Object(o.a)({},e.loading,{conversation:!1}),awaitingResponse:!j&&!C,fastRefreshes:j?0:e.fastRefreshes+(C?0:1)});case Object(i.getType)(p.n.request):var k=t.payload,T=k.text,A=k.senderId,R=Object(f.a)(T),I=e.conversationEvents,F=I[A]||[],_=Object(s.sortedIndexBy)(F,R,function(e){return e.timestamp});return Object(o.a)({},e,{conversationEvents:Object(o.a)({},I,Object(r.a)({},A,[].concat(Object(a.a)(F.slice(0,_)),[R],Object(a.a)(F.slice(_+1)))))});case Object(i.getType)(p.n.success):var N=t.payload,M=N.message,L=N.senderId,D=e.conversationEvents,U=D[L]||[],P=Object(s.sortedLastIndexBy)(U,M,function(e){return Object(s.isEqual)(e,M)});return P<0?e:Object(o.a)({},e,{awaitingResponse:!0,conversationEvents:Object(o.a)({},D,Object(r.a)({},L,[].concat(Object(a.a)(U.slice(0,P)),Object(a.a)(U.slice(P+1)))))});case Object(i.getType)(p.n.failure):var H=t.payload,q=H.message,G=H.senderId,B=e.conversationEvents,V=B[G]||[];return Object(o.a)({},e,{awaitingResponse:!1,conversationEvents:Object(o.a)({},B,Object(r.a)({},G,V.filter(function(e){return!Object(s.isEqual)(e,q)})))});case Object(i.getType)(p.r.success):case Object(i.getType)(p.m.success):var z=t.type===Object(i.getType)(p.m.success),W=t.payload,Y=W.conversationId,Q=W.timestamp,K=e.conversationEvents,X=K[Y]||[],J=X.findIndex(function(e){return e.timestamp===Q}),Z=X[J];return Object(o.a)({},e,{conversations:Object(s.mapValues)(e.conversations,function(e){return e.sender_id!==Y?e:Object(o.a)({},e,{flagged_messages:z?(e.flagged_messages||[]).concat(Z):(e.flagged_messages||[]).filter(function(e){return e.timestamp!==Q})})}),conversationEvents:Object(o.a)({},K,Object(r.a)({},Y,X.map(function(e){return e.timestamp!==Q?e:Object(o.a)({},e,{is_flagged:z})})))});case Object(i.getType)(p.k.request):var $=t.payload.filter;return Object(o.a)({},e,{loading:Object(o.a)({},e.loading,{conversations:!0}),draftFilter:$,filter:$});case Object(i.getType)(p.k.success):var ee=t.payload,te=ee.conversations,ne=ee.total,re=ee.offset,ae=ne>=e.total?e.conversations:{},ce=re||0,oe=te.reduce(function(e,t,n){return Object(o.a)({},e,Object(r.a)({},n+ce,t))},ae);return Object(o.a)({},e,{conversations:oe,total:ne,loading:Object(o.a)({},e.loading,{conversations:!1})});case Object(i.getType)(p.a):return Object(o.a)({},e,{environment:t.payload});case Object(i.getType)(p.o):return Object(o.a)({},e,{selectedIntent:t.payload});case Object(i.getType)(p.i.success):return Object(o.a)({},e,{intents:t.payload.sort()});case Object(i.getType)(p.h.success):return Object(o.a)({},e,{entities:t.payload.sort()});case Object(i.getType)(p.g.success):return Object(o.a)({},e,{actions:t.payload.sort()});case Object(i.getType)(p.j.success):return Object(o.a)({},e,{policies:t.payload.sort()});case Object(i.getType)(p.e.success):return Object(o.a)({},e,{chatToken:t.payload.chat_token});case Object(i.getType)(p.d.success):return Object(o.a)({},e,{botName:t.payload.bot_name,botDescription:t.payload.description});case Object(i.getType)(p.b):return Object(o.a)({},e,{draftFilter:t.payload});case Object(i.getType)(p.l.success):return Object(o.a)({},e,{conversationsStatistics:t.payload});default:return e}}},99:function(e,t,n){"use strict";var r=n(27),a=n(9),c=n(8),o=n(0),i=n(43),s=(n(285),n(7)),l=n(167),u=n(4),d=n(18),f=n(2),p=n(168),m=n(112),b=n.n(m),g=n(68),h=n(20);function v(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selected,c=e.total;return o.createElement(f.Flex,{bg:"primary_2",width:"100%",alignItems:"center",alignSelf:"stretch"},o.createElement(f.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto"},o.createElement(f.Flex,{alignItems:"center"},o.createElement(f.Box,{flex:"0 1 auto",mr:3},o.createElement("label",null,o.createElement(g.a,{bgChecked:"neutral_0",color:"primary_2",focusBg:"primary_3",checked:!0,partial:a<c,onChange:function(){return n([])}}))),o.createElement(f.Box,{flex:"1"},o.createElement(h.a,{fontWeight:1,color:"neutral_0"},b()(r.toString(),a,!0)," selected")))),o.createElement(f.Box,{flex:"1 0"}),o.createElement(f.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto"},t))}function E(e){var t=e.add,n=e.bulkActions,r=e.buttons,c=void 0===r?[]:r,s=e.filters,l=void 0===s?function(){return null}:s,m=e.filtersOpen,b=e.onChangeFiltersOpen,g=e.onChangeSelected,h=e.onSearch,E=e.quickFilters,O=e.resource,x=e.searchQuery,y=void 0===x?"":x,j=e.selected,C=e.total,w=Object(d.a)(e,["add","bulkActions","buttons","filters","filtersOpen","onChangeFiltersOpen","onChangeSelected","onSearch","quickFilters","resource","searchQuery","selected","total"]),S=w.className,k=w.style,T=o.useState(!1),A=Object(a.a)(T,2),R=A[0],I=A[1],F=o.useCallback(function(e){return j.length>0?o.createElement(f.Box,e,o.createElement(v,{total:C,selected:j.length,onChangeSelected:g,resource:O,actions:n})):t&&R?o.createElement(f.Box,e,t(function(){return I(!1)})):Object(i.h)(e)},[j,C,g,O,n,t,R,I]);return o.createElement(o.Fragment,null,o.createElement(p.a,{adding:R,buttons:c,className:S,filters:l,filtersOpen:m,onChangeFiltersOpen:b,onSearch:h,resource:O,searchQuery:y,setAdding:t&&I,style:Object(u.a)({},k,{height:56}),total:C,quickFilters:E}),o.createElement(F,Object.assign({},w,{style:Object(u.a)({},w.style,{height:64}),className:"".concat(w.className," ReactVirtualized__Dimmable").concat(m?"_Dim":"")})))}n.d(t,"a",function(){return x});var O=Object(c.default)(i.g).withConfig({displayName:"Table__StyledTable",componentId:"sc-1t4ind8-0"})(["& .ReactVirtualized{&__Dimmable{&,&_Dim{","}&_Dim{filter:brightness(0.5);}}&__Table{&__header{&Row{&:first-of-type{border-radius:"," "," 0 0;}padding:0 !important;background-color:",";text-transform:none;}&TruncatedText{text-transform:none;font-size:","px;color:",";}}&__headerRow,&__row{box-sizing:border-box;border-bottom:1px solid ",";}&__Grid{background-color:",";outline:none;border-radius:0 0 "," ",";}&__headerColumn:first-of-type,&__rowColumn:first-of-type{margin-left:","px;}&__headerColumn:last-of-type,&__rowColumn:last-of-type{margin-right:","px;}&__row{&ColumnOnHover{visibility:hidden;}&Column_overflow{overflow:visible !important;}&_selected,&:hover{background-color:",";& .ReactVirtualized__Table__rowColumnOnHover{visibility:visible;}}}}}"],l.b,Object(s.themeGet)("radii.large"),Object(s.themeGet)("radii.large"),Object(s.themeGet)("colours.neutral_0"),Object(s.themeGet)("fontSizes.2"),Object(s.themeGet)("colours.neutral_8"),Object(s.themeGet)("colours.neutral_2"),Object(s.themeGet)("colours.neutral_0"),Object(s.themeGet)("radii.large"),Object(s.themeGet)("radii.large"),Object(s.themeGet)("space.4"),Object(s.themeGet)("space.4"),Object(s.themeGet)("colours.neutral_1"));function x(e){var t=e.addRenderer,n=e.bulkActionsRenderer,c=e.buttons,s=void 0===c?[]:c,l=e.children,u=e.data,d=e.disableHeader,f=e.filtersRenderer,p=e.onLoadMoreRows,m=e.onSearch,b=e.quickFilters,g=e.resource,h=e.searchQuery,v=e.total,x=o.useRef(null),y=o.useRef(new i.c({fixedWidth:!0,minHeight:64})),j=Object.keys(u).length,C=u[0]&&u[0].id;o.useEffect(function(){y.current.clearAll()},[j,C]);var w=o.useState(!1),S=Object(a.a)(w,2),k=S[0],T=S[1],A=o.useState([]),R=Object(a.a)(A,2),I=R[0],F=R[1],_=o.useCallback(function(e,t){F(function(n){return t?[].concat(Object(r.a)(n),[e]):n.filter(function(t){return t!==e})})},[F]),N=o.useMemo(function(){return I.map(function(e){return u[e]})},[I,u]),M=o.useCallback(function(e){var t=e.startIndex,n=e.stopIndex;return p?p({search:h||"",offset:t,limit:n-t+1}):new Promise(function(e){return e()})},[h,p]),L=o.useCallback(function(){x.current&&x.current.resetLoadMoreRowsCache()},[x]),D=n&&n({setSelected:F,selected:I,dataSelected:N}),U=(b?56:0)+(m||D?56:0)+64;return o.createElement(i.a,null,function(e){return o.createElement(i.e,{isRowLoaded:function(e){var t=e.index;return void 0!==u[t]},loadMoreRows:M,rowCount:v,ref:x},function(n){var r=n.onRowsRendered,a=n.registerChild;return o.createElement(O,Object.assign({},e,{disableHeader:!!d,headerHeight:U,rowHeight:64,ref:a,rowGetter:function(e){var t=e.index;return u[t]},rowCount:v,onRowsRendered:function(e){r(e)},gridClassName:k?"ReactVirtualized__Dimmable_Dim":"ReactVirtualized__Dimmable",rowClassName:function(e){var t=e.index;return I.includes(t)&&"ReactVirtualized__Table__row_selected"},headerRowRenderer:function(e){return o.createElement(E,Object.assign({add:t,bulkActions:D,buttons:s,filters:f,filtersOpen:k,onChangeFiltersOpen:T,onChangeSelected:F,onSearch:m,quickFilters:b,resource:g,searchQuery:h,selected:I,total:v},e))}}),l({onChangeSelected:_,selected:I,dataSelected:N,onResetCache:L,cache:y.current}))})})}}},[[337,1,2]]]);
//# sourceMappingURL=main.47c8d29b.chunk.js.map